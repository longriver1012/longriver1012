import{r as a,j as s,D as M,c as g}from"./index-Bb-7Eb0M.js";import{I as E}from"./index-CsPyr0-t.js";import"./BaseInput-B7ce96x8.js";import"./useVariants-tvJGGS15.js";import"./EyeOutlined-VQzAg_-b.js";import"./SearchOutlined-C6AoyiIt.js";function H(i){return i?!i.trim():!0}const L=i=>{const e=i.split("/").pop();if(e===void 0||H(e))return"";const c=e.lastIndexOf(".");return c&&c!=-1?e.slice(c+1,e.length):""},k=["jpg","jpeg","png","webp"],b=i=>k.includes(i),j="_item_4xjdi_1",B="_item-cover_4xjdi_10",N="_item-cover-active_4xjdi_26",_="_item-image_4xjdi_29",S="_item-name_4xjdi_36",T="_item-name-active_4xjdi_52",l={item:j,itemCover:B,itemCoverActive:N,itemImage:_,itemName:S,itemNameActive:T},G="data:image/svg+xml,%3csvg%20width='597'%20height='478'%20viewBox='0%200%20597%20478'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2046.286V431.014C0%20456.47%2020.682%20477.297%2045.96%20477.297H550.658C575.936%20477.297%20596.618%20456.47%20596.618%20431.014V122.364C596.618%2096.9081%20575.936%2076.0808%20550.658%2076.0808H324.592C310.804%2076.0808%20297.591%2069.7168%20288.686%2058.7246L256.514%2018.5162C247.897%207.81324%20234.97%201.44932%20221.182%201.16005L46.2472%200.00297717C20.682%20-0.286292%200%2020.5411%200%2046.286Z'%20fill='%230091FF'/%3e%3cpath%20d='M0%20212.783V425.707C0%20454.097%2020.682%20477.325%2045.96%20477.325H550.658C575.936%20477.325%20596.618%20454.097%20596.618%20425.707V81.4798C596.618%2053.0899%20575.936%2029.8618%20550.658%2029.8618H369.116C358.488%2029.8618%20347.859%2034.0558%20339.816%2041.7985L223.48%20150.519C215.15%20158.262%20204.522%20162.456%20193.606%20162.456L46.2472%20160.842C20.682%20160.842%200%20184.071%200%20212.783Z'%20fill='%23B7D9F8'/%3e%3c/svg%3e",I="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1740886943620'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='12284'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M534%20352V136H232v752h560V394H576a42%2042%200%200%201-42-42z'%20fill='%23D9D9D9'%20p-id='12285'%3e%3c/path%3e%3cpath%20d='M854.6%20288.6L639.4%2073.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7%200-32%2014.3-32%2032v832c0%2017.7%2014.3%2032%2032%2032h640c17.7%200%2032-14.3%2032-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602%20137.8L790.2%20326H602V137.8zM792%20888H232V136h302v216a42%2042%200%200%200%2042%2042h216v494z'%20p-id='12286'%3e%3c/path%3e%3c/svg%3e",A="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1740887095606'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17156'%20width='170'%20height='170'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cpath%20d='M648.76544%200c24.40704%200%2047.8208%209.68704%2065.09568%2026.9312l187.61728%20187.21792a92.16%2092.16%200%200%201%2027.05408%2065.2288v120.6272c44.2368%200%2080.09728%2035.85536%2080.10752%2080.08704v319.7952c0%2043.24864-34.3296%2078.6944-77.55776%2080.06656l-2.54976%200.03072v48.00512c0%2053.02272-43.02848%2096-96.12288%2096H191.5904c-53.0944%200-96.12288-42.97728-96.12288-96v-48.00512c-44.2368%200-80.09728-35.85536-80.10752-80.08704V480.1024c0-43.24864%2034.3296-78.6944%2077.55776-80.06656l2.54976-0.04096V96C95.46752%2042.97728%20138.496%200%20191.5904%200h457.17504z%20m183.64416%20879.99488H191.5904v17.28512a30.72%2030.72%200%200%200%2030.72%2030.72h579.3792a30.72%2030.72%200%200%200%2030.72-30.72v-17.28512z%20m-409.088-329.86112H297.984L267.75552%20721.92h38.33856l10.81344-61.68576h81.59232l6.144-34.16064H323.05152l7.12704-40.79616H417.1776l6.144-35.14368z%20m114.03264-0.24576h-84.7872L422.33856%20721.92h87.73632c36.864%200%2059.22816-12.288%2068.32128-40.30464%206.144-19.16928%200.49152-42.02496-19.90656-49.88928%2021.62688-9.33888%2029.98272-25.31328%2029.98272-42.27072%200-26.78784-21.38112-39.56736-51.11808-39.56736z%20m115.75296%200h-42.02496l-0.24576%201.72032%2043.74528%2083.06688-75.44832%2086.016-0.24576%201.2288h46.6944l48.16896-57.01632L703.73376%20721.92h42.51648l0.24576-1.2288-45.21984-83.31264%2075.44832-85.77024%200.24576-1.72032h-44.2368l-49.88928%2059.22816-29.73696-59.22816z%20m-133.44768%2098.79552c14.99136%200%2022.60992%206.88128%2022.60992%2016.95744%200%2013.5168-9.58464%2022.85568-29.24544%2022.85568h-47.18592l7.12704-39.81312h46.6944z%20m12.04224-65.61792c12.288%200%2017.44896%206.144%2017.44896%2013.5168%200%209.09312-8.35584%2020.15232-24.08448%2020.15232h-46.6944l6.144-33.66912h47.18592z%20m71.51616-494.7456H222.3104a30.72%2030.72%200%200%200-30.72%2030.72v280.95488h640.8192v-81.5616h-137.00096c-50.8928-0.01024-92.14976-41.2672-92.16-92.16l-0.03072-137.95328z%20m96.12288%2059.84256v58.91072a15.36%2015.36%200%200%200%2015.36%2015.36h59.0848l-74.4448-74.27072z'%20fill='%238a8a8a'%20p-id='17157'%3e%3c/path%3e%3c/svg%3e",P="/longriver1012/glb-CHfdM5il.svg",y="/longriver1012/obj-BlhbR6Kx.svg",O="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1740886774681'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='11289'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M881.503769%201009.728009a47.58397%2047.58397%200%200%201-33.919979%2014.271991H175.90421c-12.703992%200-24.895984-5.119997-33.919979-14.271991A49.183969%2049.183969%200%200%201%20128.00024%20975.23203V48.76861c0-12.927992%205.023997-25.343984%2014.047991-34.495979A47.58397%2047.58397%200%200%201%20175.93621%200.00064h412.095742c12.767992-0.064%2025.023984%205.023997%2034.079979%2014.143991l259.519838%20263.807835c8.991994%209.183994%2014.015991%2021.663986%2013.951991%2034.623979v662.655585c0%2012.927992-5.055997%2025.343984-14.079991%2034.495979z'%20fill='%23DCF3D1'%20p-id='11290'%3e%3c/path%3e%3cpath%20d='M32.0003%20544.0003h959.9994v319.9998c0%2016.959989-5.055997%2033.279979-14.079991%2045.247972-8.959994%2011.999993-21.183987%2018.751988-33.919979%2018.751988h-863.99946c-12.735992%200-24.959984-6.719996-33.919979-18.751988C37.024297%20897.280079%2032.0003%20880.960089%2032.0003%20864.0001V544.0003z'%20fill='%2352C41A'%20p-id='11291'%3e%3c/path%3e%3cpath%20d='M127.96824%20536.384305v-97.535939L32.0003%20536.384305h95.96794z%20m767.61552%200l0.96-97.535939L991.9997%20536.384305h-96.41594z'%20fill='%23389E0D'%20p-id='11292'%3e%3c/path%3e%3cpath%20d='M895.58376%20319.39244h-259.551838c-26.495983%200-47.99997-21.823986-47.99997-48.767969V0.00064c12.767992-0.064%2025.023984%205.023997%2034.079979%2014.143991l260.031838%20263.807835c8.799995%209.279994%2013.631991%2021.727986%2013.439991%2034.623979v6.815995z'%20fill='%2352C41A'%20opacity='.4'%20p-id='11293'%3e%3c/path%3e%3cpath%20d='M280.000145%20848.00011l4.479997-151.039906%2050.879968%20151.039906h37.759977l50.239968-150.399906%204.799997%20150.399906h43.199973l-14.71999-228.479857h-46.079972l-56.319964%20167.999895-56.319965-167.999895H251.520163L236.800172%20848.00011h43.199973z%20m313.919804%200v-186.879883h62.079961v-41.599974h-168.319895v41.599974h62.079961v186.879883h44.159973z%20m211.519868%200v-41.599974h-84.479948v-186.879883h-44.159972v228.479857h128.63992z'%20fill='%23FFFFFF'%20p-id='11294'%3e%3c/path%3e%3c/svg%3e",R="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1740887007250'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='14135'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M120%20334a40%2040%200%200%201%2040%2040V476h80V374a40%2040%200%201%201%2080%200v284a40%2040%200%201%201-80%200V556H160v102a40%2040%200%201%201-80%200v-284a40%2040%200%200%201%2040-40zM984%20760a40%2040%200%200%201%2040%2040v64c0%2088.224-71.776%20160-160%20160H160c-88.224%200-160-71.776-160-160v-64a40%2040%200%201%201%2080%200v64c0%2044.112%2035.888%2080%2080%2080h704c44.112%200%2080-35.888%2080-80v-64a40%2040%200%200%201%2040-40zM864%200c88.224%200%20160%2071.776%20160%20160v72a40%2040%200%201%201-80%200v-72c0-44.112-35.888-80-80-80H160c-44.112%200-80%2035.888-80%2080v72a40%2040%200%201%201-80%200v-72C0%2071.776%2071.776%200%20160%200h704z%20m78%20460c0%2043.52-22.552%2081.84-56.56%20103.976l49.424%2071.224a40%2040%200%201%201-65.728%2045.6L801.968%20584H780v74a40%2040%200%201%201-80%200V376a40%2040%200%200%201%2040-40h78c68.376%200%20124%2055.624%20124%20124z%20m-124%2044c24.264%200%2044-19.736%2044-44s-19.736-44-44-44H780v88h38zM503%20698H430a40%2040%200%200%201-40-40v-284a40%2040%200%200%201%2040-40h73C574.128%20334%20632%20391.872%20632%20463v106c0%2071.128-57.872%20129-129%20129z%20m-33-284v204h33A49.056%2049.056%200%200%200%20552%20569v-106a49.056%2049.056%200%200%200-49-49H470z'%20fill='%234A90E2'%20p-id='14136'%3e%3c/path%3e%3c/svg%3e",o="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1754736361070'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4982'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M0%200v1024h839.68V839.68h184.32V0H0z'%20fill='%23F45D5D'%20p-id='4983'%3e%3c/path%3e%3cpath%20d='M839.68%201024V839.68h184.32L839.68%201024z'%20fill='%23EA4747'%20p-id='4984'%3e%3c/path%3e%3cpath%20d='M482.3552%20455.68a115.2%20115.2%200%201%201-115.2%20115.2%20115.328%20115.328%200%200%201%20115.2-115.2m0-76.8a192%20192%200%201%200%20192%20192%20192%20192%200%200%200-192-192z'%20fill='%23FFEBEB'%20p-id='4985'%3e%3c/path%3e%3cpath%20d='M488.73728%20251.24736l72.16896-26.26688%20102.1312%20280.6016-72.16896%2026.26816z'%20fill='%23FFEBEB'%20p-id='4986'%3e%3c/path%3e%3cpath%20d='M538.176%20387.0848l52.6848%20144.768L663.04%20505.6a192.4992%20192.4992%200%200%200-124.864-118.5152z'%20fill='%23FFFFFF'%20p-id='4987'%3e%3c/path%3e%3cpath%20d='M733.6448%20271.36l-19.8784%2074.176-211.5584-57.28-13.4784-37.0176%2071.8208-26.2656L733.6448%20271.36z'%20fill='%23FFEBEB'%20p-id='4988'%3e%3c/path%3e%3cpath%20d='M592.8704%20312.8064l-31.9232-87.7184-0.192-0.0512-72.0256%2026.2016%2013.4784%2037.0176%2090.6624%2024.5504z'%20fill='%23FFFFFF'%20p-id='4989'%3e%3c/path%3e%3c/svg%3e",U=[{label:"删除",key:"delete"},{label:"导出",key:"export"}],Q=i=>{const{draggable:r,asset:e,active:c,onClick:w,onDoubleClick:x,onRename:f,onDelete:u,onExport:C,onDragStart:D}=i,h=a.useRef(null),[v,m]=a.useState(!1),[n,p]=a.useState(""),z=a.useMemo(()=>{const t=L(e.name);return e.cover?e.cover:e.type==="folder"?G:b(t)?URL.createObjectURL(e.file):t==="fbx"?A:t==="glb"?P:t==="obj"?y:t==="mtl"?O:t==="hdr"?R:t==="ogg"||t==="mp3"||t==="webm"?o:I},[e]);a.useEffect(()=>{p(e.name)},[e]);const V=()=>{c&&m(!0),setTimeout(()=>{var t;(t=h.current)==null||t.focus()},0)},d=()=>{m(!1),!(!n||n===e.name)&&f(e,n)},F=async({key:t})=>{t==="delete"?u(e):t==="export"&&C(e)};return s.jsx(M,{menu:{items:U,onClick:F},trigger:["contextMenu"],children:s.jsxs("div",{className:l.item,draggable:r,onClick:()=>w(e),onDoubleClick:()=>x(e),onDragStart:D,onContextMenu:t=>t.stopPropagation(),children:[s.jsx("div",{className:g(l.itemCover,{[l.itemCoverActive]:c}),children:s.jsx("img",{draggable:!1,className:l.itemImage,src:z,alt:"cover"})}),s.jsx(E,{ref:h,value:n,style:{display:v?"block":"none"},onChange:t=>p(t.target.value),onBlur:d,onPressEnter:d}),s.jsx("div",{title:e.name,style:{display:v?"none":"block"},className:g(l.itemName,{[l.itemNameActive]:c}),onClick:V,children:e.name})]})})};export{Q as AssetItem};
