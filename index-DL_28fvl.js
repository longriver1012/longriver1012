import{r,j as s,aK as h}from"./index-Bb-7Eb0M.js";import{R as x}from"./DeleteOutlined-DWcWZcSg.js";const g="_container_1hrn4_1",y="_audio_1hrn4_7",n={container:g,audio:y,delete:"_delete_1hrn4_30"},D=["ogg","mp3","webm"],E=l=>{const{value:o,onChange:c,attribute:i}=l,d=r.useRef(null),[p,u]=r.useState();r.useEffect(()=>{if(!o||!i){d.current.load(),u(void 0);return}o&&(async a=>{const t=await h(a);u(t==null?void 0:t.file)})(o)},[o,i]);const f=()=>c(""),m=e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"},_=async e=>{e.preventDefault(),e.stopPropagation();const a=e.dataTransfer.getData("text");try{const t=JSON.parse(a);if(!t||!D.includes(t.type))return;c(t.item.code)}catch(t){console.error(t)}};return s.jsxs("div",{className:n.container,onDragOver:m,onDrop:_,children:[s.jsx("audio",{ref:d,className:n.audio,controls:!0,src:p}),s.jsx(x,{className:n.delete,onClick:f})]})};export{E as AudioWrap};
