import{r as n,I as _,g as P,j as e,B as i,c1 as k,c2 as S,c3 as R,c4 as $,c5 as D,c6 as E,c7 as I}from"./index-Bb-7Eb0M.js";import{s as N}from"./service-CAn2CIbF.js";import{CreateProjectModal as G}from"./index-BrhPlfsM.js";import{ProjectItem as M}from"./index-DxHzNbCP.js";import{S as O}from"./index-CI8PfZ9W.js";import"./index-FJVxShW2.js";import"./row-oUhK5knE.js";import"./index-4nTUrSXL.js";import"./index-CsPyr0-t.js";import"./BaseInput-B7ce96x8.js";import"./useVariants-tvJGGS15.js";import"./EyeOutlined-VQzAg_-b.js";import"./SearchOutlined-C6AoyiIt.js";var Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]},name:"github",theme:"outlined"},z=function(r,a){return n.createElement(_,P({},r,{ref:a,icon:Y}))},A=n.forwardRef(z);const B="_title-container_121nn_1",H="_title_121nn_1",V="_container_121nn_12",q="_body_121nn_18",F="_projects_121nn_38",s={titleContainer:B,title:H,container:V,body:q,projects:F},J=[{label:"本地服务",value:"local"},{label:"远端服务",value:"remote"}],it=()=>{const[c,r]=n.useState([]),[a,l]=n.useState(!1),[d,p]=n.useState(""),{service:m,setService:j}=N(),o=async()=>{const t=await k();r(t)};n.useEffect(()=>{o()},[]);const h=t=>{window.open(`#/editor?id=${t.code}`,`#/editor?id=${t.code}`)},v=async t=>{await I(t.code),await o()},u=()=>{l(!0)},x=t=>{o(),window.open(`#/editor?id=${t}`,`#/editor?id=${t}`)},g=t=>{j(t),o()},y=async()=>{await S(),await o()},C=async()=>{const t=await R(c.map(w=>w.code)),b=$().format("YYYY-MM-DD HH-mm-ss");D(t,`projects-${b}.zip`)},f=async t=>{await E(t),await o()};return e.jsxs("div",{className:s.container,children:[e.jsxs("div",{className:s.titleContainer,children:[e.jsx("div",{className:s.title,children:"项目"}),e.jsxs("div",{children:[e.jsx(i,{type:"link",icon:e.jsx(A,{style:{fontSize:20,marginRight:8,color:"#fff",verticalAlign:"-0.25rem"}}),onClick:()=>window.open("https://github.com/longriver1012/visual-engine","_blank")}),e.jsx(O,{options:J,style:{width:"100px",marginRight:8},value:m,onChange:g}),e.jsx(i,{style:{marginRight:8},onClick:y,children:"导入项目"}),e.jsx(i,{style:{marginRight:8},onClick:C,children:"导出项目"}),e.jsx(i,{type:"primary",style:{marginRight:8},onClick:u,children:"新建项目"})]})]}),e.jsx("div",{className:s.body,children:e.jsx("div",{className:s.projects,children:c.map(t=>e.jsx(M,{item:t,actived:d,onClick:()=>p(t.code),onDoubleClick:()=>h(t),onDelete:()=>v(t),onCopy:f},t.code))})}),e.jsx(G,{visible:a,setVisible:l,onConfirm:x})]})};export{it as ProjectGallery};
