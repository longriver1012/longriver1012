var qc=Object.defineProperty;var Xc=(e,t,n)=>t in e?qc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var M=(e,t,n)=>Xc(e,typeof t!="symbol"?t+"":t,n);import{r as c,c as pe,W as V,_ as on,a as ge,K as we,w as Yc,b as oe,d as Zr,p as qn,F as Zc,e as k,f as Xe,g as _t,T as Qc,h as Jc,i as Ze,j as tn,k as Us,u as eu,l as vn,m as an,R as qs,n as qt,o as fr,q as pr,s as tu,t as $n,v as Sa,x as Xs,y as Xn,z as nu,A as Qr,B as Ro,C as ir,D as In,E as rn,G as dn,H as Do,I as Ni,J as Mi,L as cn,M as ru,N as ou,O as au,P as iu,Q as Eo,S as ae,U as To,V as za,X as Zn,Y as su,Z as lu,$ as Ys,a0 as Zs,a1 as _o,a2 as dr,a3 as Jr,a4 as Rr,a5 as Dr,a6 as Qs,a7 as No,a8 as ja,a9 as cu,aa as uu,ab as du,ac as hu,ad as fu,ae as pu,af as Js,ag as Ur,ah as el,ai as gu,aj as mu,ak as Ba,al as tl,am as vu,an as yu,ao as Ha,ap as Va,aq as nl,ar as Uo,as as Ca,at as bu,au as Su,av as be,aw as Cu,ax as F,ay as Ka,az as Fa,aA as xu,aB as wu,aC as Eu,aD as Nu}from"./index-__Usss8N.js";import{g as rl,a as Mu,b as $u,d as Iu,u as Ou,O as $i,V as Ft,C as fo,R as Wa,c as Mo,e as Au,f as Pu,M as qo,S as br,h as Ru,Q as Xo,E as Sr,i as ol,j as Du,k as Tu,l as _u,m as rt,n as nn,o as po,p as ku,P as Tr,q as al,B as ko,r as Bn,s as xa,t as Ga,v as Lu,w as zu,T as Ot,x as Ii,y as $o,z as ju,A as gr,D as il,F as _r,G as lt,H as _n,I as Q,J as yn,K as Tt,L as ut,N as dt,U as ht,W as ft,X as kn,Y as $t,Z as bn,_ as Bu,$ as jt,a0 as Bt,a1 as Ht,a2 as Vt,a3 as Yn,a4 as Hu,a5 as Ar,a6 as Vu,a7 as Ku,a8 as Fu,a9 as Wu,aa as Ua,ab as kr,ac as sl,ad as vt,ae as Gu,af as Uu,ag as Yo,ah as qu,ai as Xu,aj as Br,ak as Oi,al as Yu,am as ll,an as Zu,ao as Zo,ap as Qu,aq as Ju,ar as ed,as as td,at as nd,au as rd,av as od,aw as ad,ax as id,ay as sd,az as ld,aA as cd,aB as ud,aC as dd,aD as qa,aE as Pr,aF as So,aG as hd,aH as fd,aI as pd,aJ as gd,aK as md,aL as vd}from"./useSize-CrGhzOM0.js";import{R as yd,u as Xa,g as qr,a as Ya,B as bd,t as Sd,i as Cd,b as xd,c as cl,d as wd,e as Ed,f as Nd,h as Md,j as $d,k as Id,l as Od,I as Lo,F as zr,M as ul,m as Za,C as sr}from"./index-DFbXQ-OD.js";import{n as Ad,g as Pd,u as Rd}from"./project-tpiy63pn.js";var zo=function(t){var n=t.className,r=t.customizeIcon,o=t.customizeIconProps,a=t.children,s=t.onMouseDown,i=t.onClick,l=typeof r=="function"?r(o):r;return c.createElement("span",{className:n,onMouseDown:function(d){d.preventDefault(),s==null||s(d)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:i,"aria-hidden":!0},l!==void 0?l:c.createElement("span",{className:pe(n.split(/\s+/).map(function(u){return"".concat(u,"-icon")}))},a))},Dd=function(t,n,r,o,a){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,i=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,u=V.useMemo(function(){if(on(o)==="object")return o.clearIcon;if(a)return a},[o,a]),d=V.useMemo(function(){return!!(!s&&o&&(r.length||i)&&!(l==="combobox"&&i===""))},[o,s,r.length,i,l]);return{allowClear:d,clearIcon:V.createElement(zo,{className:"".concat(t,"-clear"),onMouseDown:n,customizeIcon:u},"×")}},dl=c.createContext(null);function hl(){return c.useContext(dl)}function Td(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,t=c.useState(!1),n=ge(t,2),r=n[0],o=n[1],a=c.useRef(null),s=function(){window.clearTimeout(a.current)};c.useEffect(function(){return s},[]);var i=function(u,d){s(),a.current=window.setTimeout(function(){o(u),d&&d()},e)};return[r,i,s]}function fl(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,t=c.useRef(null),n=c.useRef(null);c.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(o){(o||t.current===null)&&(t.current=o),window.clearTimeout(n.current),n.current=window.setTimeout(function(){t.current=null},e)}return[function(){return t.current},r]}function _d(e,t,n,r){var o=c.useRef(null);o.current={open:t,triggerOpen:n,customizedTrigger:r},c.useEffect(function(){function a(s){var i;if(!((i=o.current)!==null&&i!==void 0&&i.customizedTrigger)){var l=s.target;l.shadowRoot&&s.composed&&(l=s.composedPath()[0]||l),o.current.open&&e().filter(function(u){return u}).every(function(u){return!u.contains(l)&&u!==l})&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",a),function(){return window.removeEventListener("mousedown",a)}},[])}function kd(e){return![we.ESC,we.SHIFT,we.BACKSPACE,we.TAB,we.WIN_KEY,we.ALT,we.META,we.WIN_KEY_RIGHT,we.CTRL,we.SEMICOLON,we.EQUALS,we.CAPS_LOCK,we.CONTEXT_MENU,we.F1,we.F2,we.F3,we.F4,we.F5,we.F6,we.F7,we.F8,we.F9,we.F10,we.F11,we.F12].includes(e)}var Ld=function(t,n){var r,o=t.prefixCls,a=t.id,s=t.inputElement,i=t.disabled,l=t.tabIndex,u=t.autoFocus,d=t.autoComplete,h=t.editable,p=t.activeDescendantId,f=t.value,v=t.maxLength,m=t.onKeyDown,g=t.onMouseDown,y=t.onChange,b=t.onPaste,S=t.onCompositionStart,C=t.onCompositionEnd,x=t.open,N=t.attrs,w=s||c.createElement("input",null),$=w,P=$.ref,O=$.props,T=O.onKeyDown,A=O.onChange,L=O.onMouseDown,R=O.onCompositionStart,I=O.onCompositionEnd,j=O.style;return Yc(!("maxLength"in w.props)),w=c.cloneElement(w,oe(oe(oe({type:"search"},O),{},{id:a,ref:Zr(n,P),disabled:i,tabIndex:l,autoComplete:d||"off",autoFocus:u,className:pe("".concat(o,"-selection-search-input"),(r=w)===null||r===void 0||(r=r.props)===null||r===void 0?void 0:r.className),role:"combobox","aria-expanded":x||!1,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":x?p:void 0},N),{},{value:h?f:"",maxLength:v,readOnly:!h,unselectable:h?null:"on",style:oe(oe({},j),{},{opacity:h?null:0}),onKeyDown:function(B){m(B),T&&T(B)},onMouseDown:function(B){g(B),L&&L(B)},onChange:function(B){y(B),A&&A(B)},onCompositionStart:function(B){S(B),R&&R(B)},onCompositionEnd:function(B){C(B),I&&I(B)},onPaste:b})),w},pl=c.forwardRef(Ld);function gl(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}var zd=typeof window<"u"&&window.document&&window.document.documentElement,jd=zd;function Bd(e){return e!=null}function Hd(e){return!e&&e!==0}function Ai(e){return["string","number"].includes(on(e))}function ml(e){var t=void 0;return e&&(Ai(e.title)?t=e.title.toString():Ai(e.label)&&(t=e.label.toString())),t}function Vd(e,t){jd?c.useLayoutEffect(e,t):c.useEffect(e,t)}function Kd(e){var t;return(t=e.key)!==null&&t!==void 0?t:e.value}var Pi=function(t){t.preventDefault(),t.stopPropagation()},Fd=function(t){var n=t.id,r=t.prefixCls,o=t.values,a=t.open,s=t.searchValue,i=t.autoClearSearchValue,l=t.inputRef,u=t.placeholder,d=t.disabled,h=t.mode,p=t.showSearch,f=t.autoFocus,v=t.autoComplete,m=t.activeDescendantId,g=t.tabIndex,y=t.removeIcon,b=t.maxTagCount,S=t.maxTagTextLength,C=t.maxTagPlaceholder,x=C===void 0?function(fe){return"+ ".concat(fe.length," ...")}:C,N=t.tagRender,w=t.onToggleOpen,$=t.onRemove,P=t.onInputChange,O=t.onInputPaste,T=t.onInputKeyDown,A=t.onInputMouseDown,L=t.onInputCompositionStart,R=t.onInputCompositionEnd,I=c.useRef(null),j=c.useState(0),z=ge(j,2),B=z[0],q=z[1],ne=c.useState(!1),G=ge(ne,2),te=G[0],X=G[1],J="".concat(r,"-selection"),K=a||h==="multiple"&&i===!1||h==="tags"?s:"",he=h==="tags"||h==="multiple"&&i===!1||p&&(a||te);Vd(function(){q(I.current.scrollWidth)},[K]);var de=function(ce,ue,Ee,Ce,Oe){return c.createElement("span",{title:ml(ce),className:pe("".concat(J,"-item"),k({},"".concat(J,"-item-disabled"),Ee))},c.createElement("span",{className:"".concat(J,"-item-content")},ue),Ce&&c.createElement(zo,{className:"".concat(J,"-item-remove"),onMouseDown:Pi,onClick:Oe,customizeIcon:y},"×"))},U=function(ce,ue,Ee,Ce,Oe,Ne){var Se=function(Te){Pi(Te),w(!a)};return c.createElement("span",{onMouseDown:Se},N({label:ue,value:ce,disabled:Ee,closable:Ce,onClose:Oe,isMaxTag:!!Ne}))},Z=function(ce){var ue=ce.disabled,Ee=ce.label,Ce=ce.value,Oe=!d&&!ue,Ne=Ee;if(typeof S=="number"&&(typeof Ee=="string"||typeof Ee=="number")){var Se=String(Ne);Se.length>S&&(Ne="".concat(Se.slice(0,S),"..."))}var _e=function(Be){Be&&Be.stopPropagation(),$(ce)};return typeof N=="function"?U(Ce,Ne,ue,Oe,_e):de(ce,Ne,ue,Oe,_e)},H=function(ce){var ue=typeof x=="function"?x(ce):x;return typeof N=="function"?U(void 0,ue,!1,!1,void 0,!0):de({title:ue},ue,!1)},W=c.createElement("div",{className:"".concat(J,"-search"),style:{width:B},onFocus:function(){X(!0)},onBlur:function(){X(!1)}},c.createElement(pl,{ref:l,open:a,prefixCls:r,id:n,inputElement:null,disabled:d,autoFocus:f,autoComplete:v,editable:he,activeDescendantId:m,value:K,onKeyDown:T,onMouseDown:A,onChange:P,onPaste:O,onCompositionStart:L,onCompositionEnd:R,tabIndex:g,attrs:qn(t,!0)}),c.createElement("span",{ref:I,className:"".concat(J,"-search-mirror"),"aria-hidden":!0},K," ")),se=c.createElement(Zc,{prefixCls:"".concat(J,"-overflow"),data:o,renderItem:Z,renderRest:H,suffix:W,itemKey:Kd,maxCount:b});return c.createElement(c.Fragment,null,se,!o.length&&!K&&c.createElement("span",{className:"".concat(J,"-placeholder")},u))},Wd=function(t){var n=t.inputElement,r=t.prefixCls,o=t.id,a=t.inputRef,s=t.disabled,i=t.autoFocus,l=t.autoComplete,u=t.activeDescendantId,d=t.mode,h=t.open,p=t.values,f=t.placeholder,v=t.tabIndex,m=t.showSearch,g=t.searchValue,y=t.activeValue,b=t.maxLength,S=t.onInputKeyDown,C=t.onInputMouseDown,x=t.onInputChange,N=t.onInputPaste,w=t.onInputCompositionStart,$=t.onInputCompositionEnd,P=t.title,O=c.useState(!1),T=ge(O,2),A=T[0],L=T[1],R=d==="combobox",I=R||m,j=p[0],z=g||"";R&&y&&!A&&(z=y),c.useEffect(function(){R&&L(!1)},[R,y]);var B=d!=="combobox"&&!h&&!m?!1:!!z,q=P===void 0?ml(j):P,ne=c.useMemo(function(){return j?null:c.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:B?{visibility:"hidden"}:void 0},f)},[j,B,f,r]);return c.createElement(c.Fragment,null,c.createElement("span",{className:"".concat(r,"-selection-search")},c.createElement(pl,{ref:a,prefixCls:r,id:o,open:h,inputElement:n,disabled:s,autoFocus:i,autoComplete:l,editable:I,activeDescendantId:u,value:z,onKeyDown:S,onMouseDown:C,onChange:function(te){L(!0),x(te)},onPaste:N,onCompositionStart:w,onCompositionEnd:$,tabIndex:v,attrs:qn(t,!0),maxLength:R?b:void 0})),!R&&j?c.createElement("span",{className:"".concat(r,"-selection-item"),title:q,style:B?{visibility:"hidden"}:void 0},j.label):null,ne)},Gd=function(t,n){var r=c.useRef(null),o=c.useRef(!1),a=t.prefixCls,s=t.open,i=t.mode,l=t.showSearch,u=t.tokenWithEnter,d=t.disabled,h=t.autoClearSearchValue,p=t.onSearch,f=t.onSearchSubmit,v=t.onToggleOpen,m=t.onInputKeyDown,g=t.domRef;c.useImperativeHandle(n,function(){return{focus:function(B){r.current.focus(B)},blur:function(){r.current.blur()}}});var y=fl(0),b=ge(y,2),S=b[0],C=b[1],x=function(B){var q=B.which;(q===we.UP||q===we.DOWN)&&B.preventDefault(),m&&m(B),q===we.ENTER&&i==="tags"&&!o.current&&!s&&(f==null||f(B.target.value)),kd(q)&&v(!0)},N=function(){C(!0)},w=c.useRef(null),$=function(B){p(B,!0,o.current)!==!1&&v(!0)},P=function(){o.current=!0},O=function(B){o.current=!1,i!=="combobox"&&$(B.target.value)},T=function(B){var q=B.target.value;if(u&&w.current&&/[\r\n]/.test(w.current)){var ne=w.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");q=q.replace(ne,w.current)}w.current=null,$(q)},A=function(B){var q=B.clipboardData,ne=q==null?void 0:q.getData("text");w.current=ne||""},L=function(B){var q=B.target;if(q!==r.current){var ne=document.body.style.msTouchAction!==void 0;ne?setTimeout(function(){r.current.focus()}):r.current.focus()}},R=function(B){var q=S();B.target!==r.current&&!q&&!(i==="combobox"&&d)&&B.preventDefault(),(i!=="combobox"&&(!l||!q)||!s)&&(s&&h!==!1&&p("",!0,!1),v())},I={inputRef:r,onInputKeyDown:x,onInputMouseDown:N,onInputChange:T,onInputPaste:A,onInputCompositionStart:P,onInputCompositionEnd:O},j=i==="multiple"||i==="tags"?c.createElement(Fd,Xe({},t,I)):c.createElement(Wd,Xe({},t,I));return c.createElement("div",{ref:g,className:"".concat(a,"-selector"),onClick:L,onMouseDown:R},j)},Ud=c.forwardRef(Gd),qd=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Xd=function(t){var n=t===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},Yd=function(t,n){var r=t.prefixCls;t.disabled;var o=t.visible,a=t.children,s=t.popupElement,i=t.animation,l=t.transitionName,u=t.dropdownStyle,d=t.dropdownClassName,h=t.direction,p=h===void 0?"ltr":h,f=t.placement,v=t.builtinPlacements,m=t.dropdownMatchSelectWidth,g=t.dropdownRender,y=t.dropdownAlign,b=t.getPopupContainer,S=t.empty,C=t.getTriggerDOMNode,x=t.onPopupVisibleChange,N=t.onPopupMouseEnter,w=_t(t,qd),$="".concat(r,"-dropdown"),P=s;g&&(P=g(s));var O=c.useMemo(function(){return v||Xd(m)},[v,m]),T=i?"".concat($,"-").concat(i):l,A=typeof m=="number",L=c.useMemo(function(){return A?null:m===!1?"minWidth":"width"},[m,A]),R=u;A&&(R=oe(oe({},R),{},{width:m}));var I=c.useRef(null);return c.useImperativeHandle(n,function(){return{getPopupElement:function(){var z;return(z=I.current)===null||z===void 0?void 0:z.popupElement}}}),c.createElement(Qc,Xe({},w,{showAction:x?["click"]:[],hideAction:x?["click"]:[],popupPlacement:f||(p==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:O,prefixCls:$,popupTransitionName:T,popup:c.createElement("div",{onMouseEnter:N},P),ref:I,stretch:L,popupAlign:y,popupVisible:o,getPopupContainer:b,popupClassName:pe(d,k({},"".concat($,"-empty"),S)),popupStyle:R,getTriggerDOMNode:C,onPopupVisibleChange:x}),a)},Zd=c.forwardRef(Yd);function Ri(e,t){var n=e.key,r;return"value"in e&&(r=e.value),n??(r!==void 0?r:"rc-index-key-".concat(t))}function wa(e){return typeof e<"u"&&!Number.isNaN(e)}function vl(e,t){var n=e||{},r=n.label,o=n.value,a=n.options,s=n.groupLabel,i=r||(t?"children":"label");return{label:i,value:o||"value",options:a||"options",groupLabel:s||i}}function Qd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,o=[],a=vl(n,!1),s=a.label,i=a.value,l=a.options,u=a.groupLabel;function d(h,p){Array.isArray(h)&&h.forEach(function(f){if(p||!(l in f)){var v=f[i];o.push({key:Ri(f,o.length),groupOption:p,data:f,label:f[s],value:v})}else{var m=f[u];m===void 0&&r&&(m=f.label),o.push({key:Ri(f,o.length),group:!0,data:f,label:m}),d(f[l],!0)}})}return d(e,!1),o}function Ea(e){var t=oe({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return tn(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var Jd=function(t,n,r){if(!n||!n.length)return null;var o=!1,a=function i(l,u){var d=Jc(u),h=d[0],p=d.slice(1);if(!h)return[l];var f=l.split(h);return o=o||f.length>1,f.reduce(function(v,m){return[].concat(Ze(v),Ze(i(m,p)))},[]).filter(Boolean)},s=a(t,n);return o?typeof r<"u"?s.slice(0,r):s:null},Qa=c.createContext(null);function eh(e){var t=e.visible,n=e.values;if(!t)return null;var r=50;return c.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,r).map(function(o){var a=o.label,s=o.value;return["number","string"].includes(on(a))?a:s}).join(", ")),n.length>r?", ...":null)}var th=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],nh=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Na=function(t){return t==="tags"||t==="multiple"},yl=c.forwardRef(function(e,t){var n,r=e.id,o=e.prefixCls,a=e.className,s=e.showSearch,i=e.tagRender,l=e.direction,u=e.omitDomProps,d=e.displayValues,h=e.onDisplayValuesChange,p=e.emptyOptions,f=e.notFoundContent,v=f===void 0?"Not Found":f,m=e.onClear,g=e.mode,y=e.disabled,b=e.loading,S=e.getInputElement,C=e.getRawInputElement,x=e.open,N=e.defaultOpen,w=e.onDropdownVisibleChange,$=e.activeValue,P=e.onActiveValueChange,O=e.activeDescendantId,T=e.searchValue,A=e.autoClearSearchValue,L=e.onSearch,R=e.onSearchSplit,I=e.tokenSeparators,j=e.allowClear,z=e.suffixIcon,B=e.clearIcon,q=e.OptionList,ne=e.animation,G=e.transitionName,te=e.dropdownStyle,X=e.dropdownClassName,J=e.dropdownMatchSelectWidth,K=e.dropdownRender,he=e.dropdownAlign,de=e.placement,U=e.builtinPlacements,Z=e.getPopupContainer,H=e.showAction,W=H===void 0?[]:H,se=e.onFocus,fe=e.onBlur,ce=e.onKeyUp,ue=e.onKeyDown,Ee=e.onMouseDown,Ce=_t(e,th),Oe=Na(g),Ne=(s!==void 0?s:Oe)||g==="combobox",Se=oe({},Ce);nh.forEach(function(st){delete Se[st]}),u==null||u.forEach(function(st){delete Se[st]});var _e=c.useState(!1),Te=ge(_e,2),Be=Te[0],Me=Te[1];c.useEffect(function(){Me(Us())},[]);var $e=c.useRef(null),Le=c.useRef(null),Ie=c.useRef(null),me=c.useRef(null),ze=c.useRef(null),ke=c.useRef(!1),Ye=Td(),yt=ge(Ye,3),gt=yt[0],bt=yt[1],We=yt[2];c.useImperativeHandle(t,function(){var st,Fe;return{focus:(st=me.current)===null||st===void 0?void 0:st.focus,blur:(Fe=me.current)===null||Fe===void 0?void 0:Fe.blur,scrollTo:function(Jt){var Kt;return(Kt=ze.current)===null||Kt===void 0?void 0:Kt.scrollTo(Jt)},nativeElement:$e.current||Le.current}});var Ve=c.useMemo(function(){var st;if(g!=="combobox")return T;var Fe=(st=d[0])===null||st===void 0?void 0:st.value;return typeof Fe=="string"||typeof Fe=="number"?String(Fe):""},[T,g,d]),it=g==="combobox"&&typeof S=="function"&&S()||null,Mt=typeof C=="function"&&C(),kt=eu(Le,Mt==null||(n=Mt.props)===null||n===void 0?void 0:n.ref),Pt=c.useState(!1),wt=ge(Pt,2),ve=wt[0],xe=wt[1];vn(function(){xe(!0)},[]);var Ge=an(!1,{defaultValue:N,value:x}),Ae=ge(Ge,2),mt=Ae[0],Rt=Ae[1],nt=ve?mt:!1,hn=!v&&p;(y||hn&&nt&&g==="combobox")&&(nt=!1);var Xt=hn?!1:nt,At=c.useCallback(function(st){var Fe=st!==void 0?st:!nt;y||(Rt(Fe),nt!==Fe&&(w==null||w(Fe)))},[y,nt,Rt,w]),Re=c.useMemo(function(){return(I||[]).some(function(st){return[`
`,`\r
`].includes(st)})},[I]),He=c.useContext(Qa)||{},Pe=He.maxCount,De=He.rawValues,et=function(Fe,Gt,Jt){if(!(Oe&&wa(Pe)&&(De==null?void 0:De.size)>=Pe)){var Kt=!0,Yt=Fe;P==null||P(null);var ct=Jd(Fe,I,wa(Pe)?Pe-De.size:void 0),ot=Jt?null:ct;return g!=="combobox"&&ot&&(Yt="",R==null||R(ot),At(!1),Kt=!1),L&&Ve!==Yt&&L(Yt,{source:Gt?"typing":"effect"}),Kt}},pt=function(Fe){!Fe||!Fe.trim()||L(Fe,{source:"submit"})};c.useEffect(function(){!nt&&!Oe&&g!=="combobox"&&et("",!1,!1)},[nt]),c.useEffect(function(){mt&&y&&Rt(!1),y&&!ke.current&&bt(!1)},[y]);var Et=fl(),Lt=ge(Et,2),zt=Lt[0],It=Lt[1],Wt=c.useRef(!1),Qe=function(Fe){var Gt=zt(),Jt=Fe.key,Kt=Jt==="Enter";if(Kt&&(g!=="combobox"&&Fe.preventDefault(),nt||At(!0)),It(!!Ve),Jt==="Backspace"&&!Gt&&Oe&&!Ve&&d.length){for(var Yt=Ze(d),ct=null,ot=Yt.length-1;ot>=0;ot-=1){var wn=Yt[ot];if(!wn.disabled){Yt.splice(ot,1),ct=wn;break}}ct&&h(Yt,{type:"remove",values:[ct]})}for(var ln=arguments.length,On=new Array(ln>1?ln-1:0),en=1;en<ln;en++)On[en-1]=arguments[en];if(nt&&(!Kt||!Wt.current)){var pn;(pn=ze.current)===null||pn===void 0||pn.onKeyDown.apply(pn,[Fe].concat(On))}Kt&&(Wt.current=!0),ue==null||ue.apply(void 0,[Fe].concat(On))},Ue=function(Fe){for(var Gt=arguments.length,Jt=new Array(Gt>1?Gt-1:0),Kt=1;Kt<Gt;Kt++)Jt[Kt-1]=arguments[Kt];if(nt){var Yt;(Yt=ze.current)===null||Yt===void 0||Yt.onKeyUp.apply(Yt,[Fe].concat(Jt))}Fe.key==="Enter"&&(Wt.current=!1),ce==null||ce.apply(void 0,[Fe].concat(Jt))},at=function(Fe){var Gt=d.filter(function(Jt){return Jt!==Fe});h(Gt,{type:"remove",values:[Fe]})},Je=c.useRef(!1),St=function(){bt(!0),y||(se&&!Je.current&&se.apply(void 0,arguments),W.includes("focus")&&At(!0)),Je.current=!0},ye=function(){ke.current=!0,bt(!1,function(){Je.current=!1,ke.current=!1,At(!1)}),!y&&(Ve&&(g==="tags"?L(Ve,{source:"submit"}):g==="multiple"&&L("",{source:"blur"})),fe&&fe.apply(void 0,arguments))},ie=[];c.useEffect(function(){return function(){ie.forEach(function(st){return clearTimeout(st)}),ie.splice(0,ie.length)}},[]);var re=function(Fe){var Gt,Jt=Fe.target,Kt=(Gt=Ie.current)===null||Gt===void 0?void 0:Gt.getPopupElement();if(Kt&&Kt.contains(Jt)){var Yt=setTimeout(function(){var ln=ie.indexOf(Yt);if(ln!==-1&&ie.splice(ln,1),We(),!Be&&!Kt.contains(document.activeElement)){var On;(On=me.current)===null||On===void 0||On.focus()}});ie.push(Yt)}for(var ct=arguments.length,ot=new Array(ct>1?ct-1:0),wn=1;wn<ct;wn++)ot[wn-1]=arguments[wn];Ee==null||Ee.apply(void 0,[Fe].concat(ot))},E=c.useState({}),_=ge(E,2),Y=_[1];function le(){Y({})}var qe;Mt&&(qe=function(Fe){At(Fe)}),_d(function(){var st;return[$e.current,(st=Ie.current)===null||st===void 0?void 0:st.getPopupElement()]},Xt,At,!!Mt);var je=c.useMemo(function(){return oe(oe({},e),{},{notFoundContent:v,open:nt,triggerOpen:Xt,id:r,showSearch:Ne,multiple:Oe,toggleOpen:At})},[e,v,Xt,nt,r,Ne,Oe,At]),tt=!!z||b,Ke;tt&&(Ke=c.createElement(zo,{className:pe("".concat(o,"-arrow"),k({},"".concat(o,"-arrow-loading"),b)),customizeIcon:z,customizeIconProps:{loading:b,searchValue:Ve,open:nt,focused:gt,showSearch:Ne}}));var Ct=function(){var Fe;m==null||m(),(Fe=me.current)===null||Fe===void 0||Fe.focus(),h([],{type:"clear",values:d}),et("",!1,!1)},Nt=Dd(o,Ct,d,j,B,y,Ve,g),xt=Nt.allowClear,Zt=Nt.clearIcon,fn=c.createElement(q,{ref:ze}),Qt=pe(o,a,k(k(k(k(k(k(k(k(k(k({},"".concat(o,"-focused"),gt),"".concat(o,"-multiple"),Oe),"".concat(o,"-single"),!Oe),"".concat(o,"-allow-clear"),j),"".concat(o,"-show-arrow"),tt),"".concat(o,"-disabled"),y),"".concat(o,"-loading"),b),"".concat(o,"-open"),nt),"".concat(o,"-customize-input"),it),"".concat(o,"-show-search"),Ne)),xn=c.createElement(Zd,{ref:Ie,disabled:y,prefixCls:o,visible:Xt,popupElement:fn,animation:ne,transitionName:G,dropdownStyle:te,dropdownClassName:X,direction:l,dropdownMatchSelectWidth:J,dropdownRender:K,dropdownAlign:he,placement:de,builtinPlacements:U,getPopupContainer:Z,empty:p,getTriggerDOMNode:function(Fe){return Le.current||Fe},onPopupVisibleChange:qe,onPopupMouseEnter:le},Mt?c.cloneElement(Mt,{ref:kt}):c.createElement(Ud,Xe({},e,{domRef:Le,prefixCls:o,inputElement:it,ref:me,id:r,showSearch:Ne,autoClearSearchValue:A,mode:g,activeDescendantId:O,tagRender:i,values:d,open:nt,onToggleOpen:At,activeValue:$,searchValue:Ve,onSearch:et,onSearchSubmit:pt,onRemove:at,tokenWithEnter:Re}))),Tn;return Mt?Tn=xn:Tn=c.createElement("div",Xe({className:Qt},Se,{ref:$e,onMouseDown:re,onKeyDown:Qe,onKeyUp:Ue,onFocus:St,onBlur:ye}),c.createElement(eh,{visible:gt&&!nt,values:d}),xn,Ke,xt&&Zt),c.createElement(dl.Provider,{value:je},Tn)}),Ja=function(){return null};Ja.isSelectOptGroup=!0;var ei=function(){return null};ei.isSelectOption=!0;var bl=c.forwardRef(function(e,t){var n=e.height,r=e.offsetY,o=e.offsetX,a=e.children,s=e.prefixCls,i=e.onInnerResize,l=e.innerProps,u=e.rtl,d=e.extra,h={},p={display:"flex",flexDirection:"column"};return r!==void 0&&(h={height:n,position:"relative",overflow:"hidden"},p=oe(oe({},p),{},k(k(k(k(k({transform:"translateY(".concat(r,"px)")},u?"marginRight":"marginLeft",-o),"position","absolute"),"left",0),"right",0),"top",0))),c.createElement("div",{style:h},c.createElement(qs,{onResize:function(v){var m=v.offsetHeight;m&&i&&i()}},c.createElement("div",Xe({style:p,className:pe(k({},"".concat(s,"-holder-inner"),s)),ref:t},l),a,d)))});bl.displayName="Filler";function rh(e){var t=e.children,n=e.setRef,r=c.useCallback(function(o){n(o)},[]);return c.cloneElement(t,{ref:r})}function oh(e,t,n,r,o,a,s,i){var l=i.getKey;return e.slice(t,n+1).map(function(u,d){var h=t+d,p=s(u,h,{style:{width:r},offsetX:o}),f=l(u);return c.createElement(rh,{key:f,setRef:function(m){return a(u,m)}},p)})}function ah(e,t,n){var r=e.length,o=t.length,a,s;if(r===0&&o===0)return null;r<o?(a=e,s=t):(a=t,s=e);var i={__EMPTY_ITEM__:!0};function l(v){return v!==void 0?n(v):i}for(var u=null,d=Math.abs(r-o)!==1,h=0;h<s.length;h+=1){var p=l(a[h]),f=l(s[h]);if(p!==f){u=h,d=d||p!==l(s[h+1]);break}}return u===null?null:{index:u,multiple:d}}function ih(e,t,n){var r=c.useState(e),o=ge(r,2),a=o[0],s=o[1],i=c.useState(null),l=ge(i,2),u=l[0],d=l[1];return c.useEffect(function(){var h=ah(a||[],e||[],t);(h==null?void 0:h.index)!==void 0&&d(e[h.index]),s(e)},[e]),[u]}var Di=(typeof navigator>"u"?"undefined":on(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const Sl=function(e,t,n,r){var o=c.useRef(!1),a=c.useRef(null);function s(){clearTimeout(a.current),o.current=!0,a.current=setTimeout(function(){o.current=!1},50)}var i=c.useRef({top:e,bottom:t,left:n,right:r});return i.current.top=e,i.current.bottom=t,i.current.left=n,i.current.right=r,function(l,u){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=l?u<0&&i.current.left||u>0&&i.current.right:u<0&&i.current.top||u>0&&i.current.bottom;return d&&h?(clearTimeout(a.current),o.current=!1):(!h||o.current)&&s(),!o.current&&h}};function sh(e,t,n,r,o,a,s){var i=c.useRef(0),l=c.useRef(null),u=c.useRef(null),d=c.useRef(!1),h=Sl(t,n,r,o);function p(b,S){if(qt.cancel(l.current),!h(!1,S)){var C=b;if(!C._virtualHandled)C._virtualHandled=!0;else return;i.current+=S,u.current=S,Di||C.preventDefault(),l.current=qt(function(){var x=d.current?10:1;s(i.current*x,!1),i.current=0})}}function f(b,S){s(S,!0),Di||b.preventDefault()}var v=c.useRef(null),m=c.useRef(null);function g(b){if(e){qt.cancel(m.current),m.current=qt(function(){v.current=null},2);var S=b.deltaX,C=b.deltaY,x=b.shiftKey,N=S,w=C;(v.current==="sx"||!v.current&&x&&C&&!S)&&(N=C,w=0,v.current="sx");var $=Math.abs(N),P=Math.abs(w);v.current===null&&(v.current=a&&$>P?"x":"y"),v.current==="y"?p(b,w):f(b,N)}}function y(b){e&&(d.current=b.detail===u.current)}return[g,y]}function lh(e,t,n,r){var o=c.useMemo(function(){return[new Map,[]]},[e,n.id,r]),a=ge(o,2),s=a[0],i=a[1],l=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,p=s.get(d),f=s.get(h);if(p===void 0||f===void 0)for(var v=e.length,m=i.length;m<v;m+=1){var g,y=e[m],b=t(y);s.set(b,m);var S=(g=n.get(b))!==null&&g!==void 0?g:r;if(i[m]=(i[m-1]||0)+S,b===d&&(p=m),b===h&&(f=m),p!==void 0&&f!==void 0)break}return{top:i[p-1]||0,bottom:i[f]}};return l}var ch=function(){function e(){pr(this,e),k(this,"maps",void 0),k(this,"id",0),k(this,"diffKeys",new Set),this.maps=Object.create(null)}return fr(e,[{key:"set",value:function(n,r){this.maps[n]=r,this.id+=1,this.diffKeys.add(n)}},{key:"get",value:function(n){return this.maps[n]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),e}();function Ti(e){var t=parseFloat(e);return isNaN(t)?0:t}function uh(e,t,n){var r=c.useState(0),o=ge(r,2),a=o[0],s=o[1],i=c.useRef(new Map),l=c.useRef(new ch),u=c.useRef(0);function d(){u.current+=1}function h(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;d();var v=function(){var y=!1;i.current.forEach(function(b,S){if(b&&b.offsetParent){var C=tu(b),x=C.offsetHeight,N=getComputedStyle(C),w=N.marginTop,$=N.marginBottom,P=Ti(w),O=Ti($),T=x+P+O;l.current.get(S)!==T&&(l.current.set(S,T),y=!0)}}),y&&s(function(b){return b+1})};if(f)v();else{u.current+=1;var m=u.current;Promise.resolve().then(function(){m===u.current&&v()})}}function p(f,v){var m=e(f);i.current.get(m),v?(i.current.set(m,v),h()):i.current.delete(m)}return c.useEffect(function(){return d},[]),[p,h,l.current,a]}var _i=14/15;function dh(e,t,n){var r=c.useRef(!1),o=c.useRef(0),a=c.useRef(0),s=c.useRef(null),i=c.useRef(null),l,u=function(f){if(r.current){var v=Math.ceil(f.touches[0].pageX),m=Math.ceil(f.touches[0].pageY),g=o.current-v,y=a.current-m,b=Math.abs(g)>Math.abs(y);b?o.current=v:a.current=m;var S=n(b,b?g:y,!1,f);S&&f.preventDefault(),clearInterval(i.current),S&&(i.current=setInterval(function(){b?g*=_i:y*=_i;var C=Math.floor(b?g:y);(!n(b,C,!0)||Math.abs(C)<=.1)&&clearInterval(i.current)},16))}},d=function(){r.current=!1,l()},h=function(f){l(),f.touches.length===1&&!r.current&&(r.current=!0,o.current=Math.ceil(f.touches[0].pageX),a.current=Math.ceil(f.touches[0].pageY),s.current=f.target,s.current.addEventListener("touchmove",u,{passive:!1}),s.current.addEventListener("touchend",d,{passive:!0}))};l=function(){s.current&&(s.current.removeEventListener("touchmove",u),s.current.removeEventListener("touchend",d))},vn(function(){return e&&t.current.addEventListener("touchstart",h,{passive:!0}),function(){var p;(p=t.current)===null||p===void 0||p.removeEventListener("touchstart",h),l(),clearInterval(i.current)}},[e])}function ki(e){return Math.floor(Math.pow(e,.5))}function Ma(e,t){var n="touches"in e?e.touches[0]:e;return n[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}function hh(e,t,n){c.useEffect(function(){var r=t.current;if(e&&r){var o=!1,a,s,i=function(){qt.cancel(a)},l=function p(){i(),a=qt(function(){n(s),p()})},u=function(f){if(!f.target.draggable){var v=f;v._virtualHandled||(v._virtualHandled=!0,o=!0)}},d=function(){o=!1,i()},h=function(f){if(o){var v=Ma(f,!1),m=r.getBoundingClientRect(),g=m.top,y=m.bottom;if(v<=g){var b=g-v;s=-ki(b),l()}else if(v>=y){var S=v-y;s=ki(S),l()}else i()}};return r.addEventListener("mousedown",u),r.ownerDocument.addEventListener("mouseup",d),r.ownerDocument.addEventListener("mousemove",h),function(){r.removeEventListener("mousedown",u),r.ownerDocument.removeEventListener("mouseup",d),r.ownerDocument.removeEventListener("mousemove",h),i()}}},[e])}var fh=10;function ph(e,t,n,r,o,a,s,i){var l=c.useRef(),u=c.useState(null),d=ge(u,2),h=d[0],p=d[1];return vn(function(){if(h&&h.times<fh){if(!e.current){p(function(q){return oe({},q)});return}a();var f=h.targetAlign,v=h.originAlign,m=h.index,g=h.offset,y=e.current.clientHeight,b=!1,S=f,C=null;if(y){for(var x=f||v,N=0,w=0,$=0,P=Math.min(t.length-1,m),O=0;O<=P;O+=1){var T=o(t[O]);w=N;var A=n.get(T);$=w+(A===void 0?r:A),N=$}for(var L=x==="top"?g:y-g,R=P;R>=0;R-=1){var I=o(t[R]),j=n.get(I);if(j===void 0){b=!0;break}if(L-=j,L<=0)break}switch(x){case"top":C=w-g;break;case"bottom":C=$-y+g;break;default:{var z=e.current.scrollTop,B=z+y;w<z?S="top":$>B&&(S="bottom")}}C!==null&&s(C),C!==h.lastTop&&(b=!0)}b&&p(oe(oe({},h),{},{times:h.times+1,targetAlign:S,lastTop:C}))}},[h,e.current]),function(f){if(f==null){i();return}if(qt.cancel(l.current),typeof f=="number")s(f);else if(f&&on(f)==="object"){var v,m=f.align;"index"in f?v=f.index:v=t.findIndex(function(b){return o(b)===f.key});var g=f.offset,y=g===void 0?0:g;p({times:0,index:v,offset:y,originAlign:m})}}}var Li=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.rtl,o=e.scrollOffset,a=e.scrollRange,s=e.onStartMove,i=e.onStopMove,l=e.onScroll,u=e.horizontal,d=e.spinSize,h=e.containerSize,p=e.style,f=e.thumbStyle,v=e.showScrollBar,m=c.useState(!1),g=ge(m,2),y=g[0],b=g[1],S=c.useState(null),C=ge(S,2),x=C[0],N=C[1],w=c.useState(null),$=ge(w,2),P=$[0],O=$[1],T=!r,A=c.useRef(),L=c.useRef(),R=c.useState(v),I=ge(R,2),j=I[0],z=I[1],B=c.useRef(),q=function(){v===!0||v===!1||(clearTimeout(B.current),z(!0),B.current=setTimeout(function(){z(!1)},3e3))},ne=a-h||0,G=h-d||0,te=c.useMemo(function(){if(o===0||ne===0)return 0;var W=o/ne;return W*G},[o,ne,G]),X=function(se){se.stopPropagation(),se.preventDefault()},J=c.useRef({top:te,dragging:y,pageY:x,startTop:P});J.current={top:te,dragging:y,pageY:x,startTop:P};var K=function(se){b(!0),N(Ma(se,u)),O(J.current.top),s(),se.stopPropagation(),se.preventDefault()};c.useEffect(function(){var W=function(ue){ue.preventDefault()},se=A.current,fe=L.current;return se.addEventListener("touchstart",W,{passive:!1}),fe.addEventListener("touchstart",K,{passive:!1}),function(){se.removeEventListener("touchstart",W),fe.removeEventListener("touchstart",K)}},[]);var he=c.useRef();he.current=ne;var de=c.useRef();de.current=G,c.useEffect(function(){if(y){var W,se=function(ue){var Ee=J.current,Ce=Ee.dragging,Oe=Ee.pageY,Ne=Ee.startTop;qt.cancel(W);var Se=A.current.getBoundingClientRect(),_e=h/(u?Se.width:Se.height);if(Ce){var Te=(Ma(ue,u)-Oe)*_e,Be=Ne;!T&&u?Be-=Te:Be+=Te;var Me=he.current,$e=de.current,Le=$e?Be/$e:0,Ie=Math.ceil(Le*Me);Ie=Math.max(Ie,0),Ie=Math.min(Ie,Me),W=qt(function(){l(Ie,u)})}},fe=function(){b(!1),i()};return window.addEventListener("mousemove",se,{passive:!0}),window.addEventListener("touchmove",se,{passive:!0}),window.addEventListener("mouseup",fe,{passive:!0}),window.addEventListener("touchend",fe,{passive:!0}),function(){window.removeEventListener("mousemove",se),window.removeEventListener("touchmove",se),window.removeEventListener("mouseup",fe),window.removeEventListener("touchend",fe),qt.cancel(W)}}},[y]),c.useEffect(function(){return q(),function(){clearTimeout(B.current)}},[o]),c.useImperativeHandle(t,function(){return{delayHidden:q}});var U="".concat(n,"-scrollbar"),Z={position:"absolute",visibility:j?null:"hidden"},H={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return u?(Z.height=8,Z.left=0,Z.right=0,Z.bottom=0,H.height="100%",H.width=d,T?H.left=te:H.right=te):(Z.width=8,Z.top=0,Z.bottom=0,T?Z.right=0:Z.left=0,H.width="100%",H.height=d,H.top=te),c.createElement("div",{ref:A,className:pe(U,k(k(k({},"".concat(U,"-horizontal"),u),"".concat(U,"-vertical"),!u),"".concat(U,"-visible"),j)),style:oe(oe({},Z),p),onMouseDown:X,onMouseMove:q},c.createElement("div",{ref:L,className:pe("".concat(U,"-thumb"),k({},"".concat(U,"-thumb-moving"),y)),style:oe(oe({},H),f),onMouseDown:K}))}),gh=20;function zi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=e/t*e;return isNaN(n)&&(n=0),n=Math.max(n,gh),Math.floor(n)}var mh=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],vh=[],yh={overflowY:"auto",overflowAnchor:"none"};function bh(e,t){var n=e.prefixCls,r=n===void 0?"rc-virtual-list":n,o=e.className,a=e.height,s=e.itemHeight,i=e.fullHeight,l=i===void 0?!0:i,u=e.style,d=e.data,h=e.children,p=e.itemKey,f=e.virtual,v=e.direction,m=e.scrollWidth,g=e.component,y=g===void 0?"div":g,b=e.onScroll,S=e.onVirtualScroll,C=e.onVisibleChange,x=e.innerProps,N=e.extraRender,w=e.styles,$=e.showScrollBar,P=$===void 0?"optional":$,O=_t(e,mh),T=c.useCallback(function(ye){return typeof p=="function"?p(ye):ye==null?void 0:ye[p]},[p]),A=uh(T),L=ge(A,4),R=L[0],I=L[1],j=L[2],z=L[3],B=!!(f!==!1&&a&&s),q=c.useMemo(function(){return Object.values(j.maps).reduce(function(ye,ie){return ye+ie},0)},[j.id,j.maps]),ne=B&&d&&(Math.max(s*d.length,q)>a||!!m),G=v==="rtl",te=pe(r,k({},"".concat(r,"-rtl"),G),o),X=d||vh,J=c.useRef(),K=c.useRef(),he=c.useRef(),de=c.useState(0),U=ge(de,2),Z=U[0],H=U[1],W=c.useState(0),se=ge(W,2),fe=se[0],ce=se[1],ue=c.useState(!1),Ee=ge(ue,2),Ce=Ee[0],Oe=Ee[1],Ne=function(){Oe(!0)},Se=function(){Oe(!1)},_e={getKey:T};function Te(ye){H(function(ie){var re;typeof ye=="function"?re=ye(ie):re=ye;var E=Ge(re);return J.current.scrollTop=E,E})}var Be=c.useRef({start:0,end:X.length}),Me=c.useRef(),$e=ih(X,T),Le=ge($e,1),Ie=Le[0];Me.current=Ie;var me=c.useMemo(function(){if(!B)return{scrollHeight:void 0,start:0,end:X.length-1,offset:void 0};if(!ne){var ye;return{scrollHeight:((ye=K.current)===null||ye===void 0?void 0:ye.offsetHeight)||0,start:0,end:X.length-1,offset:void 0}}for(var ie=0,re,E,_,Y=X.length,le=0;le<Y;le+=1){var qe=X[le],je=T(qe),tt=j.get(je),Ke=ie+(tt===void 0?s:tt);Ke>=Z&&re===void 0&&(re=le,E=ie),Ke>Z+a&&_===void 0&&(_=le),ie=Ke}return re===void 0&&(re=0,E=0,_=Math.ceil(a/s)),_===void 0&&(_=X.length-1),_=Math.min(_+1,X.length-1),{scrollHeight:ie,start:re,end:_,offset:E}},[ne,B,Z,X,z,a]),ze=me.scrollHeight,ke=me.start,Ye=me.end,yt=me.offset;Be.current.start=ke,Be.current.end=Ye,c.useLayoutEffect(function(){var ye=j.getRecord();if(ye.size===1){var ie=Array.from(ye)[0],re=X[ke];if(re){var E=T(re);if(E===ie){var _=j.get(ie),Y=_-s;Te(function(le){return le+Y})}}}j.resetRecord()},[ze]);var gt=c.useState({width:0,height:a}),bt=ge(gt,2),We=bt[0],Ve=bt[1],it=function(ie){Ve({width:ie.offsetWidth,height:ie.offsetHeight})},Mt=c.useRef(),kt=c.useRef(),Pt=c.useMemo(function(){return zi(We.width,m)},[We.width,m]),wt=c.useMemo(function(){return zi(We.height,ze)},[We.height,ze]),ve=ze-a,xe=c.useRef(ve);xe.current=ve;function Ge(ye){var ie=ye;return Number.isNaN(xe.current)||(ie=Math.min(ie,xe.current)),ie=Math.max(ie,0),ie}var Ae=Z<=0,mt=Z>=ve,Rt=fe<=0,nt=fe>=m,hn=Sl(Ae,mt,Rt,nt),Xt=function(){return{x:G?-fe:fe,y:Z}},At=c.useRef(Xt()),Re=$n(function(ye){if(S){var ie=oe(oe({},Xt()),ye);(At.current.x!==ie.x||At.current.y!==ie.y)&&(S(ie),At.current=ie)}});function He(ye,ie){var re=ye;ie?(Sa.flushSync(function(){ce(re)}),Re()):Te(re)}function Pe(ye){var ie=ye.currentTarget.scrollTop;ie!==Z&&Te(ie),b==null||b(ye),Re()}var De=function(ie){var re=ie,E=m?m-We.width:0;return re=Math.max(re,0),re=Math.min(re,E),re},et=$n(function(ye,ie){ie?(Sa.flushSync(function(){ce(function(re){var E=re+(G?-ye:ye);return De(E)})}),Re()):Te(function(re){var E=re+ye;return E})}),pt=sh(B,Ae,mt,Rt,nt,!!m,et),Et=ge(pt,2),Lt=Et[0],zt=Et[1];dh(B,J,function(ye,ie,re,E){var _=E;return hn(ye,ie,re)?!1:!_||!_._virtualHandled?(_&&(_._virtualHandled=!0),Lt({preventDefault:function(){},deltaX:ye?ie:0,deltaY:ye?0:ie}),!0):!1}),hh(ne,J,function(ye){Te(function(ie){return ie+ye})}),vn(function(){function ye(re){var E=Ae&&re.detail<0,_=mt&&re.detail>0;B&&!E&&!_&&re.preventDefault()}var ie=J.current;return ie.addEventListener("wheel",Lt,{passive:!1}),ie.addEventListener("DOMMouseScroll",zt,{passive:!0}),ie.addEventListener("MozMousePixelScroll",ye,{passive:!1}),function(){ie.removeEventListener("wheel",Lt),ie.removeEventListener("DOMMouseScroll",zt),ie.removeEventListener("MozMousePixelScroll",ye)}},[B,Ae,mt]),vn(function(){if(m){var ye=De(fe);ce(ye),Re({x:ye})}},[We.width,m]);var It=function(){var ie,re;(ie=Mt.current)===null||ie===void 0||ie.delayHidden(),(re=kt.current)===null||re===void 0||re.delayHidden()},Wt=ph(J,X,j,s,T,function(){return I(!0)},Te,It);c.useImperativeHandle(t,function(){return{nativeElement:he.current,getScrollInfo:Xt,scrollTo:function(ie){function re(E){return E&&on(E)==="object"&&("left"in E||"top"in E)}re(ie)?(ie.left!==void 0&&ce(De(ie.left)),Wt(ie.top)):Wt(ie)}}}),vn(function(){if(C){var ye=X.slice(ke,Ye+1);C(ye,X)}},[ke,Ye,X]);var Qe=lh(X,T,j,s),Ue=N==null?void 0:N({start:ke,end:Ye,virtual:ne,offsetX:fe,offsetY:yt,rtl:G,getSize:Qe}),at=oh(X,ke,Ye,m,fe,R,h,_e),Je=null;a&&(Je=oe(k({},l?"height":"maxHeight",a),yh),B&&(Je.overflowY="hidden",m&&(Je.overflowX="hidden"),Ce&&(Je.pointerEvents="none")));var St={};return G&&(St.dir="rtl"),c.createElement("div",Xe({ref:he,style:oe(oe({},u),{},{position:"relative"}),className:te},St,O),c.createElement(qs,{onResize:it},c.createElement(y,{className:"".concat(r,"-holder"),style:Je,ref:J,onScroll:Pe,onMouseEnter:It},c.createElement(bl,{prefixCls:r,height:ze,offsetX:fe,offsetY:yt,scrollWidth:m,onInnerResize:I,ref:K,innerProps:x,rtl:G,extra:Ue},at))),ne&&ze>a&&c.createElement(Li,{ref:Mt,prefixCls:r,scrollOffset:Z,scrollRange:ze,rtl:G,onScroll:He,onStartMove:Ne,onStopMove:Se,spinSize:wt,containerSize:We.height,style:w==null?void 0:w.verticalScrollBar,thumbStyle:w==null?void 0:w.verticalScrollBarThumb,showScrollBar:P}),ne&&m>We.width&&c.createElement(Li,{ref:kt,prefixCls:r,scrollOffset:fe,scrollRange:m,rtl:G,onScroll:He,onStartMove:Ne,onStopMove:Se,spinSize:Pt,containerSize:We.width,horizontal:!0,style:w==null?void 0:w.horizontalScrollBar,thumbStyle:w==null?void 0:w.horizontalScrollBarThumb,showScrollBar:P}))}var ti=c.forwardRef(bh);ti.displayName="List";function Sh(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Ch=["disabled","title","children","style","className"];function ji(e){return typeof e=="string"||typeof e=="number"}var xh=function(t,n){var r=hl(),o=r.prefixCls,a=r.id,s=r.open,i=r.multiple,l=r.mode,u=r.searchValue,d=r.toggleOpen,h=r.notFoundContent,p=r.onPopupScroll,f=c.useContext(Qa),v=f.maxCount,m=f.flattenOptions,g=f.onActiveValue,y=f.defaultActiveFirstOption,b=f.onSelect,S=f.menuItemSelectedIcon,C=f.rawValues,x=f.fieldNames,N=f.virtual,w=f.direction,$=f.listHeight,P=f.listItemHeight,O=f.optionRender,T="".concat(o,"-item"),A=Xs(function(){return m},[s,m],function(H,W){return W[0]&&H[1]!==W[1]}),L=c.useRef(null),R=c.useMemo(function(){return i&&wa(v)&&(C==null?void 0:C.size)>=v},[i,v,C==null?void 0:C.size]),I=function(W){W.preventDefault()},j=function(W){var se;(se=L.current)===null||se===void 0||se.scrollTo(typeof W=="number"?{index:W}:W)},z=function(W){for(var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,fe=A.length,ce=0;ce<fe;ce+=1){var ue=(W+ce*se+fe)%fe,Ee=A[ue]||{},Ce=Ee.group,Oe=Ee.data;if(!Ce&&!(Oe!=null&&Oe.disabled)&&!R)return ue}return-1},B=c.useState(function(){return z(0)}),q=ge(B,2),ne=q[0],G=q[1],te=function(W){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;G(W);var fe={source:se?"keyboard":"mouse"},ce=A[W];if(!ce){g(null,-1,fe);return}g(ce.value,W,fe)};c.useEffect(function(){te(y!==!1?z(0):-1)},[A.length,u]);var X=c.useCallback(function(H){return C.has(H)&&l!=="combobox"},[l,Ze(C).toString(),C.size]);c.useEffect(function(){var H=setTimeout(function(){if(!i&&s&&C.size===1){var se=Array.from(C)[0],fe=A.findIndex(function(ce){var ue=ce.data;return ue.value===se});fe!==-1&&(te(fe),j(fe))}});if(s){var W;(W=L.current)===null||W===void 0||W.scrollTo(void 0)}return function(){return clearTimeout(H)}},[s,u]);var J=function(W){W!==void 0&&b(W,{selected:!C.has(W)}),i||d(!1)};if(c.useImperativeHandle(n,function(){return{onKeyDown:function(W){var se=W.which,fe=W.ctrlKey;switch(se){case we.N:case we.P:case we.UP:case we.DOWN:{var ce=0;if(se===we.UP?ce=-1:se===we.DOWN?ce=1:Sh()&&fe&&(se===we.N?ce=1:se===we.P&&(ce=-1)),ce!==0){var ue=z(ne+ce,ce);j(ue),te(ue,!0)}break}case we.ENTER:{var Ee,Ce=A[ne];Ce&&!(Ce!=null&&(Ee=Ce.data)!==null&&Ee!==void 0&&Ee.disabled)&&!R?J(Ce.value):J(void 0),s&&W.preventDefault();break}case we.ESC:d(!1),s&&W.stopPropagation()}},onKeyUp:function(){},scrollTo:function(W){j(W)}}}),A.length===0)return c.createElement("div",{role:"listbox",id:"".concat(a,"_list"),className:"".concat(T,"-empty"),onMouseDown:I},h);var K=Object.keys(x).map(function(H){return x[H]}),he=function(W){return W.label};function de(H,W){var se=H.group;return{role:se?"presentation":"option",id:"".concat(a,"_list_").concat(W)}}var U=function(W){var se=A[W];if(!se)return null;var fe=se.data||{},ce=fe.value,ue=se.group,Ee=qn(fe,!0),Ce=he(se);return se?c.createElement("div",Xe({"aria-label":typeof Ce=="string"&&!ue?Ce:null},Ee,{key:W},de(se,W),{"aria-selected":X(ce)}),ce):null},Z={role:"listbox",id:"".concat(a,"_list")};return c.createElement(c.Fragment,null,N&&c.createElement("div",Xe({},Z,{style:{height:0,width:0,overflow:"hidden"}}),U(ne-1),U(ne),U(ne+1)),c.createElement(ti,{itemKey:"key",ref:L,data:A,height:$,itemHeight:P,fullHeight:!1,onMouseDown:I,onScroll:p,virtual:N,direction:w,innerProps:N?null:Z},function(H,W){var se=H.group,fe=H.groupOption,ce=H.data,ue=H.label,Ee=H.value,Ce=ce.key;if(se){var Oe,Ne=(Oe=ce.title)!==null&&Oe!==void 0?Oe:ji(ue)?ue.toString():void 0;return c.createElement("div",{className:pe(T,"".concat(T,"-group"),ce.className),title:Ne},ue!==void 0?ue:Ce)}var Se=ce.disabled,_e=ce.title;ce.children;var Te=ce.style,Be=ce.className,Me=_t(ce,Ch),$e=Xn(Me,K),Le=X(Ee),Ie=Se||!Le&&R,me="".concat(T,"-option"),ze=pe(T,me,Be,k(k(k(k({},"".concat(me,"-grouped"),fe),"".concat(me,"-active"),ne===W&&!Ie),"".concat(me,"-disabled"),Ie),"".concat(me,"-selected"),Le)),ke=he(H),Ye=!S||typeof S=="function"||Le,yt=typeof ke=="number"?ke:ke||Ee,gt=ji(yt)?yt.toString():void 0;return _e!==void 0&&(gt=_e),c.createElement("div",Xe({},qn($e),N?{}:de(H,W),{"aria-selected":Le,className:ze,title:gt,onMouseMove:function(){ne===W||Ie||te(W)},onClick:function(){Ie||J(Ee)},style:Te}),c.createElement("div",{className:"".concat(me,"-content")},typeof O=="function"?O(H,{index:W}):yt),c.isValidElement(S)||Le,Ye&&c.createElement(zo,{className:"".concat(T,"-option-state"),customizeIcon:S,customizeIconProps:{value:Ee,disabled:Ie,isSelected:Le}},Le?"✓":null))}))},wh=c.forwardRef(xh);const Eh=function(e,t){var n=c.useRef({values:new Map,options:new Map}),r=c.useMemo(function(){var a=n.current,s=a.values,i=a.options,l=e.map(function(h){if(h.label===void 0){var p;return oe(oe({},h),{},{label:(p=s.get(h.value))===null||p===void 0?void 0:p.label})}return h}),u=new Map,d=new Map;return l.forEach(function(h){u.set(h.value,h),d.set(h.value,t.get(h.value)||i.get(h.value))}),n.current.values=u,n.current.options=d,l},[e,t]),o=c.useCallback(function(a){return t.get(a)||n.current.options.get(a)},[t]);return[r,o]};function Qo(e,t){return gl(e).join("").toUpperCase().includes(t)}const Nh=function(e,t,n,r,o){return c.useMemo(function(){if(!n||r===!1)return e;var a=t.options,s=t.label,i=t.value,l=[],u=typeof r=="function",d=n.toUpperCase(),h=u?r:function(f,v){return o?Qo(v[o],d):v[a]?Qo(v[s!=="children"?s:"label"],d):Qo(v[i],d)},p=u?function(f){return Ea(f)}:function(f){return f};return e.forEach(function(f){if(f[a]){var v=h(n,p(f));if(v)l.push(f);else{var m=f[a].filter(function(g){return h(n,p(g))});m.length&&l.push(oe(oe({},f),{},k({},a,m)))}return}h(n,p(f))&&l.push(f)}),l},[e,r,o,n,t])};var Bi=0,Mh=nu();function $h(){var e;return Mh?(e=Bi,Bi+=1):e="TEST_OR_SSR",e}function Cl(e){var t=c.useState(),n=ge(t,2),r=n[0],o=n[1];return c.useEffect(function(){o("rc_select_".concat($h()))},[]),e||r}var Ih=["children","value"],Oh=["children"];function Ah(e){var t=e,n=t.key,r=t.props,o=r.children,a=r.value,s=_t(r,Ih);return oe({key:n,value:a!==void 0?a:n,children:o},s)}function xl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Qr(e).map(function(n,r){if(!c.isValidElement(n)||!n.type)return null;var o=n,a=o.type.isSelectOptGroup,s=o.key,i=o.props,l=i.children,u=_t(i,Oh);return t||!a?Ah(n):oe(oe({key:"__RC_SELECT_GRP__".concat(s===null?r:s,"__"),label:s},u),{},{options:xl(l)})}).filter(function(n){return n})}var Ph=function(t,n,r,o,a){return c.useMemo(function(){var s=t,i=!t;i&&(s=xl(n));var l=new Map,u=new Map,d=function(f,v,m){m&&typeof m=="string"&&f.set(v[m],v)},h=function p(f){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=0;m<f.length;m+=1){var g=f[m];!g[r.options]||v?(l.set(g[r.value],g),d(u,g,r.label),d(u,g,o),d(u,g,a)):p(g[r.options],!0)}};return h(s),{options:s,valueOptions:l,labelOptions:u}},[t,n,r,o,a])};function Hi(e){var t=c.useRef();t.current=e;var n=c.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}var Rh=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],Dh=["inputValue"];function Th(e){return!e||on(e)!=="object"}var _h=c.forwardRef(function(e,t){var n=e.id,r=e.mode,o=e.prefixCls,a=o===void 0?"rc-select":o,s=e.backfill,i=e.fieldNames,l=e.inputValue,u=e.searchValue,d=e.onSearch,h=e.autoClearSearchValue,p=h===void 0?!0:h,f=e.onSelect,v=e.onDeselect,m=e.dropdownMatchSelectWidth,g=m===void 0?!0:m,y=e.filterOption,b=e.filterSort,S=e.optionFilterProp,C=e.optionLabelProp,x=e.options,N=e.optionRender,w=e.children,$=e.defaultActiveFirstOption,P=e.menuItemSelectedIcon,O=e.virtual,T=e.direction,A=e.listHeight,L=A===void 0?200:A,R=e.listItemHeight,I=R===void 0?20:R,j=e.labelRender,z=e.value,B=e.defaultValue,q=e.labelInValue,ne=e.onChange,G=e.maxCount,te=_t(e,Rh),X=Cl(n),J=Na(r),K=!!(!x&&w),he=c.useMemo(function(){return y===void 0&&r==="combobox"?!1:y},[y,r]),de=c.useMemo(function(){return vl(i,K)},[JSON.stringify(i),K]),U=an("",{value:u!==void 0?u:l,postState:function(He){return He||""}}),Z=ge(U,2),H=Z[0],W=Z[1],se=Ph(x,w,de,S,C),fe=se.valueOptions,ce=se.labelOptions,ue=se.options,Ee=c.useCallback(function(Re){var He=gl(Re);return He.map(function(Pe){var De,et,pt,Et,Lt;if(Th(Pe))De=Pe;else{var zt;pt=Pe.key,et=Pe.label,De=(zt=Pe.value)!==null&&zt!==void 0?zt:pt}var It=fe.get(De);if(It){var Wt;et===void 0&&(et=It==null?void 0:It[C||de.label]),pt===void 0&&(pt=(Wt=It==null?void 0:It.key)!==null&&Wt!==void 0?Wt:De),Et=It==null?void 0:It.disabled,Lt=It==null?void 0:It.title}return{label:et,value:De,key:pt,disabled:Et,title:Lt}})},[de,C,fe]),Ce=an(B,{value:z}),Oe=ge(Ce,2),Ne=Oe[0],Se=Oe[1],_e=c.useMemo(function(){var Re,He=J&&Ne===null?[]:Ne,Pe=Ee(He);return r==="combobox"&&Hd((Re=Pe[0])===null||Re===void 0?void 0:Re.value)?[]:Pe},[Ne,Ee,r,J]),Te=Eh(_e,fe),Be=ge(Te,2),Me=Be[0],$e=Be[1],Le=c.useMemo(function(){if(!r&&Me.length===1){var Re=Me[0];if(Re.value===null&&(Re.label===null||Re.label===void 0))return[]}return Me.map(function(He){var Pe;return oe(oe({},He),{},{label:(Pe=typeof j=="function"?j(He):He.label)!==null&&Pe!==void 0?Pe:He.value})})},[r,Me,j]),Ie=c.useMemo(function(){return new Set(Me.map(function(Re){return Re.value}))},[Me]);c.useEffect(function(){if(r==="combobox"){var Re,He=(Re=Me[0])===null||Re===void 0?void 0:Re.value;W(Bd(He)?String(He):"")}},[Me]);var me=Hi(function(Re,He){var Pe=He??Re;return k(k({},de.value,Re),de.label,Pe)}),ze=c.useMemo(function(){if(r!=="tags")return ue;var Re=Ze(ue),He=function(De){return fe.has(De)};return Ze(Me).sort(function(Pe,De){return Pe.value<De.value?-1:1}).forEach(function(Pe){var De=Pe.value;He(De)||Re.push(me(De,Pe.label))}),Re},[me,ue,fe,Me,r]),ke=Nh(ze,de,H,he,S),Ye=c.useMemo(function(){return r!=="tags"||!H||ke.some(function(Re){return Re[S||"value"]===H})||ke.some(function(Re){return Re[de.value]===H})?ke:[me(H)].concat(Ze(ke))},[me,S,r,ke,H,de]),yt=function Re(He){var Pe=Ze(He).sort(function(De,et){return b(De,et,{searchValue:H})});return Pe.map(function(De){return Array.isArray(De.options)?oe(oe({},De),{},{options:De.options.length>0?Re(De.options):De.options}):De})},gt=c.useMemo(function(){return b?yt(Ye):Ye},[Ye,b,H]),bt=c.useMemo(function(){return Qd(gt,{fieldNames:de,childrenAsData:K})},[gt,de,K]),We=function(He){var Pe=Ee(He);if(Se(Pe),ne&&(Pe.length!==Me.length||Pe.some(function(pt,Et){var Lt;return((Lt=Me[Et])===null||Lt===void 0?void 0:Lt.value)!==(pt==null?void 0:pt.value)}))){var De=q?Pe:Pe.map(function(pt){return pt.value}),et=Pe.map(function(pt){return Ea($e(pt.value))});ne(J?De:De[0],J?et:et[0])}},Ve=c.useState(null),it=ge(Ve,2),Mt=it[0],kt=it[1],Pt=c.useState(0),wt=ge(Pt,2),ve=wt[0],xe=wt[1],Ge=$!==void 0?$:r!=="combobox",Ae=c.useCallback(function(Re,He){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=Pe.source,et=De===void 0?"keyboard":De;xe(He),s&&r==="combobox"&&Re!==null&&et==="keyboard"&&kt(String(Re))},[s,r]),mt=function(He,Pe,De){var et=function(){var Je,St=$e(He);return[q?{label:St==null?void 0:St[de.label],value:He,key:(Je=St==null?void 0:St.key)!==null&&Je!==void 0?Je:He}:He,Ea(St)]};if(Pe&&f){var pt=et(),Et=ge(pt,2),Lt=Et[0],zt=Et[1];f(Lt,zt)}else if(!Pe&&v&&De!=="clear"){var It=et(),Wt=ge(It,2),Qe=Wt[0],Ue=Wt[1];v(Qe,Ue)}},Rt=Hi(function(Re,He){var Pe,De=J?He.selected:!0;De?Pe=J?[].concat(Ze(Me),[Re]):[Re]:Pe=Me.filter(function(et){return et.value!==Re}),We(Pe),mt(Re,De),r==="combobox"?kt(""):(!Na||p)&&(W(""),kt(""))}),nt=function(He,Pe){We(He);var De=Pe.type,et=Pe.values;(De==="remove"||De==="clear")&&et.forEach(function(pt){mt(pt.value,!1,De)})},hn=function(He,Pe){if(W(He),kt(null),Pe.source==="submit"){var De=(He||"").trim();if(De){var et=Array.from(new Set([].concat(Ze(Ie),[De])));We(et),mt(De,!0),W("")}return}Pe.source!=="blur"&&(r==="combobox"&&We(He),d==null||d(He))},Xt=function(He){var Pe=He;r!=="tags"&&(Pe=He.map(function(et){var pt=ce.get(et);return pt==null?void 0:pt.value}).filter(function(et){return et!==void 0}));var De=Array.from(new Set([].concat(Ze(Ie),Ze(Pe))));We(De),De.forEach(function(et){mt(et,!0)})},At=c.useMemo(function(){var Re=O!==!1&&g!==!1;return oe(oe({},se),{},{flattenOptions:bt,onActiveValue:Ae,defaultActiveFirstOption:Ge,onSelect:Rt,menuItemSelectedIcon:P,rawValues:Ie,fieldNames:de,virtual:Re,direction:T,listHeight:L,listItemHeight:I,childrenAsData:K,maxCount:G,optionRender:N})},[G,se,bt,Ae,Ge,Rt,P,Ie,de,O,g,T,L,I,K,N]);return c.createElement(Qa.Provider,{value:At},c.createElement(yl,Xe({},te,{id:X,prefixCls:a,ref:t,omitDomProps:Dh,mode:r,displayValues:Le,onDisplayValuesChange:nt,direction:T,searchValue:H,onSearch:hn,autoClearSearchValue:p,onSearchSplit:Xt,dropdownMatchSelectWidth:g,OptionList:wh,emptyOptions:!bt.length,activeValue:Mt,activeDescendantId:"".concat(X,"_list_").concat(ve)})))}),ni=_h;ni.Option=ei;ni.OptGroup=Ja;const kh=()=>{const[,e]=Ro(),n=new ir(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return c.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},c.createElement("title",null,"empty image"),c.createElement("g",{fill:"none",fillRule:"evenodd"},c.createElement("g",{transform:"translate(24 31.67)"},c.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),c.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),c.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),c.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),c.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),c.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),c.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},c.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),c.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Lh=()=>{const[,e]=Ro(),{colorFill:t,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:o}=e,{borderColor:a,shadowColor:s,contentColor:i}=c.useMemo(()=>({borderColor:new ir(t).onBackground(o).toHexShortString(),shadowColor:new ir(n).onBackground(o).toHexShortString(),contentColor:new ir(r).onBackground(o).toHexShortString()}),[t,n,r,o]);return c.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},c.createElement("title",null,"Simple Empty"),c.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},c.createElement("ellipse",{fill:s,cx:"32",cy:"33",rx:"32",ry:"7"}),c.createElement("g",{fillRule:"nonzero",stroke:a},c.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),c.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:i}))))},zh=e=>{const{componentCls:t,margin:n,marginXS:r,marginXL:o,fontSize:a,lineHeight:s}=e;return{[t]:{marginInline:r,fontSize:a,lineHeight:s,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorTextDescription},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:o,color:e.colorTextDescription,[`${t}-description`]:{color:e.colorTextDescription},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDescription,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}},jh=In("Empty",e=>{const{componentCls:t,controlHeightLG:n,calc:r}=e,o=rn(e,{emptyImgCls:`${t}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[zh(o)]});var Bh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const wl=c.createElement(kh,null),El=c.createElement(Lh,null),rr=e=>{var{className:t,rootClassName:n,prefixCls:r,image:o=wl,description:a,children:s,imageStyle:i,style:l}=e,u=Bh(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:d,direction:h,empty:p}=c.useContext(dn),f=d("empty",r),[v,m,g]=jh(f),[y]=Do("Empty"),b=typeof a<"u"?a:y==null?void 0:y.description,S=typeof b=="string"?b:"empty";let C=null;return typeof o=="string"?C=c.createElement("img",{alt:S,src:o}):C=o,v(c.createElement("div",Object.assign({className:pe(m,g,f,p==null?void 0:p.className,{[`${f}-normal`]:o===El,[`${f}-rtl`]:h==="rtl"},t,n),style:Object.assign(Object.assign({},p==null?void 0:p.style),l)},u),c.createElement("div",{className:`${f}-image`,style:i},C),b&&c.createElement("div",{className:`${f}-description`},b),s&&c.createElement("div",{className:`${f}-footer`},s)))};rr.PRESENTED_IMAGE_DEFAULT=wl;rr.PRESENTED_IMAGE_SIMPLE=El;const Nl=e=>{const{componentName:t}=e,{getPrefixCls:n}=c.useContext(dn),r=n("empty");switch(t){case"Table":case"List":return V.createElement(rr,{image:rr.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return V.createElement(rr,{image:rr.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});case"Table.filter":return null;default:return V.createElement(rr,null)}},Hh=e=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:e==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function Ml(e,t){return e||Hh(t)}const Vi=e=>{const{optionHeight:t,optionFontSize:n,optionLineHeight:r,optionPadding:o}=e;return{position:"relative",display:"block",minHeight:t,padding:o,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},Vh=e=>{const{antCls:t,componentCls:n}=e,r=`${n}-item`,o=`&${t}-slide-up-enter${t}-slide-up-enter-active`,a=`&${t}-slide-up-appear${t}-slide-up-appear-active`,s=`&${t}-slide-up-leave${t}-slide-up-leave-active`,i=`${n}-dropdown-placement-`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},cn(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`
          ${o}${i}bottomLeft,
          ${a}${i}bottomLeft
        `]:{animationName:iu},[`
          ${o}${i}topLeft,
          ${a}${i}topLeft,
          ${o}${i}topRight,
          ${a}${i}topRight
        `]:{animationName:au},[`${s}${i}bottomLeft`]:{animationName:ou},[`
          ${s}${i}topLeft,
          ${s}${i}topRight
        `]:{animationName:ru},"&-hidden":{display:"none"},[r]:Object.assign(Object.assign({},Vi(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Eo),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:e.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,[`${r}-option-state`]:{color:e.colorPrimary},[`&:has(+ ${r}-option-selected:not(${r}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${r}-option-selected:not(${r}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},Vi(e)),{color:e.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},Ni(e,"slide-up"),Ni(e,"slide-down"),Mi(e,"move-up"),Mi(e,"move-down")]},Kh=e=>{const{multipleSelectItemHeight:t,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:o}=e,a=e.max(e.calc(n).sub(r).equal(),0),s=e.max(e.calc(a).sub(o).equal(),0);return{basePadding:a,containerPadding:s,itemHeight:ae(t),itemLineHeight:ae(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}},Fh=e=>{const{multipleSelectItemHeight:t,selectHeight:n,lineWidth:r}=e;return e.calc(n).sub(t).div(2).sub(r).equal()},Wh=e=>{const{componentCls:t,iconCls:n,borderRadiusSM:r,motionDurationSlow:o,paddingXS:a,multipleItemColorDisabled:s,multipleItemBorderColorDisabled:i,colorIcon:l,colorIconHover:u,INTERNAL_FIXED_ITEM_MARGIN:d}=e;return{[`${t}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${t}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:d,borderRadius:r,cursor:"default",transition:`font-size ${o}, line-height ${o}, height ${o}`,marginInlineEnd:e.calc(d).mul(2).equal(),paddingInlineStart:a,paddingInlineEnd:e.calc(a).div(2).equal(),[`${t}-disabled&`]:{color:s,borderColor:i,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(a).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},To()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:u}})}}}},Gh=(e,t)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=e,o=`${n}-selection-overflow`,a=e.multipleSelectItemHeight,s=Fh(e),i=t?`${n}-${t}`:"",l=Kh(e);return{[`${n}-multiple${i}`]:Object.assign(Object.assign({},Wh(e)),{[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:e.borderRadius,[`${n}-disabled&`]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${ae(r)} 0`,lineHeight:ae(a),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:l.itemHeight,lineHeight:ae(l.itemLineHeight)},[`${o}-item + ${o}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${o}-item-suffix`]:{height:"100%"},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(s).equal(),"\n          &-input,\n          &-mirror\n        ":{height:a,fontFamily:e.fontFamily,lineHeight:ae(a),transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}})}};function Jo(e,t){const{componentCls:n}=e,r=t?`${n}-${t}`:"",o={[`${n}-multiple${r}`]:{fontSize:e.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[Gh(e,t),o]}const Uh=e=>{const{componentCls:t}=e,n=rn(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),r=rn(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[Jo(e),Jo(n,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},[`${t}-selection-search`]:{marginInlineStart:2}}},Jo(r,"lg")]};function ea(e,t){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:o}=e,a=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),s=t?`${n}-${t}`:"";return{[`${n}-single${s}`]:{fontSize:e.fontSize,height:e.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},cn(e,!0)),{display:"flex",borderRadius:o,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{padding:0,lineHeight:ae(a),transition:`all ${e.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",padding:`0 ${ae(r)}`,[`${n}-selection-search-input`]:{height:a},"&:after":{lineHeight:ae(a)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${ae(r)}`,"&:after":{display:"none"}}}}}}}function qh(e){const{componentCls:t}=e,n=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[ea(e),ea(rn(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${t}-selector`]:{padding:`0 ${ae(n)}`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:e.calc(n).add(e.calc(e.fontSize).mul(1.5)).equal()},[`
            &${t}-show-arrow ${t}-selection-item,
            &${t}-show-arrow ${t}-selection-placeholder
          `]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},ea(rn(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const Xh=e=>{const{fontSize:t,lineHeight:n,lineWidth:r,controlHeight:o,controlHeightSM:a,controlHeightLG:s,paddingXXS:i,controlPaddingHorizontal:l,zIndexPopupBase:u,colorText:d,fontWeightStrong:h,controlItemBgActive:p,controlItemBgHover:f,colorBgContainer:v,colorFillSecondary:m,colorBgContainerDisabled:g,colorTextDisabled:y}=e,b=i*2,S=r*2,C=Math.min(o-b,o-S),x=Math.min(a-b,a-S),N=Math.min(s-b,s-S);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(i/2),zIndexPopup:u+50,optionSelectedColor:d,optionSelectedFontWeight:h,optionSelectedBg:p,optionActiveBg:f,optionPadding:`${(o-t*n)/2}px ${l}px`,optionFontSize:t,optionLineHeight:n,optionHeight:o,selectorBg:v,clearBg:v,singleItemHeightLG:s,multipleItemBg:m,multipleItemBorderColor:"transparent",multipleItemHeight:C,multipleItemHeightSM:x,multipleItemHeightLG:N,multipleSelectorBgDisabled:g,multipleItemColorDisabled:y,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(e.fontSize*1.25)}},$l=(e,t)=>{const{componentCls:n,antCls:r,controlOutlineWidth:o}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${ae(e.lineWidth)} ${e.lineType} ${t.borderColor}`,background:e.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,boxShadow:`0 0 0 ${ae(o)} ${t.activeShadowColor}`,outline:0}}}},Ki=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},$l(e,t))}),Yh=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},$l(e,{borderColor:e.colorBorder,hoverBorderHover:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadowColor:e.controlOutline})),Ki(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeShadowColor:e.colorErrorOutline})),Ki(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeShadowColor:e.colorWarningOutline})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${ae(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),Il=(e,t)=>{const{componentCls:n,antCls:r}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:t.bg,border:`${ae(e.lineWidth)} ${e.lineType} transparent`,color:t.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:t.hoverBg},[`${n}-focused& ${n}-selector`]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},Fi=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},Il(e,t))}),Zh=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},Il(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.colorPrimary,color:e.colorText})),Fi(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),Fi(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.colorBgContainer,border:`${ae(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}})}),Qh=e=>({"&-borderless":{[`${e.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${ae(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`},[`&${e.componentCls}-status-error`]:{[`${e.componentCls}-selection-item`]:{color:e.colorError}},[`&${e.componentCls}-status-warning`]:{[`${e.componentCls}-selection-item`]:{color:e.colorWarning}}}}),Jh=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign({},Yh(e)),Zh(e)),Qh(e))}),ef=e=>{const{componentCls:t}=e;return{position:"relative",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${t}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},tf=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},nf=e=>{const{antCls:t,componentCls:n,inputPaddingHorizontalBase:r,iconCls:o}=e;return{[n]:Object.assign(Object.assign({},cn(e)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},ef(e)),tf(e)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Eo),{[`> ${t}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},Eo),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},To()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${e.motionDurationSlow} ease`,[o]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},"&:hover":{[`${n}-clear`]:{opacity:1},[`${n}-arrow:not(:last-child)`]:{opacity:0}}}),[`${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:e.calc(r).add(e.fontSize).add(e.paddingXS).equal()}}}},rf=e=>{const{componentCls:t}=e;return[{[t]:{[`&${t}-in-form-item`]:{width:"100%"}}},nf(e),qh(e),Uh(e),Vh(e),{[`${t}-rtl`]:{direction:"rtl"}},za(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]},Ol=In("Select",(e,t)=>{let{rootPrefixCls:n}=t;const r=rn(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[rf(r),Jh(r)]},Xh,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var of={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},af=function(t,n){return c.createElement(Zn,Xe({},t,{ref:n,icon:of}))},sf=c.forwardRef(af);function Al(e){let{suffixIcon:t,clearIcon:n,menuItemSelectedIcon:r,removeIcon:o,loading:a,multiple:s,hasFeedback:i,prefixCls:l,showSuffixIcon:u,feedbackIcon:d,showArrow:h,componentName:p}=e;const f=n??c.createElement(su,null),v=b=>t===null&&!i&&!h?null:c.createElement(c.Fragment,null,u!==!1&&b,i&&d);let m=null;if(t!==void 0)m=v(t);else if(a)m=v(c.createElement(Ys,{spin:!0}));else{const b=`${l}-suffix`;m=S=>{let{open:C,showSearch:x}=S;return v(C&&x?c.createElement(yd,{className:b}):c.createElement(Zs,{className:b}))}}let g=null;r!==void 0?g=r:s?g=c.createElement(sf,null):g=null;let y=null;return o!==void 0?y=o:y=c.createElement(lu,null),{clearIcon:f,suffixIcon:m,itemIcon:g,removeIcon:y}}function Pl(e,t){return t!==void 0?t:e!==null}var lf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Rl="SECRET_COMBOBOX_MODE_DO_NOT_USE",cf=(e,t)=>{var n;const{prefixCls:r,bordered:o,className:a,rootClassName:s,getPopupContainer:i,popupClassName:l,dropdownClassName:u,listHeight:d=256,placement:h,listItemHeight:p,size:f,disabled:v,notFoundContent:m,status:g,builtinPlacements:y,dropdownMatchSelectWidth:b,popupMatchSelectWidth:S,direction:C,style:x,allowClear:N,variant:w,dropdownStyle:$,transitionName:P,tagRender:O,maxCount:T}=e,A=lf(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:L,getPrefixCls:R,renderEmpty:I,direction:j,virtual:z,popupMatchSelectWidth:B,popupOverflow:q,select:ne}=c.useContext(dn),[,G]=Ro(),te=p??(G==null?void 0:G.controlHeight),X=R("select",r),J=R(),K=C??j,{compactSize:he,compactItemClassnames:de}=_o(X,K),[U,Z]=Xa("select",w,o),H=dr(X),[W,se,fe]=Ol(X,H),ce=c.useMemo(()=>{const{mode:it}=e;if(it!=="combobox")return it===Rl?"combobox":it},[e.mode]),ue=ce==="multiple"||ce==="tags",Ee=Pl(e.suffixIcon,e.showArrow),Ce=(n=S??b)!==null&&n!==void 0?n:B,{status:Oe,hasFeedback:Ne,isFormItemInput:Se,feedbackIcon:_e}=c.useContext(Jr),Te=Ya(Oe,g);let Be;m!==void 0?Be=m:ce==="combobox"?Be=null:Be=(I==null?void 0:I("Select"))||c.createElement(Nl,{componentName:"Select"});const{suffixIcon:Me,itemIcon:$e,removeIcon:Le,clearIcon:Ie}=Al(Object.assign(Object.assign({},A),{multiple:ue,hasFeedback:Ne,feedbackIcon:_e,showSuffixIcon:Ee,prefixCls:X,componentName:"Select"})),me=N===!0?{clearIcon:Ie}:N,ze=Xn(A,["suffixIcon","itemIcon"]),ke=pe(l||u,{[`${X}-dropdown-${K}`]:K==="rtl"},s,fe,H,se),Ye=Rr(it=>{var Mt;return(Mt=f??he)!==null&&Mt!==void 0?Mt:it}),yt=c.useContext(Dr),gt=v??yt,bt=pe({[`${X}-lg`]:Ye==="large",[`${X}-sm`]:Ye==="small",[`${X}-rtl`]:K==="rtl",[`${X}-${U}`]:Z,[`${X}-in-form-item`]:Se},qr(X,Te,Ne),de,ne==null?void 0:ne.className,a,s,fe,H,se),We=c.useMemo(()=>h!==void 0?h:K==="rtl"?"bottomRight":"bottomLeft",[h,K]),[Ve]=Qs("SelectLike",$==null?void 0:$.zIndex);return W(c.createElement(ni,Object.assign({ref:t,virtual:z,showSearch:ne==null?void 0:ne.showSearch},ze,{style:Object.assign(Object.assign({},ne==null?void 0:ne.style),x),dropdownMatchSelectWidth:Ce,transitionName:No(J,"slide-up",P),builtinPlacements:Ml(y,q),listHeight:d,listItemHeight:te,mode:ce,prefixCls:X,placement:We,direction:K,suffixIcon:Me,menuItemSelectedIcon:$e,removeIcon:Le,allowClear:me,notFoundContent:Be,className:bt,getPopupContainer:i||L,dropdownClassName:ke,disabled:gt,dropdownStyle:Object.assign(Object.assign({},$),{zIndex:Ve}),maxCount:ue?T:void 0,tagRender:ue?O:void 0})))},mr=c.forwardRef(cf),uf=ja(mr);mr.SECRET_COMBOBOX_MODE_DO_NOT_USE=Rl;mr.Option=ei;mr.OptGroup=Ja;mr._InternalPanelDoNotUseOrYouWillBeFired=uf;const Io=e=>e?typeof e=="function"?e():e:null,df=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:r,fontWeightStrong:o,innerPadding:a,boxShadowSecondary:s,colorTextHeading:i,borderRadiusLG:l,zIndexPopup:u,titleMarginBottom:d,colorBgElevated:h,popoverBg:p,titleBorderBottom:f,innerContentPadding:v,titlePadding:m}=e;return[{[t]:Object.assign(Object.assign({},cn(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:u,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":h,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:p,backgroundClip:"padding-box",borderRadius:l,boxShadow:s,padding:a},[`${t}-title`]:{minWidth:r,marginBottom:d,color:i,fontWeight:o,borderBottom:f,padding:m},[`${t}-inner-content`]:{color:n,padding:v}})},uu(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},hf=e=>{const{componentCls:t}=e;return{[t]:du.map(n=>{const r=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}})}},ff=e=>{const{lineWidth:t,controlHeight:n,fontHeight:r,padding:o,wireframe:a,zIndexPopupBase:s,borderRadiusLG:i,marginXS:l,lineType:u,colorSplit:d,paddingSM:h}=e,p=n-r,f=p/2,v=p/2-t,m=o;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:s+30},hu(e)),fu({contentRadius:i,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:l,titlePadding:a?`${f}px ${m}px ${v}px`:0,titleBorderBottom:a?`${t}px ${u} ${d}`:"none",innerContentPadding:a?`${h}px ${m}px`:0})},Dl=In("Popover",e=>{const{colorBgElevated:t,colorText:n}=e,r=rn(e,{popoverBg:t,popoverColor:n});return[df(r),hf(r),cu(r,"zoom-big")]},ff,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var pf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Tl=e=>{let{title:t,content:n,prefixCls:r}=e;return!t&&!n?null:c.createElement(c.Fragment,null,t&&c.createElement("div",{className:`${r}-title`},t),n&&c.createElement("div",{className:`${r}-inner-content`},n))},gf=e=>{const{hashId:t,prefixCls:n,className:r,style:o,placement:a="top",title:s,content:i,children:l}=e,u=Io(s),d=Io(i),h=pe(t,n,`${n}-pure`,`${n}-placement-${a}`,r);return c.createElement("div",{className:h,style:o},c.createElement("div",{className:`${n}-arrow`}),c.createElement(pu,Object.assign({},e,{className:t,prefixCls:n}),l||c.createElement(Tl,{prefixCls:n,title:u,content:d})))},mf=e=>{const{prefixCls:t,className:n}=e,r=pf(e,["prefixCls","className"]),{getPrefixCls:o}=c.useContext(dn),a=o("popover",t),[s,i,l]=Dl(a);return s(c.createElement(gf,Object.assign({},r,{prefixCls:a,hashId:i,className:pe(n,l)})))};var vf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const yf=c.forwardRef((e,t)=>{var n,r;const{prefixCls:o,title:a,content:s,overlayClassName:i,placement:l="top",trigger:u="hover",children:d,mouseEnterDelay:h=.1,mouseLeaveDelay:p=.1,onOpenChange:f,overlayStyle:v={}}=e,m=vf(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:g}=c.useContext(dn),y=g("popover",o),[b,S,C]=Dl(y),x=g(),N=pe(i,S,C),[w,$]=an(!1,{value:(n=e.open)!==null&&n!==void 0?n:e.visible,defaultValue:(r=e.defaultOpen)!==null&&r!==void 0?r:e.defaultVisible}),P=(R,I)=>{$(R,!0),f==null||f(R,I)},O=R=>{R.keyCode===we.ESC&&P(!1,R)},T=R=>{P(R)},A=Io(a),L=Io(s);return b(c.createElement(Js,Object.assign({placement:l,trigger:u,mouseEnterDelay:h,mouseLeaveDelay:p,overlayStyle:v},m,{prefixCls:y,overlayClassName:N,ref:t,open:w,onOpenChange:T,overlay:A||L?c.createElement(Tl,{prefixCls:y,title:A,content:L}):null,transitionName:No(x,"zoom-big",m.transitionName),"data-popover-inject":!0}),Ur(d,{onKeyDown:R=>{var I,j;c.isValidElement(d)&&((j=d==null?void 0:(I=d.props).onKeyDown)===null||j===void 0||j.call(I,R)),O(R)}})))}),_l=yf;_l._InternalPanelDoNotUseOrYouWillBeFired=mf;var bf=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],Sf=c.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-checkbox":n,o=e.className,a=e.style,s=e.checked,i=e.disabled,l=e.defaultChecked,u=l===void 0?!1:l,d=e.type,h=d===void 0?"checkbox":d,p=e.title,f=e.onChange,v=_t(e,bf),m=c.useRef(null),g=c.useRef(null),y=an(u,{value:s}),b=ge(y,2),S=b[0],C=b[1];c.useImperativeHandle(t,function(){return{focus:function($){var P;(P=m.current)===null||P===void 0||P.focus($)},blur:function(){var $;($=m.current)===null||$===void 0||$.blur()},input:m.current,nativeElement:g.current}});var x=pe(r,o,k(k({},"".concat(r,"-checked"),S),"".concat(r,"-disabled"),i)),N=function($){i||("checked"in e||C($.target.checked),f==null||f({target:oe(oe({},e),{},{type:h,checked:$.target.checked}),stopPropagation:function(){$.stopPropagation()},preventDefault:function(){$.preventDefault()},nativeEvent:$.nativeEvent}))};return c.createElement("span",{className:x,title:p,style:a,ref:g},c.createElement("input",Xe({},v,{className:"".concat(r,"-input"),ref:m,onChange:N,disabled:i,checked:!!S,type:h})),c.createElement("span",{className:"".concat(r,"-inner")}))}),Cf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},xf=function(t,n){return c.createElement(Zn,Xe({},t,{ref:n,icon:Cf}))},wf=c.forwardRef(xf);function mn(e,t){return e[t]}var Ef=["children"];function kl(e,t){return"".concat(e,"-").concat(t)}function Nf(e){return e&&e.type&&e.type.isTreeNode}function eo(e,t){return e??t}function Oo(e){var t=e||{},n=t.title,r=t._title,o=t.key,a=t.children,s=n||"title";return{title:s,_title:r||[s],key:o||"key",children:a||"children"}}function Mf(e){function t(n){var r=Qr(n);return r.map(function(o){if(!Nf(o))return tn(!o,"Tree/TreeNode can only accept TreeNode as children."),null;var a=o.key,s=o.props,i=s.children,l=_t(s,Ef),u=oe({key:a},l),d=t(i);return d.length&&(u.children=d),u}).filter(function(o){return o})}return t(e)}function ta(e,t,n){var r=Oo(n),o=r._title,a=r.key,s=r.children,i=new Set(t===!0?[]:t),l=[];function u(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return d.map(function(p,f){for(var v=kl(h?h.pos:"0",f),m=eo(p[a],v),g,y=0;y<o.length;y+=1){var b=o[y];if(p[b]!==void 0){g=p[b];break}}var S=Object.assign(Xn(p,[].concat(Ze(o),[a,s])),{title:g,key:m,parent:h,pos:v,children:null,data:p,isStart:[].concat(Ze(h?h.isStart:[]),[f===0]),isEnd:[].concat(Ze(h?h.isEnd:[]),[f===d.length-1])});return l.push(S),t===!0||i.has(m)?S.children=u(p[s]||[],S):S.children=[],S})}return u(e),l}function $f(e,t,n){var r={};on(n)==="object"?r=n:r={externalGetKey:n},r=r||{};var o=r,a=o.childrenPropName,s=o.externalGetKey,i=o.fieldNames,l=Oo(i),u=l.key,d=l.children,h=a||d,p;s?typeof s=="string"?p=function(m){return m[s]}:typeof s=="function"&&(p=function(m){return s(m)}):p=function(m,g){return eo(m[u],g)};function f(v,m,g,y){var b=v?v[h]:e,S=v?kl(g.pos,m):"0",C=v?[].concat(Ze(y),[v]):[];if(v){var x=p(v,S),N={node:v,index:m,pos:S,key:x,parentPos:g.node?g.pos:null,level:g.level+1,nodes:C};t(N)}b&&b.forEach(function(w,$){f(w,$,{node:v,pos:S,level:g?g.level+1:-1},C)})}f(null)}function Ll(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.initWrapper,r=t.processEntity,o=t.onProcessFinished,a=t.externalGetKey,s=t.childrenPropName,i=t.fieldNames,l=arguments.length>2?arguments[2]:void 0,u=a||l,d={},h={},p={posEntities:d,keyEntities:h};return n&&(p=n(p)||p),$f(e,function(f){var v=f.node,m=f.index,g=f.pos,y=f.key,b=f.parentPos,S=f.level,C=f.nodes,x={node:v,nodes:C,index:m,key:y,pos:g,level:S},N=eo(y,g);d[g]=x,h[N]=x,x.parent=d[b],x.parent&&(x.parent.children=x.parent.children||[],x.parent.children.push(x)),r&&r(x,p)},{externalGetKey:u,childrenPropName:s,fieldNames:i}),o&&o(p),p}function Kr(e,t){var n=t.expandedKeys,r=t.selectedKeys,o=t.loadedKeys,a=t.loadingKeys,s=t.checkedKeys,i=t.halfCheckedKeys,l=t.dragOverNodeKey,u=t.dropPosition,d=t.keyEntities,h=mn(d,e),p={eventKey:e,expanded:n.indexOf(e)!==-1,selected:r.indexOf(e)!==-1,loaded:o.indexOf(e)!==-1,loading:a.indexOf(e)!==-1,checked:s.indexOf(e)!==-1,halfChecked:i.indexOf(e)!==-1,pos:String(h?h.pos:""),dragOver:l===e&&u===0,dragOverGapTop:l===e&&u===-1,dragOverGapBottom:l===e&&u===1};return p}function Ut(e){var t=e.data,n=e.expanded,r=e.selected,o=e.checked,a=e.loaded,s=e.loading,i=e.halfChecked,l=e.dragOver,u=e.dragOverGapTop,d=e.dragOverGapBottom,h=e.pos,p=e.active,f=e.eventKey,v=oe(oe({},t),{},{expanded:n,selected:r,checked:o,loaded:a,loading:s,halfChecked:i,dragOver:l,dragOverGapTop:u,dragOverGapBottom:d,pos:h,active:p,key:f});return"props"in v||Object.defineProperty(v,"props",{get:function(){return tn(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),v}function zl(e,t){var n=new Set;return e.forEach(function(r){t.has(r)||n.add(r)}),n}function If(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,o=t.checkable;return!!(n||r)||o===!1}function Of(e,t,n,r){for(var o=new Set(e),a=new Set,s=0;s<=n;s+=1){var i=t.get(s)||new Set;i.forEach(function(h){var p=h.key,f=h.node,v=h.children,m=v===void 0?[]:v;o.has(p)&&!r(f)&&m.filter(function(g){return!r(g.node)}).forEach(function(g){o.add(g.key)})})}for(var l=new Set,u=n;u>=0;u-=1){var d=t.get(u)||new Set;d.forEach(function(h){var p=h.parent,f=h.node;if(!(r(f)||!h.parent||l.has(h.parent.key))){if(r(h.parent.node)){l.add(p.key);return}var v=!0,m=!1;(p.children||[]).filter(function(g){return!r(g.node)}).forEach(function(g){var y=g.key,b=o.has(y);v&&!b&&(v=!1),!m&&(b||a.has(y))&&(m=!0)}),v&&o.add(p.key),m&&a.add(p.key),l.add(p.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(zl(a,o))}}function Af(e,t,n,r,o){for(var a=new Set(e),s=new Set(t),i=0;i<=r;i+=1){var l=n.get(i)||new Set;l.forEach(function(p){var f=p.key,v=p.node,m=p.children,g=m===void 0?[]:m;!a.has(f)&&!s.has(f)&&!o(v)&&g.filter(function(y){return!o(y.node)}).forEach(function(y){a.delete(y.key)})})}s=new Set;for(var u=new Set,d=r;d>=0;d-=1){var h=n.get(d)||new Set;h.forEach(function(p){var f=p.parent,v=p.node;if(!(o(v)||!p.parent||u.has(p.parent.key))){if(o(p.parent.node)){u.add(f.key);return}var m=!0,g=!1;(f.children||[]).filter(function(y){return!o(y.node)}).forEach(function(y){var b=y.key,S=a.has(b);m&&!S&&(m=!1),!g&&(S||s.has(b))&&(g=!0)}),m||a.delete(f.key),g&&s.add(f.key),u.add(f.key)}})}return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(zl(s,a))}}function $r(e,t,n,r){var o=[],a;a=If;var s=new Set(e.filter(function(d){var h=!!mn(n,d);return h||o.push(d),h})),i=new Map,l=0;Object.keys(n).forEach(function(d){var h=n[d],p=h.level,f=i.get(p);f||(f=new Set,i.set(p,f)),f.add(h),l=Math.max(l,p)}),tn(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map(function(d){return"'".concat(d,"'")}).join(", ")));var u;return t===!0?u=Of(s,i,l,a):u=Af(s,t.halfCheckedKeys,i,l,a),u}const Pf=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},cn(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},cn(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},cn(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},el(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${ae(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${ae(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorPrimary} !important`}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function ri(e,t){const n=rn(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[Pf(n)]}const jl=In("Checkbox",(e,t)=>{let{prefixCls:n}=t;return[ri(n,e)]}),Bl=V.createContext(null);var Rf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Df=(e,t)=>{var n;const{prefixCls:r,className:o,rootClassName:a,children:s,indeterminate:i=!1,style:l,onMouseEnter:u,onMouseLeave:d,skipGroup:h=!1,disabled:p}=e,f=Rf(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:v,direction:m,checkbox:g}=c.useContext(dn),y=c.useContext(Bl),{isFormItemInput:b}=c.useContext(Jr),S=c.useContext(Dr),C=(n=(y==null?void 0:y.disabled)||p)!==null&&n!==void 0?n:S,x=c.useRef(f.value);c.useEffect(()=>{y==null||y.registerValue(f.value)},[]),c.useEffect(()=>{if(!h)return f.value!==x.current&&(y==null||y.cancelValue(x.current),y==null||y.registerValue(f.value),x.current=f.value),()=>y==null?void 0:y.cancelValue(f.value)},[f.value]);const N=v("checkbox",r),w=dr(N),[$,P,O]=jl(N,w),T=Object.assign({},f);y&&!h&&(T.onChange=function(){f.onChange&&f.onChange.apply(f,arguments),y.toggleOption&&y.toggleOption({label:s,value:f.value})},T.name=y.name,T.checked=y.value.includes(f.value));const A=pe(`${N}-wrapper`,{[`${N}-rtl`]:m==="rtl",[`${N}-wrapper-checked`]:T.checked,[`${N}-wrapper-disabled`]:C,[`${N}-wrapper-in-form-item`]:b},g==null?void 0:g.className,o,a,O,w,P),L=pe({[`${N}-indeterminate`]:i},gu,P),R=i?"mixed":void 0;return $(c.createElement(mu,{component:"Checkbox",disabled:C},c.createElement("label",{className:A,style:Object.assign(Object.assign({},g==null?void 0:g.style),l),onMouseEnter:u,onMouseLeave:d},c.createElement(Sf,Object.assign({"aria-checked":R},T,{prefixCls:N,className:L,disabled:C,ref:t})),s!==void 0&&c.createElement("span",null,s))))},Hl=c.forwardRef(Df);var Tf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const _f=c.forwardRef((e,t)=>{const{defaultValue:n,children:r,options:o=[],prefixCls:a,className:s,rootClassName:i,style:l,onChange:u}=e,d=Tf(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:h,direction:p}=c.useContext(dn),[f,v]=c.useState(d.value||n||[]),[m,g]=c.useState([]);c.useEffect(()=>{"value"in d&&v(d.value||[])},[d.value]);const y=c.useMemo(()=>o.map(I=>typeof I=="string"||typeof I=="number"?{label:I,value:I}:I),[o]),b=I=>{g(j=>j.filter(z=>z!==I))},S=I=>{g(j=>[].concat(Ze(j),[I]))},C=I=>{const j=f.indexOf(I.value),z=Ze(f);j===-1?z.push(I.value):z.splice(j,1),"value"in d||v(z),u==null||u(z.filter(B=>m.includes(B)).sort((B,q)=>{const ne=y.findIndex(te=>te.value===B),G=y.findIndex(te=>te.value===q);return ne-G}))},x=h("checkbox",a),N=`${x}-group`,w=dr(x),[$,P,O]=jl(x,w),T=Xn(d,["value","disabled"]),A=o.length?y.map(I=>c.createElement(Hl,{prefixCls:x,key:I.value.toString(),disabled:"disabled"in I?I.disabled:d.disabled,value:I.value,checked:f.includes(I.value),onChange:I.onChange,className:`${N}-item`,style:I.style,title:I.title,id:I.id,required:I.required},I.label)):r,L={toggleOption:C,value:f,disabled:d.disabled,name:d.name,registerValue:S,cancelValue:b},R=pe(N,{[`${N}-rtl`]:p==="rtl"},s,i,O,w,P);return $(c.createElement("div",Object.assign({className:R,style:l},T,{ref:t}),c.createElement(Bl.Provider,{value:L},A)))}),oi=Hl;oi.Group=_f;oi.__ANT_CHECKBOX=!0;var Vl=V.forwardRef(function(e,t){var n=e.prefixCls,r=e.forceRender,o=e.className,a=e.style,s=e.children,i=e.isActive,l=e.role,u=V.useState(i||r),d=ge(u,2),h=d[0],p=d[1];return V.useEffect(function(){(r||i)&&p(!0)},[r,i]),h?V.createElement("div",{ref:t,className:pe("".concat(n,"-content"),k(k({},"".concat(n,"-content-active"),i),"".concat(n,"-content-inactive"),!i),o),style:a,role:l},V.createElement("div",{className:"".concat(n,"-content-box")},s)):null});Vl.displayName="PanelContent";var kf=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Kl=V.forwardRef(function(e,t){var n=e.showArrow,r=n===void 0?!0:n,o=e.headerClass,a=e.isActive,s=e.onItemClick,i=e.forceRender,l=e.className,u=e.prefixCls,d=e.collapsible,h=e.accordion,p=e.panelKey,f=e.extra,v=e.header,m=e.expandIcon,g=e.openMotion,y=e.destroyInactivePanel,b=e.children,S=_t(e,kf),C=d==="disabled",x=d==="header",N=d==="icon",w=f!=null&&typeof f!="boolean",$=function(){s==null||s(p)},P=function(I){(I.key==="Enter"||I.keyCode===we.ENTER||I.which===we.ENTER)&&$()},O=typeof m=="function"?m(e):V.createElement("i",{className:"arrow"});O&&(O=V.createElement("div",{className:"".concat(u,"-expand-icon"),onClick:["header","icon"].includes(d)?$:void 0},O));var T=pe(k(k(k({},"".concat(u,"-item"),!0),"".concat(u,"-item-active"),a),"".concat(u,"-item-disabled"),C),l),A=pe(o,k(k(k({},"".concat(u,"-header"),!0),"".concat(u,"-header-collapsible-only"),x),"".concat(u,"-icon-collapsible-only"),N)),L={className:A,"aria-expanded":a,"aria-disabled":C,onKeyDown:P};return!x&&!N&&(L.onClick=$,L.role=h?"tab":"button",L.tabIndex=C?-1:0),V.createElement("div",Xe({},S,{ref:t,className:T}),V.createElement("div",L,r&&O,V.createElement("span",{className:"".concat(u,"-header-text"),onClick:d==="header"?$:void 0},v),w&&V.createElement("div",{className:"".concat(u,"-extra")},f)),V.createElement(Ba,Xe({visible:a,leavedClassName:"".concat(u,"-content-hidden")},g,{forceRender:i,removeOnLeave:y}),function(R,I){var j=R.className,z=R.style;return V.createElement(Vl,{ref:I,prefixCls:u,className:j,style:z,isActive:a,forceRender:i,role:h?"tabpanel":void 0},b)}))}),Lf=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],zf=function(t,n){var r=n.prefixCls,o=n.accordion,a=n.collapsible,s=n.destroyInactivePanel,i=n.onItemClick,l=n.activeKey,u=n.openMotion,d=n.expandIcon;return t.map(function(h,p){var f=h.children,v=h.label,m=h.key,g=h.collapsible,y=h.onItemClick,b=h.destroyInactivePanel,S=_t(h,Lf),C=String(m??p),x=g??a,N=b??s,w=function(O){x!=="disabled"&&(i(O),y==null||y(O))},$=!1;return o?$=l[0]===C:$=l.indexOf(C)>-1,V.createElement(Kl,Xe({},S,{prefixCls:r,key:C,panelKey:C,isActive:$,accordion:o,openMotion:u,expandIcon:d,header:v,collapsible:x,onItemClick:w,destroyInactivePanel:N}),f)})},jf=function(t,n,r){if(!t)return null;var o=r.prefixCls,a=r.accordion,s=r.collapsible,i=r.destroyInactivePanel,l=r.onItemClick,u=r.activeKey,d=r.openMotion,h=r.expandIcon,p=t.key||String(n),f=t.props,v=f.header,m=f.headerClass,g=f.destroyInactivePanel,y=f.collapsible,b=f.onItemClick,S=!1;a?S=u[0]===p:S=u.indexOf(p)>-1;var C=y??s,x=function($){C!=="disabled"&&(l($),b==null||b($))},N={key:p,panelKey:p,header:v,headerClass:m,isActive:S,prefixCls:o,destroyInactivePanel:g??i,openMotion:d,accordion:a,children:t.props.children,onItemClick:x,expandIcon:h,collapsible:C};return typeof t.type=="string"?t:(Object.keys(N).forEach(function(w){typeof N[w]>"u"&&delete N[w]}),V.cloneElement(t,N))};function Bf(e,t,n){return Array.isArray(e)?zf(e,n):Qr(t).map(function(r,o){return jf(r,o,n)})}function Hf(e){var t=e;if(!Array.isArray(t)){var n=on(t);t=n==="number"||n==="string"?[t]:[]}return t.map(function(r){return String(r)})}var Vf=V.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-collapse":n,o=e.destroyInactivePanel,a=o===void 0?!1:o,s=e.style,i=e.accordion,l=e.className,u=e.children,d=e.collapsible,h=e.openMotion,p=e.expandIcon,f=e.activeKey,v=e.defaultActiveKey,m=e.onChange,g=e.items,y=pe(r,l),b=an([],{value:f,onChange:function(P){return m==null?void 0:m(P)},defaultValue:v,postState:Hf}),S=ge(b,2),C=S[0],x=S[1],N=function(P){return x(function(){if(i)return C[0]===P?[]:[P];var O=C.indexOf(P),T=O>-1;return T?C.filter(function(A){return A!==P}):[].concat(Ze(C),[P])})};tn(!u,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var w=Bf(g,u,{prefixCls:r,accordion:i,openMotion:h,expandIcon:p,collapsible:d,destroyInactivePanel:a,onItemClick:N,activeKey:C});return V.createElement("div",Xe({ref:t,className:y,style:s,role:i?"tablist":void 0},qn(e,{aria:!0,data:!0})),w)});const ai=Object.assign(Vf,{Panel:Kl});ai.Panel;const Kf=c.forwardRef((e,t)=>{const{getPrefixCls:n}=c.useContext(dn),{prefixCls:r,className:o,showArrow:a=!0}=e,s=n("collapse",r),i=pe({[`${s}-no-arrow`]:!a},o);return c.createElement(ai.Panel,Object.assign({ref:t},e,{prefixCls:s,className:i}))}),Ff=e=>{const{componentCls:t,contentBg:n,padding:r,headerBg:o,headerPadding:a,collapseHeaderPaddingSM:s,collapseHeaderPaddingLG:i,collapsePanelBorderRadius:l,lineWidth:u,lineType:d,colorBorder:h,colorText:p,colorTextHeading:f,colorTextDisabled:v,fontSizeLG:m,lineHeight:g,lineHeightLG:y,marginSM:b,paddingSM:S,paddingLG:C,paddingXS:x,motionDurationSlow:N,fontSizeIcon:w,contentPadding:$,fontHeight:P,fontHeightLG:O}=e,T=`${ae(u)} ${d} ${h}`;return{[t]:Object.assign(Object.assign({},cn(e)),{backgroundColor:o,border:T,borderRadius:l,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:T,"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${ae(l)} ${ae(l)}`}},[`> ${t}-header`]:{position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:a,color:f,lineHeight:g,cursor:"pointer",transition:`all ${N}, visibility 0s`,[`> ${t}-header-text`]:{flex:"auto"},"&:focus":{outline:"none"},[`${t}-expand-icon`]:{height:P,display:"flex",alignItems:"center",paddingInlineEnd:b},[`${t}-arrow`]:Object.assign(Object.assign({},To()),{fontSize:w,transition:`transform ${N}`,svg:{transition:`transform ${N}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}},[`${t}-icon-collapsible-only`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:p,backgroundColor:n,borderTop:T,[`& > ${t}-content-box`]:{padding:$},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:s,paddingInlineStart:x,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(S).sub(x).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:S}}},"&-large":{[`> ${t}-item`]:{fontSize:m,lineHeight:y,[`> ${t}-header`]:{padding:i,paddingInlineStart:r,[`> ${t}-expand-icon`]:{height:O,marginInlineStart:e.calc(C).sub(r).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:C}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${ae(l)} ${ae(l)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:v,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:b}}}}})}},Wf=e=>{const{componentCls:t}=e,n=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[n]:{transform:"rotate(180deg)"}}}},Gf=e=>{const{componentCls:t,headerBg:n,paddingXXS:r,colorBorder:o}=e;return{[`${t}-borderless`]:{backgroundColor:n,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${o}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{paddingTop:r}}}},Uf=e=>{const{componentCls:t,paddingSM:n}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:n}}}}}},qf=e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer}),Xf=In("Collapse",e=>{const t=rn(e,{collapseHeaderPaddingSM:`${ae(e.paddingXS)} ${ae(e.paddingSM)}`,collapseHeaderPaddingLG:`${ae(e.padding)} ${ae(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[Ff(t),Gf(t),Uf(t),Wf(t),tl(t)]},qf),Yf=c.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r,collapse:o}=c.useContext(dn),{prefixCls:a,className:s,rootClassName:i,style:l,bordered:u=!0,ghost:d,size:h,expandIconPosition:p="start",children:f,expandIcon:v}=e,m=Rr(T=>{var A;return(A=h??T)!==null&&A!==void 0?A:"middle"}),g=n("collapse",a),y=n(),[b,S,C]=Xf(g),x=c.useMemo(()=>p==="left"?"start":p==="right"?"end":p,[p]),N=v??(o==null?void 0:o.expandIcon),w=c.useCallback(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const A=typeof N=="function"?N(T):c.createElement(vu,{rotate:T.isActive?90:void 0,"aria-label":T.isActive?"expanded":"collapsed"});return Ur(A,()=>{var L;return{className:pe((L=A==null?void 0:A.props)===null||L===void 0?void 0:L.className,`${g}-arrow`)}})},[N,g]),$=pe(`${g}-icon-position-${x}`,{[`${g}-borderless`]:!u,[`${g}-rtl`]:r==="rtl",[`${g}-ghost`]:!!d,[`${g}-${m}`]:m!=="middle"},o==null?void 0:o.className,s,i,S,C),P=Object.assign(Object.assign({},yu(y)),{motionAppear:!1,leavedClassName:`${g}-content-hidden`}),O=c.useMemo(()=>f?Qr(f).map((T,A)=>{var L,R;if(!((L=T.props)===null||L===void 0)&&L.disabled){const I=(R=T.key)!==null&&R!==void 0?R:String(A),{disabled:j,collapsible:z}=T.props,B=Object.assign(Object.assign({},Xn(T.props,["disabled"])),{key:I,collapsible:z??(j?"disabled":void 0)});return Ur(T,B)}return T}):null,[f]);return b(c.createElement(ai,Object.assign({ref:t,openMotion:P},Xn(e,["rootClassName"]),{expandIcon:w,prefixCls:g,className:$,style:Object.assign(Object.assign({},o==null?void 0:o.style),l)}),O))}),Zf=Object.assign(Yf,{Panel:Kf});var Qf=["b"],Jf=["v"],na=function(t){return Math.round(Number(t||0))},ep=function(t){if(t instanceof nl)return t;if(t&&on(t)==="object"&&"h"in t&&"b"in t){var n=t,r=n.b,o=_t(n,Qf);return oe(oe({},o),{},{v:r})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},Dn=function(e){Ha(n,e);var t=Va(n);function n(r){return pr(this,n),t.call(this,ep(r))}return fr(n,[{key:"toHsbString",value:function(){var o=this.toHsb(),a=na(o.s*100),s=na(o.b*100),i=na(o.h),l=o.a,u="hsb(".concat(i,", ").concat(a,"%, ").concat(s,"%)"),d="hsba(".concat(i,", ").concat(a,"%, ").concat(s,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?u:d}},{key:"toHsb",value:function(){var o=this.toHsv(),a=o.v,s=_t(o,Jf);return oe(oe({},s),{},{b:a,a:this.a})}}]),n}(nl),tp="rc-color-picker",Ir=function(t){return t instanceof Dn?t:new Dn(t)},np=Ir("#1677ff"),Fl=function(t){var n=t.offset,r=t.targetRef,o=t.containerRef,a=t.color,s=t.type,i=o.current.getBoundingClientRect(),l=i.width,u=i.height,d=r.current.getBoundingClientRect(),h=d.width,p=d.height,f=h/2,v=p/2,m=(n.x+f)/l,g=1-(n.y+v)/u,y=a.toHsb(),b=m,S=(n.x+f)/l*360;if(s)switch(s){case"hue":return Ir(oe(oe({},y),{},{h:S<=0?0:S}));case"alpha":return Ir(oe(oe({},y),{},{a:b<=0?0:b}))}return Ir({h:y.h,s:m<=0?0:m,b:g>=1?1:g,a:y.a})},Wl=function(t,n){var r=t.toHsb();switch(n){case"hue":return{x:r.h/360*100,y:50};case"alpha":return{x:t.a*100,y:50};default:return{x:r.s*100,y:(1-r.b)*100}}},ii=function(t){var n=t.color,r=t.prefixCls,o=t.className,a=t.style,s=t.onClick,i="".concat(r,"-color-block");return V.createElement("div",{className:pe(i,o),style:a,onClick:s},V.createElement("div",{className:"".concat(i,"-inner"),style:{background:n}}))};function rp(e){var t="touches"in e?e.touches[0]:e,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-n,pageY:t.pageY-r}}function Gl(e){var t=e.targetRef,n=e.containerRef,r=e.direction,o=e.onDragChange,a=e.onDragChangeComplete,s=e.calculate,i=e.color,l=e.disabledDrag,u=c.useState({x:0,y:0}),d=ge(u,2),h=d[0],p=d[1],f=c.useRef(null),v=c.useRef(null);c.useEffect(function(){p(s())},[i]),c.useEffect(function(){return function(){document.removeEventListener("mousemove",f.current),document.removeEventListener("mouseup",v.current),document.removeEventListener("touchmove",f.current),document.removeEventListener("touchend",v.current),f.current=null,v.current=null}},[]);var m=function(C){var x=rp(C),N=x.pageX,w=x.pageY,$=n.current.getBoundingClientRect(),P=$.x,O=$.y,T=$.width,A=$.height,L=t.current.getBoundingClientRect(),R=L.width,I=L.height,j=R/2,z=I/2,B=Math.max(0,Math.min(N-P,T))-j,q=Math.max(0,Math.min(w-O,A))-z,ne={x:B,y:r==="x"?h.y:q};if(R===0&&I===0||R!==I)return!1;o==null||o(ne)},g=function(C){C.preventDefault(),m(C)},y=function(C){C.preventDefault(),document.removeEventListener("mousemove",f.current),document.removeEventListener("mouseup",v.current),document.removeEventListener("touchmove",f.current),document.removeEventListener("touchend",v.current),f.current=null,v.current=null,a==null||a()},b=function(C){document.removeEventListener("mousemove",f.current),document.removeEventListener("mouseup",v.current),!l&&(m(C),document.addEventListener("mousemove",g),document.addEventListener("mouseup",y),document.addEventListener("touchmove",g),document.addEventListener("touchend",y),f.current=g,v.current=y)};return[h,b]}var Ul=function(t){var n=t.size,r=n===void 0?"default":n,o=t.color,a=t.prefixCls;return V.createElement("div",{className:pe("".concat(a,"-handler"),k({},"".concat(a,"-handler-sm"),r==="small")),style:{backgroundColor:o}})},ql=function(t){var n=t.children,r=t.style,o=t.prefixCls;return V.createElement("div",{className:"".concat(o,"-palette"),style:oe({position:"relative"},r)},n)},Xl=c.forwardRef(function(e,t){var n=e.children,r=e.x,o=e.y;return V.createElement("div",{ref:t,style:{position:"absolute",left:"".concat(r,"%"),top:"".concat(o,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},n)}),op=function(t){var n=t.color,r=t.onChange,o=t.prefixCls,a=t.onChangeComplete,s=t.disabled,i=c.useRef(),l=c.useRef(),u=c.useRef(n),d=$n(function(m){var g=Fl({offset:m,targetRef:l,containerRef:i,color:n});u.current=g,r(g)}),h=Gl({color:n,containerRef:i,targetRef:l,calculate:function(){return Wl(n)},onDragChange:d,onDragChangeComplete:function(){return a==null?void 0:a(u.current)},disabledDrag:s}),p=ge(h,2),f=p[0],v=p[1];return V.createElement("div",{ref:i,className:"".concat(o,"-select"),onMouseDown:v,onTouchStart:v},V.createElement(ql,{prefixCls:o},V.createElement(Xl,{x:f.x,y:f.y,ref:l},V.createElement(Ul,{color:n.toRgbString(),prefixCls:o})),V.createElement("div",{className:"".concat(o,"-saturation"),style:{backgroundColor:"hsl(".concat(n.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},ap=function(t,n){var r=an(t,{value:n}),o=ge(r,2),a=o[0],s=o[1],i=c.useMemo(function(){return Ir(a)},[a]);return[i,s]},ip=function(t){var n=t.colors,r=t.children,o=t.direction,a=o===void 0?"to right":o,s=t.type,i=t.prefixCls,l=c.useMemo(function(){return n.map(function(u,d){var h=Ir(u);return s==="alpha"&&d===n.length-1&&(h=new Dn(h.setA(1))),h.toRgbString()}).join(",")},[n,s]);return V.createElement("div",{className:"".concat(i,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(a,", ").concat(l,")")}},r)},sp=function(t){var n=t.prefixCls,r=t.colors,o=t.disabled,a=t.onChange,s=t.onChangeComplete,i=t.color,l=t.type,u=c.useRef(),d=c.useRef(),h=c.useRef(i),p=function(x){return l==="hue"?x.getHue():x.a*100},f=$n(function(C){var x=Fl({offset:C,targetRef:d,containerRef:u,color:i,type:l});h.current=x,a(p(x))}),v=Gl({color:i,targetRef:d,containerRef:u,calculate:function(){return Wl(i,l)},onDragChange:f,onDragChangeComplete:function(){s(p(h.current))},direction:"x",disabledDrag:o}),m=ge(v,2),g=m[0],y=m[1],b=V.useMemo(function(){if(l==="hue"){var C=i.toHsb();C.s=1,C.b=1,C.a=1;var x=new Dn(C);return x}return i},[i,l]),S=V.useMemo(function(){return r.map(function(C){return"".concat(C.color," ").concat(C.percent,"%")})},[r]);return V.createElement("div",{ref:u,className:pe("".concat(n,"-slider"),"".concat(n,"-slider-").concat(l)),onMouseDown:y,onTouchStart:y},V.createElement(ql,{prefixCls:n},V.createElement(Xl,{x:g.x,y:g.y,ref:d},V.createElement(Ul,{size:"small",color:b.toHexString(),prefixCls:n})),V.createElement(ip,{colors:S,type:l,prefixCls:n})))};function lp(e){return c.useMemo(function(){var t=e||{},n=t.slider;return[n||sp]},[e])}var cp=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],up=c.forwardRef(function(e,t){var n=e.value,r=e.defaultValue,o=e.prefixCls,a=o===void 0?tp:o,s=e.onChange,i=e.onChangeComplete,l=e.className,u=e.style,d=e.panelRender,h=e.disabledAlpha,p=h===void 0?!1:h,f=e.disabled,v=f===void 0?!1:f,m=e.components,g=lp(m),y=ge(g,1),b=y[0],S=ap(r||np,n),C=ge(S,2),x=C[0],N=C[1],w=c.useMemo(function(){return x.setA(1).toRgbString()},[x]),$=function(q,ne){n||N(q),s==null||s(q,ne)},P=function(q){return new Dn(x.setHue(q))},O=function(q){return new Dn(x.setA(q/100))},T=function(q){$(P(q),{type:"hue",value:q})},A=function(q){$(O(q),{type:"alpha",value:q})},L=function(q){i&&i(P(q))},R=function(q){i&&i(O(q))},I=pe("".concat(a,"-panel"),l,k({},"".concat(a,"-panel-disabled"),v)),j={prefixCls:a,disabled:v,color:x},z=V.createElement(V.Fragment,null,V.createElement(op,Xe({onChange:$},j,{onChangeComplete:i})),V.createElement("div",{className:"".concat(a,"-slider-container")},V.createElement("div",{className:pe("".concat(a,"-slider-group"),k({},"".concat(a,"-slider-group-disabled-alpha"),p))},V.createElement(b,Xe({},j,{type:"hue",colors:cp,min:0,max:359,value:x.getHue(),onChange:T,onChangeComplete:L})),!p&&V.createElement(b,Xe({},j,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:w}],min:0,max:100,value:x.a*100,onChange:A,onChangeComplete:R}))),V.createElement(ii,{color:x.toRgbString(),prefixCls:a})));return V.createElement("div",{className:I,style:u,ref:t},typeof d=="function"?d(z):z)});const Hr=(e,t)=>(e==null?void 0:e.replace(/[^\w/]/gi,"").slice(0,t?8:6))||"",dp=(e,t)=>e?Hr(e,t):"";let Mn=function(){function e(t){pr(this,e);var n;if(this.cleared=!1,t instanceof e){this.metaColor=t.metaColor.clone(),this.colors=(n=t.colors)===null||n===void 0?void 0:n.map(o=>({color:new e(o.color),percent:o.percent})),this.cleared=t.cleared;return}const r=Array.isArray(t);r&&t.length?(this.colors=t.map(o=>{let{color:a,percent:s}=o;return{color:new e(a),percent:s}}),this.metaColor=new Dn(this.colors[0].color.metaColor)):this.metaColor=new Dn(r?"":t),(!t||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return fr(e,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return dp(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:n}=this;return n?`linear-gradient(90deg, ${n.map(o=>`${o.color.toRgbString()} ${o.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(n){return!n||this.isGradient()!==n.isGradient()?!1:this.isGradient()?this.colors.length===n.colors.length&&this.colors.every((r,o)=>{const a=n.colors[o];return r.percent===a.percent&&r.color.equals(a.color)}):this.toHexString()===n.toHexString()}}])}();const hp=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:o,textPaddingInline:a,orientationMargin:s,verticalMarginInline:i}=e;return{[t]:Object.assign(Object.assign({},cn(e)),{borderBlockStart:`${ae(o)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:i,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${ae(o)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${ae(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${ae(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${ae(o)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:`calc(${s} * 100%)`},"&::after":{width:`calc(100% - ${s} * 100%)`}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:`calc(100% - ${s} * 100%)`},"&::after":{width:`calc(${s} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:a},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${ae(o)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${ae(o)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}},fp=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),pp=In("Divider",e=>{const t=rn(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[hp(t)]},fp,{unitless:{orientationMargin:!0}});var gp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const mp=e=>{const{getPrefixCls:t,direction:n,divider:r}=c.useContext(dn),{prefixCls:o,type:a="horizontal",orientation:s="center",orientationMargin:i,className:l,rootClassName:u,children:d,dashed:h,variant:p="solid",plain:f,style:v}=e,m=gp(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),g=t("divider",o),[y,b,S]=pp(g),C=!!d,x=s==="left"&&i!=null,N=s==="right"&&i!=null,w=pe(g,r==null?void 0:r.className,b,S,`${g}-${a}`,{[`${g}-with-text`]:C,[`${g}-with-text-${s}`]:C,[`${g}-dashed`]:!!h,[`${g}-${p}`]:p!=="solid",[`${g}-plain`]:!!f,[`${g}-rtl`]:n==="rtl",[`${g}-no-default-orientation-margin-left`]:x,[`${g}-no-default-orientation-margin-right`]:N},l,u),$=c.useMemo(()=>typeof i=="number"?i:/^\d+$/.test(i)?Number(i):i,[i]),P=Object.assign(Object.assign({},x&&{marginLeft:$}),N&&{marginRight:$});return y(c.createElement("div",Object.assign({className:w,style:Object.assign(Object.assign({},r==null?void 0:r.style),v)},m,{role:"separator"}),d&&a!=="vertical"&&c.createElement("span",{className:`${g}-inner-text`,style:P},d)))};var Wi=function(t){return t?{left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth}:null},Cr=function(t){return t!==void 0?"".concat(t,"px"):void 0};function vp(e){var t=e.prefixCls,n=e.containerRef,r=e.value,o=e.getValueIndex,a=e.motionName,s=e.onMotionStart,i=e.onMotionEnd,l=e.direction,u=c.useRef(null),d=c.useState(r),h=ge(d,2),p=h[0],f=h[1],v=function(L){var R,I=o(L),j=(R=n.current)===null||R===void 0?void 0:R.querySelectorAll(".".concat(t,"-item"))[I];return(j==null?void 0:j.offsetParent)&&j},m=c.useState(null),g=ge(m,2),y=g[0],b=g[1],S=c.useState(null),C=ge(S,2),x=C[0],N=C[1];vn(function(){if(p!==r){var A=v(p),L=v(r),R=Wi(A),I=Wi(L);f(r),b(R),N(I),A&&L?s():i()}},[r]);var w=c.useMemo(function(){return Cr(l==="rtl"?-(y==null?void 0:y.right):y==null?void 0:y.left)},[l,y]),$=c.useMemo(function(){return Cr(l==="rtl"?-(x==null?void 0:x.right):x==null?void 0:x.left)},[l,x]),P=function(){return{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},O=function(){return{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},T=function(){b(null),N(null),i()};return!y||!x?null:c.createElement(Ba,{visible:!0,motionName:a,motionAppear:!0,onAppearStart:P,onAppearActive:O,onVisibleChanged:T},function(A,L){var R=A.className,I=A.style,j=oe(oe({},I),{},{"--thumb-start-left":w,"--thumb-start-width":Cr(y==null?void 0:y.width),"--thumb-active-left":$,"--thumb-active-width":Cr(x==null?void 0:x.width)}),z={ref:Zr(u,L),style:j,className:pe("".concat(t,"-thumb"),R)};return c.createElement("div",z)})}var yp=["prefixCls","direction","options","disabled","defaultValue","value","onChange","className","motionName"];function bp(e){if(typeof e.title<"u")return e.title;if(on(e.label)!=="object"){var t;return(t=e.label)===null||t===void 0?void 0:t.toString()}}function Sp(e){return e.map(function(t){if(on(t)==="object"&&t!==null){var n=bp(t);return oe(oe({},t),{},{title:n})}return{label:t==null?void 0:t.toString(),title:t==null?void 0:t.toString(),value:t}})}var Cp=function(t){var n=t.prefixCls,r=t.className,o=t.disabled,a=t.checked,s=t.label,i=t.title,l=t.value,u=t.onChange,d=function(p){o||u(p,l)};return c.createElement("label",{className:pe(r,k({},"".concat(n,"-item-disabled"),o))},c.createElement("input",{className:"".concat(n,"-item-input"),type:"radio",disabled:o,checked:a,onChange:d}),c.createElement("div",{className:"".concat(n,"-item-label"),title:i},s))},xp=c.forwardRef(function(e,t){var n,r,o=e.prefixCls,a=o===void 0?"rc-segmented":o,s=e.direction,i=e.options,l=i===void 0?[]:i,u=e.disabled,d=e.defaultValue,h=e.value,p=e.onChange,f=e.className,v=f===void 0?"":f,m=e.motionName,g=m===void 0?"thumb-motion":m,y=_t(e,yp),b=c.useRef(null),S=c.useMemo(function(){return Zr(b,t)},[b,t]),C=c.useMemo(function(){return Sp(l)},[l]),x=an((n=C[0])===null||n===void 0?void 0:n.value,{value:h,defaultValue:d}),N=ge(x,2),w=N[0],$=N[1],P=c.useState(!1),O=ge(P,2),T=O[0],A=O[1],L=function(j,z){u||($(z),p==null||p(z))},R=Xn(y,["children"]);return c.createElement("div",Xe({},R,{className:pe(a,(r={},k(r,"".concat(a,"-rtl"),s==="rtl"),k(r,"".concat(a,"-disabled"),u),r),v),ref:S}),c.createElement("div",{className:"".concat(a,"-group")},c.createElement(vp,{prefixCls:a,value:w,containerRef:b,motionName:"".concat(a,"-").concat(g),direction:s,getValueIndex:function(j){return C.findIndex(function(z){return z.value===j})},onMotionStart:function(){A(!0)},onMotionEnd:function(){A(!1)}}),C.map(function(I){return c.createElement(Cp,Xe({},I,{key:I.value,prefixCls:a,className:pe(I.className,"".concat(a,"-item"),k({},"".concat(a,"-item-selected"),I.value===w&&!T)),checked:I.value===w,onChange:L,disabled:!!u||!!I.disabled}))})))}),wp=xp;function Gi(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function Ui(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const Ep=Object.assign({overflow:"hidden"},Eo),Np=e=>{const{componentCls:t}=e,n=e.calc(e.controlHeight).sub(e.calc(e.trackPadding).mul(2)).equal(),r=e.calc(e.controlHeightLG).sub(e.calc(e.trackPadding).mul(2)).equal(),o=e.calc(e.controlHeightSM).sub(e.calc(e.trackPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},cn(e)),{display:"inline-block",padding:e.trackPadding,color:e.itemColor,background:e.trackBg,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},Ui(e)),{color:e.itemSelectedColor}),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:n,lineHeight:ae(n),padding:`0 ${ae(e.segmentedPaddingHorizontal)}`},Ep),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},Ui(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${ae(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:r,lineHeight:ae(r),padding:`0 ${ae(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:o,lineHeight:ae(o),padding:`0 ${ae(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),Gi(`&-disabled ${t}-item`,e)),Gi(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"}})}},Mp=e=>{const{colorTextLabel:t,colorText:n,colorFillSecondary:r,colorBgElevated:o,colorFill:a,lineWidthBold:s,colorBgLayout:i}=e;return{trackPadding:s,trackBg:i,itemColor:t,itemHoverColor:n,itemHoverBg:r,itemSelectedBg:o,itemActiveBg:a,itemSelectedColor:n}},$p=In("Segmented",e=>{const{lineWidth:t,calc:n}=e,r=rn(e,{segmentedPaddingHorizontal:n(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:n(e.controlPaddingHorizontalSM).sub(t).equal()});return[Np(r)]},Mp);var qi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function Ip(e){return typeof e=="object"&&!!(e!=null&&e.icon)}const Op=c.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:o,block:a,options:s=[],size:i="middle",style:l}=e,u=qi(e,["prefixCls","className","rootClassName","block","options","size","style"]),{getPrefixCls:d,direction:h,segmented:p}=c.useContext(dn),f=d("segmented",n),[v,m,g]=$p(f),y=Rr(i),b=c.useMemo(()=>s.map(x=>{if(Ip(x)){const{icon:N,label:w}=x,$=qi(x,["icon","label"]);return Object.assign(Object.assign({},$),{label:c.createElement(c.Fragment,null,c.createElement("span",{className:`${f}-item-icon`},N),w&&c.createElement("span",null,w))})}return x}),[s,f]),S=pe(r,o,p==null?void 0:p.className,{[`${f}-block`]:a,[`${f}-sm`]:y==="small",[`${f}-lg`]:y==="large"},m,g),C=Object.assign(Object.assign({},p==null?void 0:p.style),l);return v(c.createElement(wp,Object.assign({},u,{className:S,style:C,options:b,ref:t,prefixCls:f,direction:h})))}),Ap=Op,Yl=V.createContext({}),Zl=V.createContext({}),sn=e=>e instanceof Mn?e:new Mn(e),Co=e=>Math.round(Number(e||0)),si=e=>Co(e.toHsb().a*100),xo=(e,t)=>{const n=e.toHsb();return n.a=1,sn(n)},Ql=(e,t)=>{const n=[{percent:0,color:e[0].color}].concat(Ze(e),[{percent:100,color:e[e.length-1].color}]);for(let r=0;r<n.length-1;r+=1){const o=n[r].percent,a=n[r+1].percent,s=n[r].color,i=n[r+1].color;if(o<=t&&t<=a){const l=a-o;if(l===0)return s;const u=(t-o)/l*100,d=new Dn(s),h=new Dn(i);return d.mix(h,u).toRgbString()}}return""},Jl=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=()=>{if(r&&n&&!n.cleared){const a=n.toHsb();a.a=0;const s=sn(a);s.cleared=!0,r(s)}};return V.createElement("div",{className:`${t}-clear`,onClick:o})};var Gn;(function(e){e.hex="hex",e.rgb="rgb",e.hsb="hsb"})(Gn||(Gn={}));var Pp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},Rp=function(t,n){return c.createElement(Zn,Xe({},t,{ref:n,icon:Pp}))},Dp=c.forwardRef(Rp);function $a(){return typeof BigInt=="function"}function ec(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function lr(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var r=t||"0",o=r.split("."),a=o[0]||"0",s=o[1]||"0";a==="0"&&s==="0"&&(n=!1);var i=n?"-":"";return{negative:n,negativeStr:i,trimStr:r,integerStr:a,decimalStr:s,fullStr:"".concat(i).concat(r)}}function li(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function ar(e){var t=String(e);if(li(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&ci(t)?t.length-t.indexOf(".")-1:0}function jo(e){var t=String(e);if(li(e)){if(e>Number.MAX_SAFE_INTEGER)return String($a()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String($a()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(ar(t))}return lr(t).fullStr}function ci(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var Tp=function(){function e(t){if(pr(this,e),k(this,"origin",""),k(this,"negative",void 0),k(this,"integer",void 0),k(this,"decimal",void 0),k(this,"decimalLen",void 0),k(this,"empty",void 0),k(this,"nan",void 0),ec(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var n=t;if(li(n)&&(n=Number(n)),n=typeof n=="string"?n:jo(n),ci(n)){var r=lr(n);this.negative=r.negative;var o=r.trimStr.split(".");this.integer=BigInt(o[0]);var a=o[1]||"0";this.decimal=BigInt(a),this.decimalLen=a.length}else this.nan=!0}return fr(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,o){var a=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),s=this.alignDecimal(a),i=n.alignDecimal(a),l=r(s,i).toString(),u=o(a),d=lr(l),h=d.negativeStr,p=d.trimStr,f="".concat(h).concat(p.padStart(u+1,"0"));return new e("".concat(f.slice(0,-u),".").concat(f.slice(-u)))}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=new e(n);return r.isInvalidate()?this:this.cal(r,function(o,a){return o+a},function(o){return o})}},{key:"multi",value:function(n){var r=new e(n);return this.isInvalidate()||r.isInvalidate()?new e(NaN):this.cal(r,function(o,a){return o*a},function(o){return o*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":lr("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),_p=function(){function e(t){if(pr(this,e),k(this,"origin",""),k(this,"number",void 0),k(this,"empty",void 0),ec(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return fr(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=Number(n);if(Number.isNaN(r))return this;var o=this.number+r;if(o>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(o<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var a=Math.max(ar(this.number),ar(r));return new e(o.toFixed(a))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new e(NaN);var o=this.number*r;if(o>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(o<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var a=Math.max(ar(this.number),ar(r));return new e(o.toFixed(a))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":jo(this.number):this.origin}}]),e}();function Pn(e){return $a()?new Tp(e):new _p(e)}function wo(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var o=lr(e),a=o.negativeStr,s=o.integerStr,i=o.decimalStr,l="".concat(t).concat(i),u="".concat(a).concat(s);if(n>=0){var d=Number(i[n]);if(d>=5&&!r){var h=Pn(e).add("".concat(a,"0.").concat("0".repeat(n)).concat(10-d));return wo(h.toString(),t,n,r)}return n===0?u:"".concat(u).concat(t).concat(i.padEnd(n,"0").slice(0,n))}return l===".0"?u:"".concat(u).concat(l)}function kp(e,t){return typeof Proxy<"u"&&e?new Proxy(e,{get:function(r,o){if(t[o])return t[o];var a=r[o];return typeof a=="function"?a.bind(r):a}}):e}function Lp(e,t){var n=c.useRef(null);function r(){try{var a=e.selectionStart,s=e.selectionEnd,i=e.value,l=i.substring(0,a),u=i.substring(s);n.current={start:a,end:s,value:i,beforeTxt:l,afterTxt:u}}catch{}}function o(){if(e&&n.current&&t)try{var a=e.value,s=n.current,i=s.beforeTxt,l=s.afterTxt,u=s.start,d=a.length;if(a.startsWith(i))d=i.length;else if(a.endsWith(l))d=a.length-n.current.afterTxt.length;else{var h=i[u-1],p=a.indexOf(h,u-1);p!==-1&&(d=p+1)}e.setSelectionRange(d,d)}catch(f){tn(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(f.message))}}return[r,o]}var zp=function(){var t=c.useState(!1),n=ge(t,2),r=n[0],o=n[1];return vn(function(){o(Us())},[]),r},jp=200,Bp=600;function Hp(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,o=e.upDisabled,a=e.downDisabled,s=e.onStep,i=c.useRef(),l=c.useRef([]),u=c.useRef();u.current=s;var d=function(){clearTimeout(i.current)},h=function(S,C){S.preventDefault(),d(),u.current(C);function x(){u.current(C),i.current=setTimeout(x,jp)}i.current=setTimeout(x,Bp)};c.useEffect(function(){return function(){d(),l.current.forEach(function(b){return qt.cancel(b)})}},[]);var p=zp();if(p)return null;var f="".concat(t,"-handler"),v=pe(f,"".concat(f,"-up"),k({},"".concat(f,"-up-disabled"),o)),m=pe(f,"".concat(f,"-down"),k({},"".concat(f,"-down-disabled"),a)),g=function(){return l.current.push(qt(d))},y={unselectable:"on",role:"button",onMouseUp:g,onMouseLeave:g};return c.createElement("div",{className:"".concat(f,"-wrap")},c.createElement("span",Xe({},y,{onMouseDown:function(S){h(S,!0)},"aria-label":"Increase Value","aria-disabled":o,className:v}),n||c.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),c.createElement("span",Xe({},y,{onMouseDown:function(S){h(S,!1)},"aria-label":"Decrease Value","aria-disabled":a,className:m}),r||c.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function Xi(e){var t=typeof e=="number"?jo(e):lr(e).fullStr,n=t.includes(".");return n?lr(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const Vp=function(){var e=c.useRef(0),t=function(){qt.cancel(e.current)};return c.useEffect(function(){return t},[]),function(n){t(),e.current=qt(function(){n()})}};var Kp=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],Fp=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Yi=function(t,n){return t||n.isEmpty()?n.toString():n.toNumber()},Zi=function(t){var n=Pn(t);return n.isInvalidate()?null:n},Wp=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,o=e.style,a=e.min,s=e.max,i=e.step,l=i===void 0?1:i,u=e.defaultValue,d=e.value,h=e.disabled,p=e.readOnly,f=e.upHandler,v=e.downHandler,m=e.keyboard,g=e.changeOnWheel,y=g===void 0?!1:g,b=e.controls,S=b===void 0?!0:b;e.classNames;var C=e.stringMode,x=e.parser,N=e.formatter,w=e.precision,$=e.decimalSeparator,P=e.onChange,O=e.onInput,T=e.onPressEnter,A=e.onStep,L=e.changeOnBlur,R=L===void 0?!0:L,I=e.domRef,j=_t(e,Kp),z="".concat(n,"-input"),B=c.useRef(null),q=c.useState(!1),ne=ge(q,2),G=ne[0],te=ne[1],X=c.useRef(!1),J=c.useRef(!1),K=c.useRef(!1),he=c.useState(function(){return Pn(d??u)}),de=ge(he,2),U=de[0],Z=de[1];function H(ve){d===void 0&&Z(ve)}var W=c.useCallback(function(ve,xe){if(!xe)return w>=0?w:Math.max(ar(ve),ar(l))},[w,l]),se=c.useCallback(function(ve){var xe=String(ve);if(x)return x(xe);var Ge=xe;return $&&(Ge=Ge.replace($,".")),Ge.replace(/[^\w.-]+/g,"")},[x,$]),fe=c.useRef(""),ce=c.useCallback(function(ve,xe){if(N)return N(ve,{userTyping:xe,input:String(fe.current)});var Ge=typeof ve=="number"?jo(ve):ve;if(!xe){var Ae=W(Ge,xe);if(ci(Ge)&&($||Ae>=0)){var mt=$||".";Ge=wo(Ge,mt,Ae)}}return Ge},[N,W,$]),ue=c.useState(function(){var ve=u??d;return U.isInvalidate()&&["string","number"].includes(on(ve))?Number.isNaN(ve)?"":ve:ce(U.toString(),!1)}),Ee=ge(ue,2),Ce=Ee[0],Oe=Ee[1];fe.current=Ce;function Ne(ve,xe){Oe(ce(ve.isInvalidate()?ve.toString(!1):ve.toString(!xe),xe))}var Se=c.useMemo(function(){return Zi(s)},[s,w]),_e=c.useMemo(function(){return Zi(a)},[a,w]),Te=c.useMemo(function(){return!Se||!U||U.isInvalidate()?!1:Se.lessEquals(U)},[Se,U]),Be=c.useMemo(function(){return!_e||!U||U.isInvalidate()?!1:U.lessEquals(_e)},[_e,U]),Me=Lp(B.current,G),$e=ge(Me,2),Le=$e[0],Ie=$e[1],me=function(xe){return Se&&!xe.lessEquals(Se)?Se:_e&&!_e.lessEquals(xe)?_e:null},ze=function(xe){return!me(xe)},ke=function(xe,Ge){var Ae=xe,mt=ze(Ae)||Ae.isEmpty();if(!Ae.isEmpty()&&!Ge&&(Ae=me(Ae)||Ae,mt=!0),!p&&!h&&mt){var Rt=Ae.toString(),nt=W(Rt,Ge);return nt>=0&&(Ae=Pn(wo(Rt,".",nt)),ze(Ae)||(Ae=Pn(wo(Rt,".",nt,!0)))),Ae.equals(U)||(H(Ae),P==null||P(Ae.isEmpty()?null:Yi(C,Ae)),d===void 0&&Ne(Ae,Ge)),Ae}return U},Ye=Vp(),yt=function ve(xe){if(Le(),fe.current=xe,Oe(xe),!J.current){var Ge=se(xe),Ae=Pn(Ge);Ae.isNaN()||ke(Ae,!0)}O==null||O(xe),Ye(function(){var mt=xe;x||(mt=xe.replace(/。/g,".")),mt!==xe&&ve(mt)})},gt=function(){J.current=!0},bt=function(){J.current=!1,yt(B.current.value)},We=function(xe){yt(xe.target.value)},Ve=function(xe){var Ge;if(!(xe&&Te||!xe&&Be)){X.current=!1;var Ae=Pn(K.current?Xi(l):l);xe||(Ae=Ae.negate());var mt=(U||Pn(0)).add(Ae.toString()),Rt=ke(mt,!1);A==null||A(Yi(C,Rt),{offset:K.current?Xi(l):l,type:xe?"up":"down"}),(Ge=B.current)===null||Ge===void 0||Ge.focus()}},it=function(xe){var Ge=Pn(se(Ce)),Ae;Ge.isNaN()?Ae=ke(U,xe):Ae=ke(Ge,xe),d!==void 0?Ne(U,!1):Ae.isNaN()||Ne(Ae,!1)},Mt=function(){X.current=!0},kt=function(xe){var Ge=xe.key,Ae=xe.shiftKey;X.current=!0,K.current=Ae,Ge==="Enter"&&(J.current||(X.current=!1),it(!1),T==null||T(xe)),m!==!1&&!J.current&&["Up","ArrowUp","Down","ArrowDown"].includes(Ge)&&(Ve(Ge==="Up"||Ge==="ArrowUp"),xe.preventDefault())},Pt=function(){X.current=!1,K.current=!1};c.useEffect(function(){if(y&&G){var ve=function(Ae){Ve(Ae.deltaY<0),Ae.preventDefault()},xe=B.current;if(xe)return xe.addEventListener("wheel",ve,{passive:!1}),function(){return xe.removeEventListener("wheel",ve)}}});var wt=function(){R&&it(!1),te(!1),X.current=!1};return Uo(function(){U.isInvalidate()||Ne(U,!1)},[w,N]),Uo(function(){var ve=Pn(d);Z(ve);var xe=Pn(se(Ce));(!ve.equals(xe)||!X.current||N)&&Ne(ve,X.current)},[d]),Uo(function(){N&&Ie()},[Ce]),c.createElement("div",{ref:I,className:pe(n,r,k(k(k(k(k({},"".concat(n,"-focused"),G),"".concat(n,"-disabled"),h),"".concat(n,"-readonly"),p),"".concat(n,"-not-a-number"),U.isNaN()),"".concat(n,"-out-of-range"),!U.isInvalidate()&&!ze(U))),style:o,onFocus:function(){te(!0)},onBlur:wt,onKeyDown:kt,onKeyUp:Pt,onCompositionStart:gt,onCompositionEnd:bt,onBeforeInput:Mt},S&&c.createElement(Hp,{prefixCls:n,upNode:f,downNode:v,upDisabled:Te,downDisabled:Be,onStep:Ve}),c.createElement("div",{className:"".concat(z,"-wrap")},c.createElement("input",Xe({autoComplete:"off",role:"spinbutton","aria-valuemin":a,"aria-valuemax":s,"aria-valuenow":U.isInvalidate()?null:U.toString(),step:l},j,{ref:Zr(B,t),className:z,value:Ce,onChange:We,disabled:h,readOnly:p}))))}),Gp=c.forwardRef(function(e,t){var n=e.disabled,r=e.style,o=e.prefixCls,a=o===void 0?"rc-input-number":o,s=e.value,i=e.prefix,l=e.suffix,u=e.addonBefore,d=e.addonAfter,h=e.className,p=e.classNames,f=_t(e,Fp),v=c.useRef(null),m=c.useRef(null),g=c.useRef(null),y=function(S){g.current&&Sd(g.current,S)};return c.useImperativeHandle(t,function(){return kp(g.current,{nativeElement:v.current.nativeElement||m.current})}),c.createElement(bd,{className:h,triggerFocus:y,prefixCls:a,value:s,disabled:n,style:r,prefix:i,suffix:l,addonAfter:d,addonBefore:u,classNames:p,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:v},c.createElement(Wp,Xe({prefixCls:a,disabled:n,ref:g,domRef:m,className:p==null?void 0:p.input},f)))});const Up=e=>{var t;const n=(t=e.handleVisible)!==null&&t!==void 0?t:"auto";return Object.assign(Object.assign({},Cd(e)),{controlWidth:90,handleWidth:e.controlHeightSM-e.lineWidth*2,handleFontSize:e.fontSize/2,handleVisible:n,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new ir(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:n===!0?1:0})},Qi=(e,t)=>{let{componentCls:n,borderRadiusSM:r,borderRadiusLG:o}=e;const a=t==="lg"?o:r;return{[`&-${t}`]:{[`${n}-handler-wrap`]:{borderStartEndRadius:a,borderEndEndRadius:a},[`${n}-handler-up`]:{borderStartEndRadius:a},[`${n}-handler-down`]:{borderEndEndRadius:a}}}},qp=e=>{const{componentCls:t,lineWidth:n,lineType:r,borderRadius:o,inputFontSizeSM:a,inputFontSizeLG:s,controlHeightLG:i,controlHeightSM:l,colorError:u,paddingInlineSM:d,paddingBlockSM:h,paddingBlockLG:p,paddingInlineLG:f,colorTextDescription:v,motionDurationMid:m,handleHoverColor:g,handleOpacity:y,paddingInline:b,paddingBlock:S,handleBg:C,handleActiveBg:x,colorTextDisabled:N,borderRadiusSM:w,borderRadiusLG:$,controlWidth:P,handleBorderColor:O,filledHandleBg:T,lineHeightLG:A,calc:L}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},cn(e)),cl(e)),{display:"inline-block",width:P,margin:0,padding:0,borderRadius:o}),wd(e,{[`${t}-handler-wrap`]:{background:C,[`${t}-handler-down`]:{borderBlockStart:`${ae(n)} ${r} ${O}`}}})),Ed(e,{[`${t}-handler-wrap`]:{background:T,[`${t}-handler-down`]:{borderBlockStart:`${ae(n)} ${r} ${O}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:C}}})),Nd(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:s,lineHeight:A,borderRadius:$,[`input${t}-input`]:{height:L(i).sub(L(n).mul(2)).equal(),padding:`${ae(p)} ${ae(f)}`}},"&-sm":{padding:0,fontSize:a,borderRadius:w,[`input${t}-input`]:{height:L(l).sub(L(n).mul(2)).equal(),padding:`${ae(h)} ${ae(d)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:u}}},"&-group":Object.assign(Object.assign(Object.assign({},cn(e)),$d(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:$,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:w}}},Id(e)),Od(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},cn(e)),{width:"100%",padding:`${ae(S)} ${ae(b)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:o,outline:0,transition:`all ${m} linear`,appearance:"textfield",fontSize:"inherit"}),Md(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1}})},{[t]:Object.assign(Object.assign(Object.assign({[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:0,opacity:y,height:"100%",borderStartStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${m}`,overflow:"hidden",[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:v,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${ae(n)} ${r} ${O}`,transition:`all ${m} linear`,"&:active":{background:x},"&:hover":{height:"60%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{color:g}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},To()),{color:v,transition:`all ${m} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:o},[`${t}-handler-down`]:{borderEndEndRadius:o}},Qi(e,"lg")),Qi(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`
          ${t}-handler-up-disabled,
          ${t}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${t}-handler-up-disabled:hover &-handler-up-inner,
          ${t}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:N}})}]},Xp=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:o,controlWidth:a,borderRadiusLG:s,borderRadiusSM:i,paddingInlineLG:l,paddingInlineSM:u,paddingBlockLG:d,paddingBlockSM:h,motionDurationMid:p}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${ae(n)} 0`}},cl(e)),{position:"relative",display:"inline-flex",alignItems:"center",width:a,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:s,paddingInlineStart:l,[`input${t}-input`]:{padding:`${ae(d)} 0`}},"&-sm":{borderRadius:i,paddingInlineStart:u,[`input${t}-input`]:{padding:`${ae(h)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:o},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:r,marginInlineStart:o,transition:`margin ${p}`}},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&:hover ${t}-suffix`]:{marginInlineEnd:e.calc(e.handleWidth).add(r).equal()}})}},Yp=In("InputNumber",e=>{const t=rn(e,xd(e));return[qp(t),Xp(t),za(t)]},Up,{unitless:{handleOpacity:!0}});var Zp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const tc=c.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=c.useContext(dn),o=c.useRef(null);c.useImperativeHandle(t,()=>o.current);const{className:a,rootClassName:s,size:i,disabled:l,prefixCls:u,addonBefore:d,addonAfter:h,prefix:p,suffix:f,bordered:v,readOnly:m,status:g,controls:y,variant:b}=e,S=Zp(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),C=n("input-number",u),x=dr(C),[N,w,$]=Yp(C,x),{compactSize:P,compactItemClassnames:O}=_o(C,r);let T=c.createElement(Dp,{className:`${C}-handler-up-inner`}),A=c.createElement(Zs,{className:`${C}-handler-down-inner`});const L=typeof y=="boolean"?y:void 0;typeof y=="object"&&(T=typeof y.upIcon>"u"?T:c.createElement("span",{className:`${C}-handler-up-inner`},y.upIcon),A=typeof y.downIcon>"u"?A:c.createElement("span",{className:`${C}-handler-down-inner`},y.downIcon));const{hasFeedback:R,status:I,isFormItemInput:j,feedbackIcon:z}=c.useContext(Jr),B=Ya(I,g),q=Rr(U=>{var Z;return(Z=i??P)!==null&&Z!==void 0?Z:U}),ne=c.useContext(Dr),G=l??ne,[te,X]=Xa("inputNumber",b,v),J=R&&c.createElement(c.Fragment,null,z),K=pe({[`${C}-lg`]:q==="large",[`${C}-sm`]:q==="small",[`${C}-rtl`]:r==="rtl",[`${C}-in-form-item`]:j},w),he=`${C}-group`,de=c.createElement(Gp,Object.assign({ref:o,disabled:G,className:pe($,x,a,s,O),upHandler:T,downHandler:A,prefixCls:C,readOnly:m,controls:L,prefix:p,suffix:J||f,addonBefore:d&&c.createElement(Ca,{form:!0,space:!0},d),addonAfter:h&&c.createElement(Ca,{form:!0,space:!0},h),classNames:{input:K,variant:pe({[`${C}-${te}`]:X},qr(C,B,R)),affixWrapper:pe({[`${C}-affix-wrapper-sm`]:q==="small",[`${C}-affix-wrapper-lg`]:q==="large",[`${C}-affix-wrapper-rtl`]:r==="rtl"},w),wrapper:pe({[`${he}-rtl`]:r==="rtl"},w),groupWrapper:pe({[`${C}-group-wrapper-sm`]:q==="small",[`${C}-group-wrapper-lg`]:q==="large",[`${C}-group-wrapper-rtl`]:r==="rtl",[`${C}-group-wrapper-${te}`]:X},qr(`${C}-group-wrapper`,B,R),w)}},S));return N(de)}),ui=tc,Qp=e=>c.createElement(bu,{theme:{components:{InputNumber:{handleVisible:!0}}}},c.createElement(tc,Object.assign({},e)));ui._InternalPanelDoNotUseOrYouWillBeFired=Qp;const cr=e=>{let{prefixCls:t,min:n=0,max:r=100,value:o,onChange:a,className:s,formatter:i}=e;const l=`${t}-steppers`,[u,d]=c.useState(o);return c.useEffect(()=>{Number.isNaN(o)||d(o)},[o]),V.createElement(ui,{className:pe(l,s),min:n,max:r,value:u,formatter:i,size:"small",onChange:h=>{o||d(h||0),a==null||a(h)}})},Jp=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-alpha-input`,[a,s]=c.useState(sn(n||"#000"));c.useEffect(()=>{n&&s(n)},[n]);const i=l=>{const u=a.toHsb();u.a=(l||0)/100;const d=sn(u);n||s(d),r==null||r(d)};return V.createElement(cr,{value:si(a),prefixCls:t,formatter:l=>`${l}%`,className:o,onChange:i})},eg=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,tg=e=>eg.test(`#${e}`),ng=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-hex-input`,[a,s]=c.useState(()=>n?Hr(n.toHexString()):void 0);c.useEffect(()=>{n&&s(Hr(n.toHexString()))},[n]);const i=l=>{const u=l.target.value;s(Hr(u)),tg(Hr(u,!0))&&(r==null||r(sn(u)))};return V.createElement(Lo,{className:o,value:a,prefix:"#",onChange:i,size:"small"})},rg=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-hsb-input`,[a,s]=c.useState(sn(n||"#000"));c.useEffect(()=>{n&&s(n)},[n]);const i=(l,u)=>{const d=a.toHsb();d[u]=u==="h"?l:(l||0)/100;const h=sn(d);n||s(h),r==null||r(h)};return V.createElement("div",{className:o},V.createElement(cr,{max:360,min:0,value:Number(a.toHsb().h),prefixCls:t,className:o,formatter:l=>Co(l||0).toString(),onChange:l=>i(Number(l),"h")}),V.createElement(cr,{max:100,min:0,value:Number(a.toHsb().s)*100,prefixCls:t,className:o,formatter:l=>`${Co(l||0)}%`,onChange:l=>i(Number(l),"s")}),V.createElement(cr,{max:100,min:0,value:Number(a.toHsb().b)*100,prefixCls:t,className:o,formatter:l=>`${Co(l||0)}%`,onChange:l=>i(Number(l),"b")}))},og=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-rgb-input`,[a,s]=c.useState(sn(n||"#000"));c.useEffect(()=>{n&&s(n)},[n]);const i=(l,u)=>{const d=a.toRgb();d[u]=l||0;const h=sn(d);n||s(h),r==null||r(h)};return V.createElement("div",{className:o},V.createElement(cr,{max:255,min:0,value:Number(a.toRgb().r),prefixCls:t,className:o,onChange:l=>i(Number(l),"r")}),V.createElement(cr,{max:255,min:0,value:Number(a.toRgb().g),prefixCls:t,className:o,onChange:l=>i(Number(l),"g")}),V.createElement(cr,{max:255,min:0,value:Number(a.toRgb().b),prefixCls:t,className:o,onChange:l=>i(Number(l),"b")}))},ag=[Gn.hex,Gn.hsb,Gn.rgb].map(e=>({value:e,label:e.toLocaleUpperCase()})),ig=e=>{const{prefixCls:t,format:n,value:r,disabledAlpha:o,onFormatChange:a,onChange:s}=e,[i,l]=an(Gn.hex,{value:n,onChange:a}),u=`${t}-input`,d=p=>{l(p)},h=c.useMemo(()=>{const p={value:r,prefixCls:t,onChange:s};switch(i){case Gn.hsb:return V.createElement(rg,Object.assign({},p));case Gn.rgb:return V.createElement(og,Object.assign({},p));default:return V.createElement(ng,Object.assign({},p))}},[i,t,r,s]);return V.createElement("div",{className:`${u}-container`},V.createElement(mr,{value:i,variant:"borderless",getPopupContainer:p=>p,popupMatchSelectWidth:68,placement:"bottomRight",onChange:d,className:`${t}-format-select`,size:"small",options:ag}),V.createElement("div",{className:u},h),!o&&V.createElement(Jp,{prefixCls:t,value:r,onChange:s}))};function Ia(e,t,n){return(e-t)/(n-t)}function di(e,t,n,r){var o=Ia(t,n,r),a={};switch(e){case"rtl":a.right="".concat(o*100,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(o*100,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(o*100,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(o*100,"%"),a.transform="translateX(-50%)";break}return a}function or(e,t){return Array.isArray(e)?e[t]:e}var vr=c.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),nc=c.createContext({}),sg=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Ji=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.value,o=e.valueIndex,a=e.onStartMove,s=e.onDelete,i=e.style,l=e.render,u=e.dragging,d=e.draggingDelete,h=e.onOffsetChange,p=e.onChangeComplete,f=e.onFocus,v=e.onMouseEnter,m=_t(e,sg),g=c.useContext(vr),y=g.min,b=g.max,S=g.direction,C=g.disabled,x=g.keyboard,N=g.range,w=g.tabIndex,$=g.ariaLabelForHandle,P=g.ariaLabelledByForHandle,O=g.ariaRequired,T=g.ariaValueTextFormatterForHandle,A=g.styles,L=g.classNames,R="".concat(n,"-handle"),I=function(K){C||a(K,o)},j=function(K){f==null||f(K,o)},z=function(K){v(K,o)},B=function(K){if(!C&&x){var he=null;switch(K.which||K.keyCode){case we.LEFT:he=S==="ltr"||S==="btt"?-1:1;break;case we.RIGHT:he=S==="ltr"||S==="btt"?1:-1;break;case we.UP:he=S!=="ttb"?1:-1;break;case we.DOWN:he=S!=="ttb"?-1:1;break;case we.HOME:he="min";break;case we.END:he="max";break;case we.PAGE_UP:he=2;break;case we.PAGE_DOWN:he=-2;break;case we.BACKSPACE:case we.DELETE:s(o);break}he!==null&&(K.preventDefault(),h(he,o))}},q=function(K){switch(K.which||K.keyCode){case we.LEFT:case we.RIGHT:case we.UP:case we.DOWN:case we.HOME:case we.END:case we.PAGE_UP:case we.PAGE_DOWN:p==null||p();break}},ne=di(S,r,y,b),G={};if(o!==null){var te;G={tabIndex:C?null:or(w,o),role:"slider","aria-valuemin":y,"aria-valuemax":b,"aria-valuenow":r,"aria-disabled":C,"aria-label":or($,o),"aria-labelledby":or(P,o),"aria-required":or(O,o),"aria-valuetext":(te=or(T,o))===null||te===void 0?void 0:te(r),"aria-orientation":S==="ltr"||S==="rtl"?"horizontal":"vertical",onMouseDown:I,onTouchStart:I,onFocus:j,onMouseEnter:z,onKeyDown:B,onKeyUp:q}}var X=c.createElement("div",Xe({ref:t,className:pe(R,k(k(k({},"".concat(R,"-").concat(o+1),o!==null&&N),"".concat(R,"-dragging"),u),"".concat(R,"-dragging-delete"),d),L.handle),style:oe(oe(oe({},ne),i),A.handle)},G,m));return l&&(X=l(X,{index:o,prefixCls:n,value:r,dragging:u,draggingDelete:d})),X}),lg=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],cg=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,o=e.onStartMove,a=e.onOffsetChange,s=e.values,i=e.handleRender,l=e.activeHandleRender,u=e.draggingIndex,d=e.draggingDelete,h=e.onFocus,p=_t(e,lg),f=c.useRef({}),v=c.useState(!1),m=ge(v,2),g=m[0],y=m[1],b=c.useState(-1),S=ge(b,2),C=S[0],x=S[1],N=function(T){x(T),y(!0)},w=function(T,A){N(A),h==null||h(T)},$=function(T,A){N(A)};c.useImperativeHandle(t,function(){return{focus:function(T){var A;(A=f.current[T])===null||A===void 0||A.focus()},hideHelp:function(){Sa.flushSync(function(){y(!1)})}}});var P=oe({prefixCls:n,onStartMove:o,onOffsetChange:a,render:i,onFocus:w,onMouseEnter:$},p);return c.createElement(c.Fragment,null,s.map(function(O,T){var A=u===T;return c.createElement(Ji,Xe({ref:function(R){R?f.current[T]=R:delete f.current[T]},dragging:A,draggingDelete:A&&d,style:or(r,T),key:T,value:O,valueIndex:T},P))}),l&&g&&c.createElement(Ji,Xe({key:"a11y"},P,{value:s[C],valueIndex:null,dragging:u!==-1,draggingDelete:d,render:l,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),ug=function(t){var n=t.prefixCls,r=t.style,o=t.children,a=t.value,s=t.onClick,i=c.useContext(vr),l=i.min,u=i.max,d=i.direction,h=i.includedStart,p=i.includedEnd,f=i.included,v="".concat(n,"-text"),m=di(d,a,l,u);return c.createElement("span",{className:pe(v,k({},"".concat(v,"-active"),f&&h<=a&&a<=p)),style:oe(oe({},m),r),onMouseDown:function(y){y.stopPropagation()},onClick:function(){s(a)}},o)},dg=function(t){var n=t.prefixCls,r=t.marks,o=t.onClick,a="".concat(n,"-mark");return r.length?c.createElement("div",{className:a},r.map(function(s){var i=s.value,l=s.style,u=s.label;return c.createElement(ug,{key:i,prefixCls:a,style:l,value:i,onClick:o},u)})):null},hg=function(t){var n=t.prefixCls,r=t.value,o=t.style,a=t.activeStyle,s=c.useContext(vr),i=s.min,l=s.max,u=s.direction,d=s.included,h=s.includedStart,p=s.includedEnd,f="".concat(n,"-dot"),v=d&&h<=r&&r<=p,m=oe(oe({},di(u,r,i,l)),typeof o=="function"?o(r):o);return v&&(m=oe(oe({},m),typeof a=="function"?a(r):a)),c.createElement("span",{className:pe(f,k({},"".concat(f,"-active"),v)),style:m})},fg=function(t){var n=t.prefixCls,r=t.marks,o=t.dots,a=t.style,s=t.activeStyle,i=c.useContext(vr),l=i.min,u=i.max,d=i.step,h=c.useMemo(function(){var p=new Set;if(r.forEach(function(v){p.add(v.value)}),o&&d!==null)for(var f=l;f<=u;)p.add(f),f+=d;return Array.from(p)},[l,u,d,o,r]);return c.createElement("div",{className:"".concat(n,"-step")},h.map(function(p){return c.createElement(hg,{prefixCls:n,key:p,value:p,style:a,activeStyle:s})}))},es=function(t){var n=t.prefixCls,r=t.style,o=t.start,a=t.end,s=t.index,i=t.onStartMove,l=t.replaceCls,u=c.useContext(vr),d=u.direction,h=u.min,p=u.max,f=u.disabled,v=u.range,m=u.classNames,g="".concat(n,"-track"),y=Ia(o,h,p),b=Ia(a,h,p),S=function(w){!f&&i&&i(w,-1)},C={};switch(d){case"rtl":C.right="".concat(y*100,"%"),C.width="".concat(b*100-y*100,"%");break;case"btt":C.bottom="".concat(y*100,"%"),C.height="".concat(b*100-y*100,"%");break;case"ttb":C.top="".concat(y*100,"%"),C.height="".concat(b*100-y*100,"%");break;default:C.left="".concat(y*100,"%"),C.width="".concat(b*100-y*100,"%")}var x=l||pe(g,k(k({},"".concat(g,"-").concat(s+1),s!==null&&v),"".concat(n,"-track-draggable"),i),m.track);return c.createElement("div",{className:x,style:oe(oe({},C),r),onMouseDown:S,onTouchStart:S})},pg=function(t){var n=t.prefixCls,r=t.style,o=t.values,a=t.startPoint,s=t.onStartMove,i=c.useContext(vr),l=i.included,u=i.range,d=i.min,h=i.styles,p=i.classNames,f=c.useMemo(function(){if(!u){if(o.length===0)return[];var m=a??d,g=o[0];return[{start:Math.min(m,g),end:Math.max(m,g)}]}for(var y=[],b=0;b<o.length-1;b+=1)y.push({start:o[b],end:o[b+1]});return y},[o,u,a,d]);if(!l)return null;var v=f!=null&&f.length&&(p.tracks||h.tracks)?c.createElement(es,{index:null,prefixCls:n,start:f[0].start,end:f[f.length-1].end,replaceCls:pe(p.tracks,"".concat(n,"-tracks")),style:h.tracks}):null;return c.createElement(c.Fragment,null,v,f.map(function(m,g){var y=m.start,b=m.end;return c.createElement(es,{index:g,prefixCls:n,style:oe(oe({},or(r,g)),h.track),start:y,end:b,key:g,onStartMove:s})}))},gg=130;function ts(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function mg(e,t,n,r,o,a,s,i,l,u,d){var h=c.useState(null),p=ge(h,2),f=p[0],v=p[1],m=c.useState(-1),g=ge(m,2),y=g[0],b=g[1],S=c.useState(!1),C=ge(S,2),x=C[0],N=C[1],w=c.useState(n),$=ge(w,2),P=$[0],O=$[1],T=c.useState(n),A=ge(T,2),L=A[0],R=A[1],I=c.useRef(null),j=c.useRef(null),z=c.useRef(null),B=c.useContext(nc),q=B.onDragStart,ne=B.onDragChange;vn(function(){y===-1&&O(n)},[n,y]),c.useEffect(function(){return function(){document.removeEventListener("mousemove",I.current),document.removeEventListener("mouseup",j.current),z.current&&(z.current.removeEventListener("touchmove",I.current),z.current.removeEventListener("touchend",j.current))}},[]);var G=function(he,de,U){de!==void 0&&v(de),O(he);var Z=he;U&&(Z=he.filter(function(H,W){return W!==y})),s(Z),ne&&ne({rawValues:he,deleteIndex:U?y:-1,draggingIndex:y,draggingValue:de})},te=$n(function(K,he,de){if(K===-1){var U=L[0],Z=L[L.length-1],H=r-U,W=o-Z,se=he*(o-r);se=Math.max(se,H),se=Math.min(se,W);var fe=a(U+se);se=fe-U;var ce=L.map(function(Oe){return Oe+se});G(ce)}else{var ue=(o-r)*he,Ee=Ze(P);Ee[K]=L[K];var Ce=l(Ee,ue,K,"dist");G(Ce.values,Ce.value,de)}}),X=function(he,de,U){he.stopPropagation();var Z=U||n,H=Z[de];b(de),v(H),R(Z),O(Z),N(!1);var W=ts(he),se=W.pageX,fe=W.pageY,ce=!1;q&&q({rawValues:Z,draggingIndex:de,draggingValue:H});var ue=function(Oe){Oe.preventDefault();var Ne=ts(Oe),Se=Ne.pageX,_e=Ne.pageY,Te=Se-se,Be=_e-fe,Me=e.current.getBoundingClientRect(),$e=Me.width,Le=Me.height,Ie,me;switch(t){case"btt":Ie=-Be/Le,me=Te;break;case"ttb":Ie=Be/Le,me=Te;break;case"rtl":Ie=-Te/$e,me=Be;break;default:Ie=Te/$e,me=Be}ce=u?Math.abs(me)>gg&&d<P.length:!1,N(ce),te(de,Ie,ce)},Ee=function Ce(Oe){Oe.preventDefault(),document.removeEventListener("mouseup",Ce),document.removeEventListener("mousemove",ue),z.current&&(z.current.removeEventListener("touchmove",I.current),z.current.removeEventListener("touchend",j.current)),I.current=null,j.current=null,z.current=null,i(ce),b(-1),N(!1)};document.addEventListener("mouseup",Ee),document.addEventListener("mousemove",ue),he.currentTarget.addEventListener("touchend",Ee),he.currentTarget.addEventListener("touchmove",ue),I.current=ue,j.current=Ee,z.current=he.currentTarget},J=c.useMemo(function(){var K=Ze(n).sort(function(H,W){return H-W}),he=Ze(P).sort(function(H,W){return H-W}),de={};he.forEach(function(H){de[H]=(de[H]||0)+1}),K.forEach(function(H){de[H]=(de[H]||0)-1});var U=u?1:0,Z=Object.values(de).reduce(function(H,W){return H+Math.abs(W)},0);return Z<=U?P:n},[n,P,u]);return[y,f,x,J,X]}function vg(e,t,n,r,o,a){var s=c.useCallback(function(f){return Math.max(e,Math.min(t,f))},[e,t]),i=c.useCallback(function(f){if(n!==null){var v=e+Math.round((s(f)-e)/n)*n,m=function(S){return(String(S).split(".")[1]||"").length},g=Math.max(m(n),m(t),m(e)),y=Number(v.toFixed(g));return e<=y&&y<=t?y:null}return null},[n,e,t,s]),l=c.useCallback(function(f){var v=s(f),m=r.map(function(b){return b.value});n!==null&&m.push(i(f)),m.push(e,t);var g=m[0],y=t-e;return m.forEach(function(b){var S=Math.abs(v-b);S<=y&&(g=b,y=S)}),g},[e,t,r,n,s,i]),u=function f(v,m,g){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof m=="number"){var b,S=v[g],C=S+m,x=[];r.forEach(function(O){x.push(O.value)}),x.push(e,t),x.push(i(S));var N=m>0?1:-1;y==="unit"?x.push(i(S+N*n)):x.push(i(C)),x=x.filter(function(O){return O!==null}).filter(function(O){return m<0?O<=S:O>=S}),y==="unit"&&(x=x.filter(function(O){return O!==S}));var w=y==="unit"?S:C;b=x[0];var $=Math.abs(b-w);if(x.forEach(function(O){var T=Math.abs(O-w);T<$&&(b=O,$=T)}),b===void 0)return m<0?e:t;if(y==="dist")return b;if(Math.abs(m)>1){var P=Ze(v);return P[g]=b,f(P,m-N,g,y)}return b}else{if(m==="min")return e;if(m==="max")return t}},d=function(v,m,g){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",b=v[g],S=u(v,m,g,y);return{value:S,changed:S!==b}},h=function(v){return a===null&&v===0||typeof a=="number"&&v<a},p=function(v,m,g){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",b=v.map(l),S=b[g],C=u(b,m,g,y);if(b[g]=C,o===!1){var x=a||0;g>0&&b[g-1]!==S&&(b[g]=Math.max(b[g],b[g-1]+x)),g<b.length-1&&b[g+1]!==S&&(b[g]=Math.min(b[g],b[g+1]-x))}else if(typeof a=="number"||a===null){for(var N=g+1;N<b.length;N+=1)for(var w=!0;h(b[N]-b[N-1])&&w;){var $=d(b,1,N);b[N]=$.value,w=$.changed}for(var P=g;P>0;P-=1)for(var O=!0;h(b[P]-b[P-1])&&O;){var T=d(b,-1,P-1);b[P-1]=T.value,O=T.changed}for(var A=b.length-1;A>0;A-=1)for(var L=!0;h(b[A]-b[A-1])&&L;){var R=d(b,-1,A-1);b[A-1]=R.value,L=R.changed}for(var I=0;I<b.length-1;I+=1)for(var j=!0;h(b[I+1]-b[I])&&j;){var z=d(b,1,I+1);b[I+1]=z.value,j=z.changed}}return{value:b[g],values:b}};return[l,p]}function yg(e){return c.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,r=e.minCount,o=e.maxCount;return[!0,t,!t&&n,r||0,o]},[e])}var bg=c.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-slider":n,o=e.className,a=e.style,s=e.classNames,i=e.styles,l=e.id,u=e.disabled,d=u===void 0?!1:u,h=e.keyboard,p=h===void 0?!0:h,f=e.autoFocus,v=e.onFocus,m=e.onBlur,g=e.min,y=g===void 0?0:g,b=e.max,S=b===void 0?100:b,C=e.step,x=C===void 0?1:C,N=e.value,w=e.defaultValue,$=e.range,P=e.count,O=e.onChange,T=e.onBeforeChange,A=e.onAfterChange,L=e.onChangeComplete,R=e.allowCross,I=R===void 0?!0:R,j=e.pushable,z=j===void 0?!1:j,B=e.reverse,q=e.vertical,ne=e.included,G=ne===void 0?!0:ne,te=e.startPoint,X=e.trackStyle,J=e.handleStyle,K=e.railStyle,he=e.dotStyle,de=e.activeDotStyle,U=e.marks,Z=e.dots,H=e.handleRender,W=e.activeHandleRender,se=e.track,fe=e.tabIndex,ce=fe===void 0?0:fe,ue=e.ariaLabelForHandle,Ee=e.ariaLabelledByForHandle,Ce=e.ariaRequired,Oe=e.ariaValueTextFormatterForHandle,Ne=c.useRef(null),Se=c.useRef(null),_e=c.useMemo(function(){return q?B?"ttb":"btt":B?"rtl":"ltr"},[B,q]),Te=yg($),Be=ge(Te,5),Me=Be[0],$e=Be[1],Le=Be[2],Ie=Be[3],me=Be[4],ze=c.useMemo(function(){return isFinite(y)?y:0},[y]),ke=c.useMemo(function(){return isFinite(S)?S:100},[S]),Ye=c.useMemo(function(){return x!==null&&x<=0?1:x},[x]),yt=c.useMemo(function(){return typeof z=="boolean"?z?Ye:!1:z>=0?z:!1},[z,Ye]),gt=c.useMemo(function(){return Object.keys(U||{}).map(function(re){var E=U[re],_={value:Number(re)};return E&&on(E)==="object"&&!c.isValidElement(E)&&("label"in E||"style"in E)?(_.style=E.style,_.label=E.label):_.label=E,_}).filter(function(re){var E=re.label;return E||typeof E=="number"}).sort(function(re,E){return re.value-E.value})},[U]),bt=vg(ze,ke,Ye,gt,I,yt),We=ge(bt,2),Ve=We[0],it=We[1],Mt=an(w,{value:N}),kt=ge(Mt,2),Pt=kt[0],wt=kt[1],ve=c.useMemo(function(){var re=Pt==null?[]:Array.isArray(Pt)?Pt:[Pt],E=ge(re,1),_=E[0],Y=_===void 0?ze:_,le=Pt===null?[]:[Y];if(Me){if(le=Ze(re),P||Pt===void 0){var qe=P>=0?P+1:2;for(le=le.slice(0,qe);le.length<qe;){var je;le.push((je=le[le.length-1])!==null&&je!==void 0?je:ze)}}le.sort(function(tt,Ke){return tt-Ke})}return le.forEach(function(tt,Ke){le[Ke]=Ve(tt)}),le},[Pt,Me,ze,P,Ve]),xe=function(E){return Me?E:E[0]},Ge=$n(function(re){var E=Ze(re).sort(function(_,Y){return _-Y});O&&!Su(E,ve,!0)&&O(xe(E)),wt(E)}),Ae=$n(function(re){re&&Ne.current.hideHelp();var E=xe(ve);A==null||A(E),tn(!A,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),L==null||L(E)}),mt=function(E){if(!(d||!$e||ve.length<=Ie)){var _=Ze(ve);_.splice(E,1),T==null||T(xe(_)),Ge(_);var Y=Math.max(0,E-1);Ne.current.hideHelp(),Ne.current.focus(Y)}},Rt=mg(Se,_e,ve,ze,ke,Ve,Ge,Ae,it,$e,Ie),nt=ge(Rt,5),hn=nt[0],Xt=nt[1],At=nt[2],Re=nt[3],He=nt[4],Pe=function(E,_){if(!d){var Y=Ze(ve),le=0,qe=0,je=ke-ze;ve.forEach(function(xt,Zt){var fn=Math.abs(E-xt);fn<=je&&(je=fn,le=Zt),xt<E&&(qe=Zt)});var tt=le;$e&&je!==0&&(!me||ve.length<me)?(Y.splice(qe+1,0,E),tt=qe+1):Y[le]=E,Me&&!ve.length&&P===void 0&&Y.push(E);var Ke=xe(Y);if(T==null||T(Ke),Ge(Y),_){var Ct,Nt;(Ct=document.activeElement)===null||Ct===void 0||(Nt=Ct.blur)===null||Nt===void 0||Nt.call(Ct),Ne.current.focus(tt),He(_,tt,Y)}else A==null||A(Ke),tn(!A,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),L==null||L(Ke)}},De=function(E){E.preventDefault();var _=Se.current.getBoundingClientRect(),Y=_.width,le=_.height,qe=_.left,je=_.top,tt=_.bottom,Ke=_.right,Ct=E.clientX,Nt=E.clientY,xt;switch(_e){case"btt":xt=(tt-Nt)/le;break;case"ttb":xt=(Nt-je)/le;break;case"rtl":xt=(Ke-Ct)/Y;break;default:xt=(Ct-qe)/Y}var Zt=ze+xt*(ke-ze);Pe(Ve(Zt),E)},et=c.useState(null),pt=ge(et,2),Et=pt[0],Lt=pt[1],zt=function(E,_){if(!d){var Y=it(ve,E,_);T==null||T(xe(ve)),Ge(Y.values),Lt(Y.value)}};c.useEffect(function(){if(Et!==null){var re=ve.indexOf(Et);re>=0&&Ne.current.focus(re)}Lt(null)},[Et]);var It=c.useMemo(function(){return Le&&Ye===null?!1:Le},[Le,Ye]),Wt=$n(function(re,E){He(re,E),T==null||T(xe(ve))}),Qe=hn!==-1;c.useEffect(function(){if(!Qe){var re=ve.lastIndexOf(Xt);Ne.current.focus(re)}},[Qe]);var Ue=c.useMemo(function(){return Ze(Re).sort(function(re,E){return re-E})},[Re]),at=c.useMemo(function(){return Me?[Ue[0],Ue[Ue.length-1]]:[ze,Ue[0]]},[Ue,Me,ze]),Je=ge(at,2),St=Je[0],ye=Je[1];c.useImperativeHandle(t,function(){return{focus:function(){Ne.current.focus(0)},blur:function(){var E,_=document,Y=_.activeElement;(E=Se.current)!==null&&E!==void 0&&E.contains(Y)&&(Y==null||Y.blur())}}}),c.useEffect(function(){f&&Ne.current.focus(0)},[]);var ie=c.useMemo(function(){return{min:ze,max:ke,direction:_e,disabled:d,keyboard:p,step:Ye,included:G,includedStart:St,includedEnd:ye,range:Me,tabIndex:ce,ariaLabelForHandle:ue,ariaLabelledByForHandle:Ee,ariaRequired:Ce,ariaValueTextFormatterForHandle:Oe,styles:i||{},classNames:s||{}}},[ze,ke,_e,d,p,Ye,G,St,ye,Me,ce,ue,Ee,Ce,Oe,i,s]);return c.createElement(vr.Provider,{value:ie},c.createElement("div",{ref:Se,className:pe(r,o,k(k(k(k({},"".concat(r,"-disabled"),d),"".concat(r,"-vertical"),q),"".concat(r,"-horizontal"),!q),"".concat(r,"-with-marks"),gt.length)),style:a,onMouseDown:De,id:l},c.createElement("div",{className:pe("".concat(r,"-rail"),s==null?void 0:s.rail),style:oe(oe({},K),i==null?void 0:i.rail)}),se!==!1&&c.createElement(pg,{prefixCls:r,style:X,values:ve,startPoint:te,onStartMove:It?Wt:void 0}),c.createElement(fg,{prefixCls:r,marks:gt,dots:Z,style:he,activeStyle:de}),c.createElement(cg,{ref:Ne,prefixCls:r,style:J,values:Re,draggingIndex:hn,draggingDelete:At,onStartMove:Wt,onOffsetChange:zt,onFocus:v,onBlur:m,handleRender:H,activeHandleRender:W,onChangeComplete:Ae,onDelete:$e?mt:void 0}),c.createElement(dg,{prefixCls:r,marks:gt,onClick:Pe})))});const ns=c.forwardRef((e,t)=>{const{open:n,draggingDelete:r}=e,o=c.useRef(null),a=n&&!r,s=c.useRef(null);function i(){qt.cancel(s.current),s.current=null}function l(){s.current=qt(()=>{var u;(u=o.current)===null||u===void 0||u.forceAlign(),s.current=null})}return c.useEffect(()=>(a?l():i(),i),[a,e.title]),c.createElement(Js,Object.assign({ref:Zr(o,t)},e,{open:a}))}),Sg=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:o,marginFull:a,marginPart:s,colorFillContentHover:i,handleColorDisabled:l,calc:u,handleSize:d,handleSizeHover:h,handleActiveColor:p,handleActiveOutlineColor:f,handleLineWidth:v,handleLineWidthHover:m,motionDurationMid:g}=e;return{[t]:Object.assign(Object.assign({},cn(e)),{position:"relative",height:r,margin:`${ae(s)} ${ae(a)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${ae(a)} ${ae(s)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${g}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${g}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:i},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${ae(v)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:d,height:d,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:u(v).mul(-1).equal(),insetBlockStart:u(v).mul(-1).equal(),width:u(d).add(u(v).mul(2)).equal(),height:u(d).add(u(v).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:d,height:d,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${ae(v)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${g},
            inset-block-start ${g},
            width ${g},
            height ${g},
            box-shadow ${g},
            outline ${g}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:u(h).sub(d).div(2).add(m).mul(-1).equal(),insetBlockStart:u(h).sub(d).div(2).add(m).mul(-1).equal(),width:u(h).add(u(m).mul(2)).equal(),height:u(h).add(u(m).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${ae(m)} ${p}`,outline:`6px solid ${f}`,width:h,height:h,insetInlineStart:e.calc(d).sub(h).div(2).equal(),insetBlockStart:e.calc(d).sub(h).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:o,height:o,backgroundColor:e.colorBgElevated,border:`${ae(v)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:d,height:d,boxShadow:`0 0 0 ${ae(v)} ${l}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},rc=(e,t)=>{const{componentCls:n,railSize:r,handleSize:o,dotSize:a,marginFull:s,calc:i}=e,l=t?"paddingBlock":"paddingInline",u=t?"width":"height",d=t?"height":"width",h=t?"insetBlockStart":"insetInlineStart",p=t?"top":"insetInlineStart",f=i(r).mul(3).sub(o).div(2).equal(),v=i(o).sub(r).div(2).equal(),m=t?{borderWidth:`${ae(v)} 0`,transform:`translateY(${ae(i(v).mul(-1).equal())})`}:{borderWidth:`0 ${ae(v)}`,transform:`translateX(${ae(e.calc(v).mul(-1).equal())})`};return{[l]:r,[d]:i(r).mul(3).equal(),[`${n}-rail`]:{[u]:"100%",[d]:r},[`${n}-track,${n}-tracks`]:{[d]:r},[`${n}-track-draggable`]:Object.assign({},m),[`${n}-handle`]:{[h]:f},[`${n}-mark`]:{insetInlineStart:0,top:0,[p]:i(r).mul(3).add(t?0:s).equal(),[u]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[p]:r,[u]:"100%",[d]:r},[`${n}-dot`]:{position:"absolute",[h]:i(r).sub(a).div(2).equal()}}},Cg=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},rc(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},xg=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},rc(e,!1)),{height:"100%"})}},wg=e=>{const n=e.controlHeightLG/4,r=e.controlHeightSM/2,o=e.lineWidth+1,a=e.lineWidth+1*1.5,s=e.colorPrimary,i=new ir(s).setAlpha(.2).toRgbString();return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:o,handleLineWidthHover:a,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:s,handleActiveOutlineColor:i,handleColorDisabled:new ir(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexShortString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},Eg=In("Slider",e=>{const t=rn(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[Sg(t),Cg(t),xg(t)]},wg),oc=c.createContext({});function ra(){const[e,t]=c.useState(!1),n=c.useRef(),r=()=>{qt.cancel(n.current)},o=a=>{r(),a?t(a):n.current=qt(()=>{t(a)})};return c.useEffect(()=>r,[]),[e,o]}var Ng=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function Mg(e,t){return e||e===null?e:t||t===null?t:n=>typeof n=="number"?n.toString():""}const $g=V.forwardRef((e,t)=>{const{prefixCls:n,range:r,className:o,rootClassName:a,style:s,disabled:i,tooltipPrefixCls:l,tipFormatter:u,tooltipVisible:d,getTooltipPopupContainer:h,tooltipPlacement:p,tooltip:f={},onChangeComplete:v}=e,m=Ng(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete"]),{vertical:g}=e,{direction:y,slider:b,getPrefixCls:S,getPopupContainer:C}=V.useContext(dn),x=V.useContext(Dr),N=i??x,{handleRender:w,direction:$}=V.useContext(oc),O=($||y)==="rtl",[T,A]=ra(),[L,R]=ra(),I=Object.assign({},f),{open:j,placement:z,getPopupContainer:B,prefixCls:q,formatter:ne}=I,G=j??d,te=(T||L)&&G!==!1,X=Mg(ne,u),[J,K]=ra(),he=Ce=>{v==null||v(Ce),K(!1)},de=(Ce,Oe)=>Ce||(Oe?O?"left":"right":"top"),U=S("slider",n),[Z,H,W]=Eg(U),se=pe(o,b==null?void 0:b.className,a,{[`${U}-rtl`]:O,[`${U}-lock`]:J},H,W);O&&!m.vertical&&(m.reverse=!m.reverse),V.useEffect(()=>{const Ce=()=>{qt(()=>{R(!1)},1)};return document.addEventListener("mouseup",Ce),()=>{document.removeEventListener("mouseup",Ce)}},[]);const fe=r&&!G,ce=w||((Ce,Oe)=>{const{index:Ne}=Oe,Se=Ce.props;function _e($e,Le,Ie){var me,ze,ke,Ye;Ie&&((ze=(me=m)[$e])===null||ze===void 0||ze.call(me,Le)),(Ye=(ke=Se)[$e])===null||Ye===void 0||Ye.call(ke,Le)}const Te=Object.assign(Object.assign({},Se),{onMouseEnter:$e=>{A(!0),_e("onMouseEnter",$e)},onMouseLeave:$e=>{A(!1),_e("onMouseLeave",$e)},onMouseDown:$e=>{R(!0),K(!0),_e("onMouseDown",$e)},onFocus:$e=>{var Le;R(!0),(Le=m.onFocus)===null||Le===void 0||Le.call(m,$e),_e("onFocus",$e,!0)},onBlur:$e=>{var Le;R(!1),(Le=m.onBlur)===null||Le===void 0||Le.call(m,$e),_e("onBlur",$e,!0)}}),Be=V.cloneElement(Ce,Te),Me=(!!G||te)&&X!==null;return fe?Be:V.createElement(ns,Object.assign({},I,{prefixCls:S("tooltip",q??l),title:X?X(Oe.value):"",open:Me,placement:de(z??p,g),key:Ne,overlayClassName:`${U}-tooltip`,getPopupContainer:B||h||C}),Be)}),ue=fe?(Ce,Oe)=>{const Ne=V.cloneElement(Ce,{style:Object.assign(Object.assign({},Ce.props.style),{visibility:"hidden"})});return V.createElement(ns,Object.assign({},I,{prefixCls:S("tooltip",q??l),title:X?X(Oe.value):"",open:X!==null&&te,placement:de(z??p,g),key:"tooltip",overlayClassName:`${U}-tooltip`,getPopupContainer:B||h||C,draggingDelete:Oe.draggingDelete}),Ne)}:void 0,Ee=Object.assign(Object.assign({},b==null?void 0:b.style),s);return Z(V.createElement(bg,Object.assign({},m,{step:m.step,range:r,className:se,style:Ee,disabled:N,ref:t,prefixCls:U,handleRender:ce,activeHandleRender:ue,onChangeComplete:he})))});var Ig=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const ac=e=>{const{prefixCls:t,colors:n,type:r,color:o,range:a=!1,className:s,activeIndex:i,onActive:l,onDragStart:u,onDragChange:d,onKeyDelete:h}=e,p=Ig(e,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),f=Object.assign(Object.assign({},p),{track:!1}),v=c.useMemo(()=>`linear-gradient(90deg, ${n.map(N=>`${N.color} ${N.percent}%`).join(", ")})`,[n]),m=c.useMemo(()=>!o||!r?null:r==="alpha"?o.toRgbString():`hsl(${o.toHsb().h}, 100%, 50%)`,[o,r]),g=$n(u),y=$n(d),b=c.useMemo(()=>({onDragStart:g,onDragChange:y}),[]),S=$n((x,N)=>{const{onFocus:w,style:$,className:P,onKeyDown:O}=x.props,T=Object.assign({},$);return r==="gradient"&&(T.background=Ql(n,N.value)),c.cloneElement(x,{onFocus:A=>{l==null||l(N.index),w==null||w(A)},style:T,className:pe(P,{[`${t}-slider-handle-active`]:i===N.index}),onKeyDown:A=>{(A.key==="Delete"||A.key==="Backspace")&&h&&h(N.index),O==null||O(A)}})}),C=c.useMemo(()=>({direction:"ltr",handleRender:S}),[]);return c.createElement(oc.Provider,{value:C},c.createElement(nc.Provider,{value:b},c.createElement($g,Object.assign({},f,{className:pe(s,`${t}-slider`),tooltip:{open:!1},range:{editable:a,minCount:2},styles:{rail:{background:v},handle:m?{background:m}:{}},classNames:{rail:`${t}-slider-rail`,handle:`${t}-slider-handle`}}))))},Og=e=>{const{value:t,onChange:n,onChangeComplete:r}=e,o=s=>n(s[0]),a=s=>r(s[0]);return c.createElement(ac,Object.assign({},e,{value:[t],onChange:o,onChangeComplete:a}))};function rs(e){return Ze(e).sort((t,n)=>t.percent-n.percent)}const Ag=e=>{const{prefixCls:t,mode:n,onChange:r,onChangeComplete:o,onActive:a,activeIndex:s,onGradientDragging:i,colors:l}=e,u=n==="gradient",d=c.useMemo(()=>l.map(y=>({percent:y.percent,color:y.color.toRgbString()})),[l]),h=c.useMemo(()=>d.map(y=>y.percent),[d]),p=c.useRef(d),f=y=>{let{rawValues:b,draggingIndex:S,draggingValue:C}=y;if(b.length>d.length){const x=Ql(d,C),N=Ze(d);N.splice(S,0,{percent:C,color:x}),p.current=N}else p.current=d;i(!0),r(new Mn(rs(p.current)),!0)},v=y=>{let{deleteIndex:b,draggingIndex:S,draggingValue:C}=y,x=Ze(p.current);b!==-1?x.splice(b,1):(x[S]=Object.assign(Object.assign({},x[S]),{percent:C}),x=rs(x)),r(new Mn(x),!0)},m=y=>{const b=Ze(d);b.splice(y,1);const S=new Mn(b);r(S),o(S)},g=y=>{o(new Mn(d)),s>=y.length&&a(y.length-1),i(!1)};return u?c.createElement(ac,{min:0,max:100,prefixCls:t,className:`${t}-gradient-slider`,colors:d,color:null,value:h,range:!0,onChangeComplete:g,disabled:!1,type:"gradient",activeIndex:s,onActive:a,onDragStart:f,onDragChange:v,onKeyDelete:m}):null},Pg=c.memo(Ag);var Rg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Dg={slider:Og},os=()=>{const e=c.useContext(Yl),{mode:t,onModeChange:n,modeOptions:r,prefixCls:o,allowClear:a,value:s,disabledAlpha:i,onChange:l,onClear:u,onChangeComplete:d,activeIndex:h,gradientDragging:p}=e,f=Rg(e,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),v=V.useMemo(()=>s.cleared?[{percent:0,color:new Mn("")},{percent:100,color:new Mn("")}]:s.getColors(),[s]),m=!s.isGradient(),[g,y]=V.useState(s);vn(()=>{var $;m||y(($=v[h])===null||$===void 0?void 0:$.color)},[p,h]);const b=V.useMemo(()=>{var $;return m?s:p?g:($=v[h])===null||$===void 0?void 0:$.color},[s,h,m,g,p]),S=$=>{if(t==="single")return $;const P=Ze(v);return P[h]=Object.assign(Object.assign({},P[h]),{color:$}),new Mn(P)},C=($,P,O)=>{let A=sn($);if(s.cleared){const L=A.toRgb();if(!L.r&&!L.g&&!L.b&&O){const{type:R,value:I=0}=O;A=new Mn({h:R==="hue"?I:0,s:1,b:1,a:R==="alpha"?I/100:1})}else A=xo(A)}l(S(A),P)},x=$=>{d(S($))};let N=null;const w=r.length>1;return(a||w)&&(N=V.createElement("div",{className:`${o}-operation`},w&&V.createElement(Ap,{size:"small",options:r,value:t,onChange:n}),V.createElement(Jl,Object.assign({prefixCls:o,value:s,onChange:$=>{l($),u==null||u()}},f)))),V.createElement(V.Fragment,null,N,V.createElement(Pg,Object.assign({},e,{colors:v})),V.createElement(up,{prefixCls:o,value:b==null?void 0:b.toHsb(),disabledAlpha:i,onChange:($,P)=>{C($,!0,P)},onChangeComplete:$=>{x(sn($))},components:Dg}),V.createElement(ig,Object.assign({value:b,onChange:C,prefixCls:o,disabledAlpha:i},f)))},oa=e=>e.map(t=>(t.colors=t.colors.map(sn),t)),Tg=(e,t)=>{const{r:n,g:r,b:o,a}=e.toRgb(),s=new Dn(e.toRgbString()).onBackground(t).toHsv();return a<=.5?s.v>.5:n*.299+r*.587+o*.114>192},as=e=>{let{label:t}=e;return`panel-${t}`},_g=e=>{let{prefixCls:t,presets:n,value:r,onChange:o}=e;const[a]=Do("ColorPicker"),[,s]=Ro(),[i]=an(oa(n),{value:oa(n),postState:oa}),l=`${t}-presets`,u=c.useMemo(()=>i.reduce((p,f)=>{const{defaultOpen:v=!0}=f;return v&&p.push(as(f)),p},[]),[i]),d=p=>{o==null||o(p)},h=i.map(p=>{var f;return{key:as(p),label:V.createElement("div",{className:`${l}-label`},p==null?void 0:p.label),children:V.createElement("div",{className:`${l}-items`},Array.isArray(p==null?void 0:p.colors)&&((f=p.colors)===null||f===void 0?void 0:f.length)>0?p.colors.map((v,m)=>V.createElement(ii,{key:`preset-${m}-${v.toHexString()}`,color:sn(v).toRgbString(),prefixCls:t,className:pe(`${l}-color`,{[`${l}-color-checked`]:v.toHexString()===(r==null?void 0:r.toHexString()),[`${l}-color-bright`]:Tg(v,s.colorBgElevated)}),onClick:()=>d(v)})):V.createElement("span",{className:`${l}-empty`},a.presetEmpty))}});return V.createElement("div",{className:l},V.createElement(Zf,{defaultActiveKey:u,ghost:!0,items:h}))},is=()=>{const{prefixCls:e,value:t,presets:n,onChange:r}=c.useContext(Zl);return Array.isArray(n)?V.createElement(_g,{value:t,presets:n,prefixCls:e,onChange:r}):null},kg=e=>{const{prefixCls:t,presets:n,panelRender:r,value:o,onChange:a,onClear:s,allowClear:i,disabledAlpha:l,mode:u,onModeChange:d,modeOptions:h,onChangeComplete:p,activeIndex:f,onActive:v,format:m,onFormatChange:g,gradientDragging:y,onGradientDragging:b}=e,S=`${t}-inner`,C=V.useMemo(()=>({prefixCls:t,value:o,onChange:a,onClear:s,allowClear:i,disabledAlpha:l,mode:u,onModeChange:d,modeOptions:h,onChangeComplete:p,activeIndex:f,onActive:v,format:m,onFormatChange:g,gradientDragging:y,onGradientDragging:b}),[t,o,a,s,i,l,u,d,h,p,f,v,m,g,y,b]),x=V.useMemo(()=>({prefixCls:t,value:o,presets:n,onChange:a}),[t,o,n,a]),N=V.createElement("div",{className:`${S}-content`},V.createElement(os,null),Array.isArray(n)&&V.createElement(mp,null),V.createElement(is,null));return V.createElement(Yl.Provider,{value:C},V.createElement(Zl.Provider,{value:x},V.createElement("div",{className:S},typeof r=="function"?r(N,{components:{Picker:os,Presets:is}}):N)))};var Lg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const zg=c.forwardRef((e,t)=>{const{color:n,prefixCls:r,open:o,disabled:a,format:s,className:i,showText:l,activeIndex:u}=e,d=Lg(e,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),h=`${r}-trigger`,p=`${h}-text`,f=`${p}-cell`,[v]=Do("ColorPicker"),m=V.useMemo(()=>{if(!l)return"";if(typeof l=="function")return l(n);if(n.cleared)return v.transparent;if(n.isGradient())return n.getColors().map((S,C)=>{const x=u!==-1&&u!==C;return V.createElement("span",{key:C,className:pe(f,x&&`${f}-inactive`)},S.color.toRgbString()," ",S.percent,"%")});const y=n.toHexString().toUpperCase(),b=si(n);switch(s){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();default:return b<100?`${y.slice(0,7)},${b}%`:y}},[n,s,l,u]),g=c.useMemo(()=>n.cleared?V.createElement(Jl,{prefixCls:r}):V.createElement(ii,{prefixCls:r,color:n.toCssString()}),[n,r]);return V.createElement("div",Object.assign({ref:t,className:pe(h,i,{[`${h}-active`]:o,[`${h}-disabled`]:a})},qn(d)),g,l&&V.createElement("div",{className:p},m))});function jg(e,t,n){const[r]=Do("ColorPicker"),[o,a]=an(e,{value:t}),[s,i]=c.useState("single"),[l,u]=c.useMemo(()=>{const m=(Array.isArray(n)?n:[n]).filter(S=>S);m.length||m.push("single");const g=new Set(m),y=[],b=(S,C)=>{g.has(S)&&y.push({label:C,value:S})};return b("single",r.singleColor),b("gradient",r.gradientColor),[y,g]},[n]),[d,h]=c.useState(null),p=$n(m=>{h(m),a(m)}),f=c.useMemo(()=>{const m=sn(o||"");return m.equals(d)?d:m},[o,d]),v=c.useMemo(()=>{var m;return u.has(s)?s:(m=l[0])===null||m===void 0?void 0:m.value},[u,s,l]);return c.useEffect(()=>{i(f.isGradient()?"gradient":"single")},[f]),[f,p,v,i,l]}const ic=(e,t)=>({backgroundImage:`conic-gradient(${t} 0 25%, transparent 0 50%, ${t} 0 75%, transparent 0)`,backgroundSize:`${e} ${e}`}),ss=(e,t)=>{const{componentCls:n,borderRadiusSM:r,colorPickerInsetShadow:o,lineWidth:a,colorFillSecondary:s}=e;return{[`${n}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:r,width:t,height:t,boxShadow:o,flex:"none"},ic("50%",e.colorFillSecondary)),{[`${n}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${ae(a)} ${s}`,borderRadius:"inherit"}})}},Bg=e=>{const{componentCls:t,antCls:n,fontSizeSM:r,lineHeightSM:o,colorPickerAlphaInputWidth:a,marginXXS:s,paddingXXS:i,controlHeightSM:l,marginXS:u,fontSizeIcon:d,paddingXS:h,colorTextPlaceholder:p,colorPickerInputNumberHandleWidth:f,lineWidth:v}=e;return{[`${t}-input-container`]:{display:"flex",[`${t}-steppers${n}-input-number`]:{fontSize:r,lineHeight:o,[`${n}-input-number-input`]:{paddingInlineStart:i,paddingInlineEnd:0},[`${n}-input-number-handler-wrap`]:{width:f}},[`${t}-steppers${t}-alpha-input`]:{flex:`0 0 ${ae(a)}`,marginInlineStart:s},[`${t}-format-select${n}-select`]:{marginInlineEnd:u,width:"auto","&-single":{[`${n}-select-selector`]:{padding:0,border:0},[`${n}-select-arrow`]:{insetInlineEnd:0},[`${n}-select-selection-item`]:{paddingInlineEnd:e.calc(d).add(s).equal(),fontSize:r,lineHeight:ae(l)},[`${n}-select-item-option-content`]:{fontSize:r,lineHeight:o},[`${n}-select-dropdown`]:{[`${n}-select-item`]:{minHeight:"auto"}}}},[`${t}-input`]:{gap:s,alignItems:"center",flex:1,width:0,[`${t}-hsb-input,${t}-rgb-input`]:{display:"flex",gap:s,alignItems:"center"},[`${t}-steppers`]:{flex:1},[`${t}-hex-input${n}-input-affix-wrapper`]:{flex:1,padding:`0 ${ae(h)}`,[`${n}-input`]:{fontSize:r,textTransform:"uppercase",lineHeight:ae(e.calc(l).sub(e.calc(v).mul(2)).equal())},[`${n}-input-prefix`]:{color:p}}}}}},Hg=e=>{const{componentCls:t,controlHeightLG:n,borderRadiusSM:r,colorPickerInsetShadow:o,marginSM:a,colorBgElevated:s,colorFillSecondary:i,lineWidthBold:l,colorPickerHandlerSize:u}=e;return{userSelect:"none",[`${t}-select`]:{[`${t}-palette`]:{minHeight:e.calc(n).mul(4).equal(),overflow:"hidden",borderRadius:r},[`${t}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:o,inset:0},marginBottom:a},[`${t}-handler`]:{width:u,height:u,border:`${ae(l)} solid ${s}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${o}, 0 0 0 1px ${i}`}}},Vg=e=>{const{componentCls:t,antCls:n,colorTextQuaternary:r,paddingXXS:o,colorPickerPresetColorSize:a,fontSizeSM:s,colorText:i,lineHeightSM:l,lineWidth:u,borderRadius:d,colorFill:h,colorWhite:p,marginXXS:f,paddingXS:v,fontHeightSM:m}=e;return{[`${t}-presets`]:{[`${n}-collapse-item > ${n}-collapse-header`]:{padding:0,[`${n}-collapse-expand-icon`]:{height:m,color:r,paddingInlineEnd:o}},[`${n}-collapse`]:{display:"flex",flexDirection:"column",gap:f},[`${n}-collapse-item > ${n}-collapse-content > ${n}-collapse-content-box`]:{padding:`${ae(v)} 0`},"&-label":{fontSize:s,color:i,lineHeight:l},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(f).mul(1.5).equal(),[`${t}-presets-color`]:{position:"relative",cursor:"pointer",width:a,height:a,"&::before":{content:'""',pointerEvents:"none",width:e.calc(a).add(e.calc(u).mul(4)).equal(),height:e.calc(a).add(e.calc(u).mul(4)).equal(),position:"absolute",top:e.calc(u).mul(-2).equal(),insetInlineStart:e.calc(u).mul(-2).equal(),borderRadius:d,border:`${ae(u)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:h},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(a).div(13).mul(5).equal(),height:e.calc(a).div(13).mul(8).equal(),border:`${ae(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${t}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:p,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${t}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:s,color:r}}}},Kg=e=>{const{componentCls:t,colorPickerInsetShadow:n,colorBgElevated:r,colorFillSecondary:o,lineWidthBold:a,colorPickerHandlerSizeSM:s,colorPickerSliderHeight:i,marginSM:l,marginXS:u}=e,d=e.calc(s).sub(e.calc(a).mul(2).equal()).equal(),h=e.calc(s).add(e.calc(a).mul(2).equal()).equal(),p={"&:after":{transform:"scale(1)",boxShadow:`${n}, 0 0 0 1px ${e.colorPrimaryActive}`}};return{[`${t}-slider`]:[ic(ae(i),e.colorFillSecondary),{margin:0,padding:0,height:i,borderRadius:e.calc(i).div(2).equal(),"&-rail":{height:i,borderRadius:e.calc(i).div(2).equal(),boxShadow:n},[`& ${t}-slider-handle`]:{width:d,height:d,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:h,height:h,borderRadius:"100%"},"&:after":{width:s,height:s,border:`${ae(a)} solid ${r}`,boxShadow:`${n}, 0 0 0 1px ${o}`,outline:"none",insetInlineStart:e.calc(a).mul(-1).equal(),top:e.calc(a).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":p}}],[`${t}-slider-container`]:{display:"flex",gap:l,marginBottom:l,[`${t}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${t}-gradient-slider`]:{marginBottom:u,[`& ${t}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":p}}}},Oa=(e,t,n)=>({borderInlineEndWidth:e.lineWidth,borderColor:t,boxShadow:`0 0 0 ${ae(e.controlOutlineWidth)} ${n}`,outline:0}),Fg=e=>{const{componentCls:t}=e;return{"&-rtl":{[`${t}-presets-color`]:{"&::after":{direction:"ltr"}},[`${t}-clear`]:{"&::after":{direction:"ltr"}}}}},ls=(e,t,n)=>{const{componentCls:r,borderRadiusSM:o,lineWidth:a,colorSplit:s,colorBorder:i,red6:l}=e;return{[`${r}-clear`]:Object.assign(Object.assign({width:t,height:t,borderRadius:o,border:`${ae(a)} solid ${s}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${e.motionDurationFast}`},n),{"&::after":{content:'""',position:"absolute",insetInlineEnd:e.calc(a).mul(-1).equal(),top:e.calc(a).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:l},"&:hover":{borderColor:i}})}},Wg=e=>{const{componentCls:t,colorError:n,colorWarning:r,colorErrorHover:o,colorWarningHover:a,colorErrorOutline:s,colorWarningOutline:i}=e;return{[`&${t}-status-error`]:{borderColor:n,"&:hover":{borderColor:o},[`&${t}-trigger-active`]:Object.assign({},Oa(e,n,s))},[`&${t}-status-warning`]:{borderColor:r,"&:hover":{borderColor:a},[`&${t}-trigger-active`]:Object.assign({},Oa(e,r,i))}}},Gg=e=>{const{componentCls:t,controlHeightLG:n,controlHeightSM:r,controlHeight:o,controlHeightXS:a,borderRadius:s,borderRadiusSM:i,borderRadiusXS:l,borderRadiusLG:u,fontSizeLG:d}=e;return{[`&${t}-lg`]:{minWidth:n,minHeight:n,borderRadius:u,[`${t}-color-block, ${t}-clear`]:{width:o,height:o,borderRadius:s},[`${t}-trigger-text`]:{fontSize:d}},[`&${t}-sm`]:{minWidth:r,minHeight:r,borderRadius:i,[`${t}-color-block, ${t}-clear`]:{width:a,height:a,borderRadius:l},[`${t}-trigger-text`]:{lineHeight:ae(a)}}}},Ug=e=>{const{antCls:t,componentCls:n,colorPickerWidth:r,colorPrimary:o,motionDurationMid:a,colorBgElevated:s,colorTextDisabled:i,colorText:l,colorBgContainerDisabled:u,borderRadius:d,marginXS:h,marginSM:p,controlHeight:f,controlHeightSM:v,colorBgTextActive:m,colorPickerPresetColorSize:g,colorPickerPreviewSize:y,lineWidth:b,colorBorder:S,paddingXXS:C,fontSize:x,colorPrimaryHover:N,controlOutline:w}=e;return[{[n]:Object.assign({[`${n}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:r,[`& > ${t}-divider`]:{margin:`${ae(p)} 0 ${ae(h)}`}},[`${n}-panel`]:Object.assign({},Hg(e))},Kg(e)),ss(e,y)),Bg(e)),Vg(e)),ls(e,g,{marginInlineStart:"auto"})),{[`${n}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:h}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:f,minHeight:f,borderRadius:d,border:`${ae(b)} solid ${S}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${a}`,background:s,padding:e.calc(C).sub(b).equal(),[`${n}-trigger-text`]:{marginInlineStart:h,marginInlineEnd:e.calc(h).sub(e.calc(C).sub(b)).equal(),fontSize:x,color:l,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:i}}},"&:hover":{borderColor:N},[`&${n}-trigger-active`]:Object.assign({},Oa(e,o,w)),"&-disabled":{color:i,background:u,cursor:"not-allowed","&:hover":{borderColor:m},[`${n}-trigger-text`]:{color:i}}},ls(e,v)),ss(e,v)),Wg(e)),Gg(e))},Fg(e))},za(e,{focusElCls:`${n}-trigger-active`})]},qg=In("ColorPicker",e=>{const{colorTextQuaternary:t,marginSM:n}=e,r=8,o=rn(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${t}`,colorPickerSliderHeight:r,colorPickerPreviewSize:e.calc(r).mul(2).add(n).equal()});return[Ug(o)]});var Xg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const hi=e=>{const{mode:t,value:n,defaultValue:r,format:o,defaultFormat:a,allowClear:s=!1,presets:i,children:l,trigger:u="click",open:d,disabled:h,placement:p="bottomLeft",arrow:f=!0,panelRender:v,showText:m,style:g,className:y,size:b,rootClassName:S,prefixCls:C,styles:x,disabledAlpha:N=!1,onFormatChange:w,onChange:$,onClear:P,onOpenChange:O,onChangeComplete:T,getPopupContainer:A,autoAdjustOverflow:L=!0,destroyTooltipOnHide:R}=e,I=Xg(e,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide"]),{getPrefixCls:j,direction:z,colorPicker:B}=c.useContext(dn),q=c.useContext(Dr),ne=h??q,[G,te]=an(!1,{value:d,postState:We=>!ne&&We,onChange:O}),[X,J]=an(o,{value:o,defaultValue:a,onChange:w}),K=j("color-picker",C),[he,de,U,Z,H]=jg(r,n,t),W=c.useMemo(()=>si(he)<100,[he]),[se,fe]=V.useState(null),ce=We=>{if(T){let Ve=sn(We);N&&W&&(Ve=xo(We)),T(Ve)}},ue=(We,Ve)=>{let it=sn(We);N&&W&&(it=xo(it)),de(it),fe(null),$&&$(it,it.toCssString()),Ve||ce(it)},[Ee,Ce]=V.useState(0),[Oe,Ne]=V.useState(!1),Se=We=>{if(Z(We),We==="single"&&he.isGradient())Ce(0),ue(new Mn(he.getColors()[0].color)),fe(he);else if(We==="gradient"&&!he.isGradient()){const Ve=W?xo(he):he;ue(new Mn(se||[{percent:0,color:Ve},{percent:100,color:Ve}]))}},{status:_e}=V.useContext(Jr),{compactSize:Te,compactItemClassnames:Be}=_o(K,z),Me=Rr(We=>{var Ve;return(Ve=b??Te)!==null&&Ve!==void 0?Ve:We}),$e=dr(K),[Le,Ie,me]=qg(K,$e),ze={[`${K}-rtl`]:z},ke=pe(S,me,$e,ze),Ye=pe(qr(K,_e),{[`${K}-sm`]:Me==="small",[`${K}-lg`]:Me==="large"},Be,B==null?void 0:B.className,ke,y,Ie),yt=pe(K,ke),gt={open:G,trigger:u,placement:p,arrow:f,rootClassName:S,getPopupContainer:A,autoAdjustOverflow:L,destroyTooltipOnHide:R},bt=Object.assign(Object.assign({},B==null?void 0:B.style),g);return Le(V.createElement(_l,Object.assign({style:x==null?void 0:x.popup,overlayInnerStyle:x==null?void 0:x.popupOverlayInner,onOpenChange:We=>{(!We||!ne)&&te(We)},content:V.createElement(Ca,{form:!0},V.createElement(kg,{mode:U,onModeChange:Se,modeOptions:H,prefixCls:K,value:he,allowClear:s,disabled:ne,disabledAlpha:N,presets:i,panelRender:v,format:X,onFormatChange:J,onChange:ue,onChangeComplete:ce,onClear:P,activeIndex:Ee,onActive:Ce,gradientDragging:Oe,onGradientDragging:Ne})),overlayClassName:yt},gt),l||V.createElement(zg,Object.assign({activeIndex:G?Ee:-1,open:G,className:Ye,style:bt,prefixCls:K,disabled:ne,showText:m,format:X},I,{color:he}))))},Yg=ja(hi,"color-picker",e=>e,e=>Object.assign(Object.assign({},e),{placement:"bottom",autoAdjustOverflow:!1}));hi._InternalPanelDoNotUseOrYouWillBeFired=Yg;var Zg={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Qg=function(t,n){return c.createElement(Zn,Xe({},t,{ref:n,icon:Zg}))},Jg=c.forwardRef(Qg),em={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},tm=function(t,n){return c.createElement(Zn,Xe({},t,{ref:n,icon:em}))},nm=c.forwardRef(tm),rm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},om=function(t,n){return c.createElement(Zn,Xe({},t,{ref:n,icon:rm}))},am=c.forwardRef(om),im={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},sm=function(t,n){return c.createElement(Zn,Xe({},t,{ref:n,icon:im}))},lm=c.forwardRef(sm),cm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},um=function(t,n){return c.createElement(Zn,Xe({},t,{ref:n,icon:cm}))},dm=c.forwardRef(um),fi=c.createContext(null),hm=function(t){for(var n=t.prefixCls,r=t.level,o=t.isStart,a=t.isEnd,s="".concat(n,"-indent-unit"),i=[],l=0;l<r;l+=1)i.push(c.createElement("span",{key:l,className:pe(s,k(k({},"".concat(s,"-start"),o[l]),"".concat(s,"-end"),a[l]))}));return c.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},i)};const fm=c.memo(hm);var pm=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],cs="open",us="close",gm="---",mm=function(e){Ha(n,e);var t=Va(n);function n(){var r;pr(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=t.call.apply(t,[this].concat(a)),k(be(r),"state",{dragNodeHighlight:!1}),k(be(r),"selectHandle",void 0),k(be(r),"cacheIndent",void 0),k(be(r),"onSelectorClick",function(i){var l=r.props.context.onNodeClick;l(i,Ut(r.props)),r.isSelectable()?r.onSelect(i):r.onCheck(i)}),k(be(r),"onSelectorDoubleClick",function(i){var l=r.props.context.onNodeDoubleClick;l(i,Ut(r.props))}),k(be(r),"onSelect",function(i){if(!r.isDisabled()){var l=r.props.context.onNodeSelect;l(i,Ut(r.props))}}),k(be(r),"onCheck",function(i){if(!r.isDisabled()){var l=r.props,u=l.disableCheckbox,d=l.checked,h=r.props.context.onNodeCheck;if(!(!r.isCheckable()||u)){var p=!d;h(i,Ut(r.props),p)}}}),k(be(r),"onMouseEnter",function(i){var l=r.props.context.onNodeMouseEnter;l(i,Ut(r.props))}),k(be(r),"onMouseLeave",function(i){var l=r.props.context.onNodeMouseLeave;l(i,Ut(r.props))}),k(be(r),"onContextMenu",function(i){var l=r.props.context.onNodeContextMenu;l(i,Ut(r.props))}),k(be(r),"onDragStart",function(i){var l=r.props.context.onNodeDragStart;i.stopPropagation(),r.setState({dragNodeHighlight:!0}),l(i,be(r));try{i.dataTransfer.setData("text/plain","")}catch{}}),k(be(r),"onDragEnter",function(i){var l=r.props.context.onNodeDragEnter;i.preventDefault(),i.stopPropagation(),l(i,be(r))}),k(be(r),"onDragOver",function(i){var l=r.props.context.onNodeDragOver;i.preventDefault(),i.stopPropagation(),l(i,be(r))}),k(be(r),"onDragLeave",function(i){var l=r.props.context.onNodeDragLeave;i.stopPropagation(),l(i,be(r))}),k(be(r),"onDragEnd",function(i){var l=r.props.context.onNodeDragEnd;i.stopPropagation(),r.setState({dragNodeHighlight:!1}),l(i,be(r))}),k(be(r),"onDrop",function(i){var l=r.props.context.onNodeDrop;i.preventDefault(),i.stopPropagation(),r.setState({dragNodeHighlight:!1}),l(i,be(r))}),k(be(r),"onExpand",function(i){var l=r.props,u=l.loading,d=l.context.onNodeExpand;u||d(i,Ut(r.props))}),k(be(r),"setSelectHandle",function(i){r.selectHandle=i}),k(be(r),"getNodeState",function(){var i=r.props.expanded;return r.isLeaf()?null:i?cs:us}),k(be(r),"hasChildren",function(){var i=r.props.eventKey,l=r.props.context.keyEntities,u=mn(l,i)||{},d=u.children;return!!(d||[]).length}),k(be(r),"isLeaf",function(){var i=r.props,l=i.isLeaf,u=i.loaded,d=r.props.context.loadData,h=r.hasChildren();return l===!1?!1:l||!d&&!h||d&&u&&!h}),k(be(r),"isDisabled",function(){var i=r.props.disabled,l=r.props.context.disabled;return!!(l||i)}),k(be(r),"isCheckable",function(){var i=r.props.checkable,l=r.props.context.checkable;return!l||i===!1?!1:l}),k(be(r),"syncLoadData",function(i){var l=i.expanded,u=i.loading,d=i.loaded,h=r.props.context,p=h.loadData,f=h.onNodeLoad;u||p&&l&&!r.isLeaf()&&!d&&f(Ut(r.props))}),k(be(r),"isDraggable",function(){var i=r.props,l=i.data,u=i.context.draggable;return!!(u&&(!u.nodeDraggable||u.nodeDraggable(l)))}),k(be(r),"renderDragHandler",function(){var i=r.props.context,l=i.draggable,u=i.prefixCls;return l!=null&&l.icon?c.createElement("span",{className:"".concat(u,"-draggable-icon")},l.icon):null}),k(be(r),"renderSwitcherIconDom",function(i){var l=r.props.switcherIcon,u=r.props.context.switcherIcon,d=l||u;return typeof d=="function"?d(oe(oe({},r.props),{},{isLeaf:i})):d}),k(be(r),"renderSwitcher",function(){var i=r.props.expanded,l=r.props.context.prefixCls;if(r.isLeaf()){var u=r.renderSwitcherIconDom(!0);return u!==!1?c.createElement("span",{className:pe("".concat(l,"-switcher"),"".concat(l,"-switcher-noop"))},u):null}var d=pe("".concat(l,"-switcher"),"".concat(l,"-switcher_").concat(i?cs:us)),h=r.renderSwitcherIconDom(!1);return h!==!1?c.createElement("span",{onClick:r.onExpand,className:d},h):null}),k(be(r),"renderCheckbox",function(){var i=r.props,l=i.checked,u=i.halfChecked,d=i.disableCheckbox,h=r.props.context.prefixCls,p=r.isDisabled(),f=r.isCheckable();if(!f)return null;var v=typeof f!="boolean"?f:null;return c.createElement("span",{className:pe("".concat(h,"-checkbox"),l&&"".concat(h,"-checkbox-checked"),!l&&u&&"".concat(h,"-checkbox-indeterminate"),(p||d)&&"".concat(h,"-checkbox-disabled")),onClick:r.onCheck},v)}),k(be(r),"renderIcon",function(){var i=r.props.loading,l=r.props.context.prefixCls;return c.createElement("span",{className:pe("".concat(l,"-iconEle"),"".concat(l,"-icon__").concat(r.getNodeState()||"docu"),i&&"".concat(l,"-icon_loading"))})}),k(be(r),"renderSelector",function(){var i=r.state.dragNodeHighlight,l=r.props,u=l.title,d=u===void 0?gm:u,h=l.selected,p=l.icon,f=l.loading,v=l.data,m=r.props.context,g=m.prefixCls,y=m.showIcon,b=m.icon,S=m.loadData,C=m.titleRender,x=r.isDisabled(),N="".concat(g,"-node-content-wrapper"),w;if(y){var $=p||b;w=$?c.createElement("span",{className:pe("".concat(g,"-iconEle"),"".concat(g,"-icon__customize"))},typeof $=="function"?$(r.props):$):r.renderIcon()}else S&&f&&(w=r.renderIcon());var P;typeof d=="function"?P=d(v):C?P=C(v):P=d;var O=c.createElement("span",{className:"".concat(g,"-title")},P);return c.createElement("span",{ref:r.setSelectHandle,title:typeof d=="string"?d:"",className:pe("".concat(N),"".concat(N,"-").concat(r.getNodeState()||"normal"),!x&&(h||i)&&"".concat(g,"-node-selected")),onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onContextMenu:r.onContextMenu,onClick:r.onSelectorClick,onDoubleClick:r.onSelectorDoubleClick},w,O,r.renderDropIndicator())}),k(be(r),"renderDropIndicator",function(){var i=r.props,l=i.disabled,u=i.eventKey,d=r.props.context,h=d.draggable,p=d.dropLevelOffset,f=d.dropPosition,v=d.prefixCls,m=d.indent,g=d.dropIndicatorRender,y=d.dragOverNodeKey,b=d.direction,S=!!h,C=!l&&S&&y===u,x=m??r.cacheIndent;return r.cacheIndent=m,C?g({dropPosition:f,dropLevelOffset:p,indent:x,prefixCls:v,direction:b}):null}),r}return fr(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var o=this.props.selectable,a=this.props.context.selectable;return typeof o=="boolean"?o:a}},{key:"render",value:function(){var o,a=this.props,s=a.eventKey,i=a.className,l=a.style,u=a.dragOver,d=a.dragOverGapTop,h=a.dragOverGapBottom,p=a.isLeaf,f=a.isStart,v=a.isEnd,m=a.expanded,g=a.selected,y=a.checked,b=a.halfChecked,S=a.loading,C=a.domRef,x=a.active;a.data;var N=a.onMouseMove,w=a.selectable,$=_t(a,pm),P=this.props.context,O=P.prefixCls,T=P.filterTreeNode,A=P.keyEntities,L=P.dropContainerKey,R=P.dropTargetKey,I=P.draggingNodeKey,j=this.isDisabled(),z=qn($,{aria:!0,data:!0}),B=mn(A,s)||{},q=B.level,ne=v[v.length-1],G=this.isDraggable(),te=!j&&G,X=I===s,J=w!==void 0?{"aria-selected":!!w}:void 0;return c.createElement("div",Xe({ref:C,className:pe(i,"".concat(O,"-treenode"),(o={},k(k(k(k(k(k(k(k(k(k(o,"".concat(O,"-treenode-disabled"),j),"".concat(O,"-treenode-switcher-").concat(m?"open":"close"),!p),"".concat(O,"-treenode-checkbox-checked"),y),"".concat(O,"-treenode-checkbox-indeterminate"),b),"".concat(O,"-treenode-selected"),g),"".concat(O,"-treenode-loading"),S),"".concat(O,"-treenode-active"),x),"".concat(O,"-treenode-leaf-last"),ne),"".concat(O,"-treenode-draggable"),G),"dragging",X),k(k(k(k(k(k(o,"drop-target",R===s),"drop-container",L===s),"drag-over",!j&&u),"drag-over-gap-top",!j&&d),"drag-over-gap-bottom",!j&&h),"filter-node",T&&T(Ut(this.props))))),style:l,draggable:te,"aria-grabbed":X,onDragStart:te?this.onDragStart:void 0,onDragEnter:G?this.onDragEnter:void 0,onDragOver:G?this.onDragOver:void 0,onDragLeave:G?this.onDragLeave:void 0,onDrop:G?this.onDrop:void 0,onDragEnd:G?this.onDragEnd:void 0,onMouseMove:N},J,z),c.createElement(fm,{prefixCls:O,level:q,isStart:f,isEnd:v}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(c.Component),Xr=function(t){return c.createElement(fi.Consumer,null,function(n){return c.createElement(mm,Xe({},t,{context:n}))})};Xr.displayName="TreeNode";Xr.isTreeNode=1;function Ln(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function Kn(e,t){var n=(e||[]).slice();return n.indexOf(t)===-1&&n.push(t),n}function pi(e){return e.split("-")}function vm(e,t){var n=[],r=mn(t,e);function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];a.forEach(function(s){var i=s.key,l=s.children;n.push(i),o(l)})}return o(r.children),n}function ym(e){if(e.parent){var t=pi(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function bm(e){var t=pi(e.pos);return Number(t[t.length-1])===0}function ds(e,t,n,r,o,a,s,i,l,u){var d,h=e.clientX,p=e.clientY,f=e.target.getBoundingClientRect(),v=f.top,m=f.height,g=(u==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-h),y=(g-12)/r,b=l.filter(function(j){var z;return(z=i[j])===null||z===void 0||(z=z.children)===null||z===void 0?void 0:z.length}),S=mn(i,n.props.eventKey);if(p<v+m/2){var C=s.findIndex(function(j){return j.key===S.key}),x=C<=0?0:C-1,N=s[x].key;S=mn(i,N)}var w=S.key,$=S,P=S.key,O=0,T=0;if(!b.includes(w))for(var A=0;A<y&&ym(S);A+=1)S=S.parent,T+=1;var L=t.props.data,R=S.node,I=!0;return bm(S)&&S.level===0&&p<v+m/2&&a({dragNode:L,dropNode:R,dropPosition:-1})&&S.key===n.props.eventKey?O=-1:($.children||[]).length&&b.includes(P)?a({dragNode:L,dropNode:R,dropPosition:0})?O=0:I=!1:T===0?y>-1.5?a({dragNode:L,dropNode:R,dropPosition:1})?O=1:I=!1:a({dragNode:L,dropNode:R,dropPosition:0})?O=0:a({dragNode:L,dropNode:R,dropPosition:1})?O=1:I=!1:a({dragNode:L,dropNode:R,dropPosition:1})?O=1:I=!1,{dropPosition:O,dropLevelOffset:T,dropTargetKey:S.key,dropTargetPos:S.pos,dragOverNodeKey:P,dropContainerKey:O===0?null:((d=S.parent)===null||d===void 0?void 0:d.key)||null,dropAllowed:I}}function hs(e,t){if(e){var n=t.multiple;return n?e.slice():e.length?[e[0]]:e}}function aa(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(on(e)==="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return tn(!1,"`checkedKeys` is not an array or an object"),null;return t}function fs(e,t){var n=new Set;function r(o){if(!n.has(o)){var a=mn(t,o);if(a){n.add(o);var s=a.parent,i=a.node;i.disabled||s&&r(s.key)}}}return(e||[]).forEach(function(o){r(o)}),Ze(n)}function Sm(e){var t=e.dropPosition,n=e.dropLevelOffset,r=e.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:o.top=0,o.left=-n*r;break;case 1:o.bottom=0,o.left=-n*r;break;case 0:o.bottom=0,o.left=r;break}return c.createElement("div",{style:o})}function sc(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function Cm(e,t){var n=c.useState(!1),r=ge(n,2),o=r[0],a=r[1];vn(function(){if(o)return e(),function(){t()}},[o]),vn(function(){return a(!0),function(){a(!1)}},[])}var xm=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],lc=function(t,n){var r=t.className,o=t.style,a=t.motion,s=t.motionNodes,i=t.motionType,l=t.onMotionStart,u=t.onMotionEnd,d=t.active,h=t.treeNodeRequiredProps,p=_t(t,xm),f=c.useState(!0),v=ge(f,2),m=v[0],g=v[1],y=c.useContext(fi),b=y.prefixCls,S=s&&i!=="hide";vn(function(){s&&S!==m&&g(S)},[s]);var C=function(){s&&l()},x=c.useRef(!1),N=function(){s&&!x.current&&(x.current=!0,u())};Cm(C,N);var w=function(P){S===P&&N()};return s?c.createElement(Ba,Xe({ref:n,visible:m},a,{motionAppear:i==="show",onVisibleChanged:w}),function($,P){var O=$.className,T=$.style;return c.createElement("div",{ref:P,className:pe("".concat(b,"-treenode-motion"),O),style:T},s.map(function(A){var L=Object.assign({},(sc(A.data),A.data)),R=A.title,I=A.key,j=A.isStart,z=A.isEnd;delete L.children;var B=Kr(I,h);return c.createElement(Xr,Xe({},L,B,{title:R,active:d,data:A.data,key:I,isStart:j,isEnd:z}))}))}):c.createElement(Xr,Xe({domRef:n,className:r,style:o},p,{active:d}))};lc.displayName="MotionTreeNode";var wm=c.forwardRef(lc);function Em(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=e.length,r=t.length;if(Math.abs(n-r)!==1)return{add:!1,key:null};function o(a,s){var i=new Map;a.forEach(function(u){i.set(u,!0)});var l=s.filter(function(u){return!i.has(u)});return l.length===1?l[0]:null}return n<r?{add:!0,key:o(e,t)}:{add:!1,key:o(t,e)}}function ps(e,t,n){var r=e.findIndex(function(i){return i.key===n}),o=e[r+1],a=t.findIndex(function(i){return i.key===n});if(o){var s=t.findIndex(function(i){return i.key===o.key});return t.slice(a+1,s)}return t.slice(a+1)}var Nm=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],gs={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Mm=function(){},hr="RC_TREE_MOTION_".concat(Math.random()),Aa={key:hr},cc={key:hr,level:0,index:0,pos:"0",node:Aa,nodes:[Aa]},ms={parent:null,children:[],pos:cc.pos,data:Aa,title:null,key:hr,isStart:[],isEnd:[]};function vs(e,t,n,r){return t===!1||!n?e:e.slice(0,Math.ceil(n/r)+1)}function ys(e){var t=e.key,n=e.pos;return eo(t,n)}function $m(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}var uc=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.data;e.selectable,e.checkable;var o=e.expandedKeys,a=e.selectedKeys,s=e.checkedKeys,i=e.loadedKeys,l=e.loadingKeys,u=e.halfCheckedKeys,d=e.keyEntities,h=e.disabled,p=e.dragging,f=e.dragOverNodeKey,v=e.dropPosition,m=e.motion,g=e.height,y=e.itemHeight,b=e.virtual,S=e.focusable,C=e.activeItem,x=e.focused,N=e.tabIndex,w=e.onKeyDown,$=e.onFocus,P=e.onBlur,O=e.onActiveChange,T=e.onListChangeStart,A=e.onListChangeEnd,L=_t(e,Nm),R=c.useRef(null),I=c.useRef(null);c.useImperativeHandle(t,function(){return{scrollTo:function(_e){R.current.scrollTo(_e)},getIndentWidth:function(){return I.current.offsetWidth}}});var j=c.useState(o),z=ge(j,2),B=z[0],q=z[1],ne=c.useState(r),G=ge(ne,2),te=G[0],X=G[1],J=c.useState(r),K=ge(J,2),he=K[0],de=K[1],U=c.useState([]),Z=ge(U,2),H=Z[0],W=Z[1],se=c.useState(null),fe=ge(se,2),ce=fe[0],ue=fe[1],Ee=c.useRef(r);Ee.current=r;function Ce(){var Se=Ee.current;X(Se),de(Se),W([]),ue(null),A()}vn(function(){q(o);var Se=Em(B,o);if(Se.key!==null)if(Se.add){var _e=te.findIndex(function(Ie){var me=Ie.key;return me===Se.key}),Te=vs(ps(te,r,Se.key),b,g,y),Be=te.slice();Be.splice(_e+1,0,ms),de(Be),W(Te),ue("show")}else{var Me=r.findIndex(function(Ie){var me=Ie.key;return me===Se.key}),$e=vs(ps(r,te,Se.key),b,g,y),Le=r.slice();Le.splice(Me+1,0,ms),de(Le),W($e),ue("hide")}else te!==r&&(X(r),de(r))},[o,r]),c.useEffect(function(){p||Ce()},[p]);var Oe=m?he:r,Ne={expandedKeys:o,selectedKeys:a,loadedKeys:i,loadingKeys:l,checkedKeys:s,halfCheckedKeys:u,dragOverNodeKey:f,dropPosition:v,keyEntities:d};return c.createElement(c.Fragment,null,x&&C&&c.createElement("span",{style:gs,"aria-live":"assertive"},$m(C)),c.createElement("div",null,c.createElement("input",{style:gs,disabled:S===!1||h,tabIndex:S!==!1?N:null,onKeyDown:w,onFocus:$,onBlur:P,value:"",onChange:Mm,"aria-label":"for screen reader"})),c.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},c.createElement("div",{className:"".concat(n,"-indent")},c.createElement("div",{ref:I,className:"".concat(n,"-indent-unit")}))),c.createElement(ti,Xe({},L,{data:Oe,itemKey:ys,height:g,fullHeight:!1,virtual:b,itemHeight:y,prefixCls:"".concat(n,"-list"),ref:R,onVisibleChange:function(_e,Te){var Be=new Set(_e),Me=Te.filter(function($e){return!Be.has($e)});Me.some(function($e){return ys($e)===hr})&&Ce()}}),function(Se){var _e=Se.pos,Te=Object.assign({},(sc(Se.data),Se.data)),Be=Se.title,Me=Se.key,$e=Se.isStart,Le=Se.isEnd,Ie=eo(Me,_e);delete Te.key,delete Te.children;var me=Kr(Ie,Ne);return c.createElement(wm,Xe({},Te,me,{title:Be,active:!!C&&Me===C.key,pos:_e,data:Se.data,isStart:$e,isEnd:Le,motion:m,motionNodes:Me===hr?H:null,motionType:ce,onMotionStart:T,onMotionEnd:Ce,treeNodeRequiredProps:Ne,onMouseMove:function(){O(null)}}))}))});uc.displayName="NodeList";var Im=10,gi=function(e){Ha(n,e);var t=Va(n);function n(){var r;pr(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=t.call.apply(t,[this].concat(a)),k(be(r),"destroyed",!1),k(be(r),"delayedDragEnterLogic",void 0),k(be(r),"loadingRetryTimes",{}),k(be(r),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Oo()}),k(be(r),"dragStartMousePosition",null),k(be(r),"dragNode",void 0),k(be(r),"currentMouseOverDroppableNodeKey",null),k(be(r),"listRef",c.createRef()),k(be(r),"onNodeDragStart",function(i,l){var u=r.state,d=u.expandedKeys,h=u.keyEntities,p=r.props.onDragStart,f=l.props.eventKey;r.dragNode=l,r.dragStartMousePosition={x:i.clientX,y:i.clientY};var v=Ln(d,f);r.setState({draggingNodeKey:f,dragChildrenKeys:vm(f,h),indent:r.listRef.current.getIndentWidth()}),r.setExpandedKeys(v),window.addEventListener("dragend",r.onWindowDragEnd),p==null||p({event:i,node:Ut(l.props)})}),k(be(r),"onNodeDragEnter",function(i,l){var u=r.state,d=u.expandedKeys,h=u.keyEntities,p=u.dragChildrenKeys,f=u.flattenNodes,v=u.indent,m=r.props,g=m.onDragEnter,y=m.onExpand,b=m.allowDrop,S=m.direction,C=l.props,x=C.pos,N=C.eventKey,w=be(r),$=w.dragNode;if(r.currentMouseOverDroppableNodeKey!==N&&(r.currentMouseOverDroppableNodeKey=N),!$){r.resetDragState();return}var P=ds(i,$,l,v,r.dragStartMousePosition,b,f,h,d,S),O=P.dropPosition,T=P.dropLevelOffset,A=P.dropTargetKey,L=P.dropContainerKey,R=P.dropTargetPos,I=P.dropAllowed,j=P.dragOverNodeKey;if(p.indexOf(A)!==-1||!I){r.resetDragState();return}if(r.delayedDragEnterLogic||(r.delayedDragEnterLogic={}),Object.keys(r.delayedDragEnterLogic).forEach(function(z){clearTimeout(r.delayedDragEnterLogic[z])}),$.props.eventKey!==l.props.eventKey&&(i.persist(),r.delayedDragEnterLogic[x]=window.setTimeout(function(){if(r.state.draggingNodeKey!==null){var z=Ze(d),B=mn(h,l.props.eventKey);B&&(B.children||[]).length&&(z=Kn(d,l.props.eventKey)),"expandedKeys"in r.props||r.setExpandedKeys(z),y==null||y(z,{node:Ut(l.props),expanded:!0,nativeEvent:i.nativeEvent})}},800)),$.props.eventKey===A&&T===0){r.resetDragState();return}r.setState({dragOverNodeKey:j,dropPosition:O,dropLevelOffset:T,dropTargetKey:A,dropContainerKey:L,dropTargetPos:R,dropAllowed:I}),g==null||g({event:i,node:Ut(l.props),expandedKeys:d})}),k(be(r),"onNodeDragOver",function(i,l){var u=r.state,d=u.dragChildrenKeys,h=u.flattenNodes,p=u.keyEntities,f=u.expandedKeys,v=u.indent,m=r.props,g=m.onDragOver,y=m.allowDrop,b=m.direction,S=be(r),C=S.dragNode;if(C){var x=ds(i,C,l,v,r.dragStartMousePosition,y,h,p,f,b),N=x.dropPosition,w=x.dropLevelOffset,$=x.dropTargetKey,P=x.dropContainerKey,O=x.dropAllowed,T=x.dropTargetPos,A=x.dragOverNodeKey;d.indexOf($)!==-1||!O||(C.props.eventKey===$&&w===0?r.state.dropPosition===null&&r.state.dropLevelOffset===null&&r.state.dropTargetKey===null&&r.state.dropContainerKey===null&&r.state.dropTargetPos===null&&r.state.dropAllowed===!1&&r.state.dragOverNodeKey===null||r.resetDragState():N===r.state.dropPosition&&w===r.state.dropLevelOffset&&$===r.state.dropTargetKey&&P===r.state.dropContainerKey&&T===r.state.dropTargetPos&&O===r.state.dropAllowed&&A===r.state.dragOverNodeKey||r.setState({dropPosition:N,dropLevelOffset:w,dropTargetKey:$,dropContainerKey:P,dropTargetPos:T,dropAllowed:O,dragOverNodeKey:A}),g==null||g({event:i,node:Ut(l.props)}))}}),k(be(r),"onNodeDragLeave",function(i,l){r.currentMouseOverDroppableNodeKey===l.props.eventKey&&!i.currentTarget.contains(i.relatedTarget)&&(r.resetDragState(),r.currentMouseOverDroppableNodeKey=null);var u=r.props.onDragLeave;u==null||u({event:i,node:Ut(l.props)})}),k(be(r),"onWindowDragEnd",function(i){r.onNodeDragEnd(i,null,!0),window.removeEventListener("dragend",r.onWindowDragEnd)}),k(be(r),"onNodeDragEnd",function(i,l){var u=r.props.onDragEnd;r.setState({dragOverNodeKey:null}),r.cleanDragState(),u==null||u({event:i,node:Ut(l.props)}),r.dragNode=null,window.removeEventListener("dragend",r.onWindowDragEnd)}),k(be(r),"onNodeDrop",function(i,l){var u,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=r.state,p=h.dragChildrenKeys,f=h.dropPosition,v=h.dropTargetKey,m=h.dropTargetPos,g=h.dropAllowed;if(g){var y=r.props.onDrop;if(r.setState({dragOverNodeKey:null}),r.cleanDragState(),v!==null){var b=oe(oe({},Kr(v,r.getTreeNodeRequiredProps())),{},{active:((u=r.getActiveItem())===null||u===void 0?void 0:u.key)===v,data:mn(r.state.keyEntities,v).node}),S=p.indexOf(v)!==-1;tn(!S,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var C=pi(m),x={event:i,node:Ut(b),dragNode:r.dragNode?Ut(r.dragNode.props):null,dragNodesKeys:[r.dragNode.props.eventKey].concat(p),dropToGap:f!==0,dropPosition:f+Number(C[C.length-1])};d||y==null||y(x),r.dragNode=null}}}),k(be(r),"cleanDragState",function(){var i=r.state.draggingNodeKey;i!==null&&r.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),r.dragStartMousePosition=null,r.currentMouseOverDroppableNodeKey=null}),k(be(r),"triggerExpandActionExpand",function(i,l){var u=r.state,d=u.expandedKeys,h=u.flattenNodes,p=l.expanded,f=l.key,v=l.isLeaf;if(!(v||i.shiftKey||i.metaKey||i.ctrlKey)){var m=h.filter(function(y){return y.key===f})[0],g=Ut(oe(oe({},Kr(f,r.getTreeNodeRequiredProps())),{},{data:m.data}));r.setExpandedKeys(p?Ln(d,f):Kn(d,f)),r.onNodeExpand(i,g)}}),k(be(r),"onNodeClick",function(i,l){var u=r.props,d=u.onClick,h=u.expandAction;h==="click"&&r.triggerExpandActionExpand(i,l),d==null||d(i,l)}),k(be(r),"onNodeDoubleClick",function(i,l){var u=r.props,d=u.onDoubleClick,h=u.expandAction;h==="doubleClick"&&r.triggerExpandActionExpand(i,l),d==null||d(i,l)}),k(be(r),"onNodeSelect",function(i,l){var u=r.state.selectedKeys,d=r.state,h=d.keyEntities,p=d.fieldNames,f=r.props,v=f.onSelect,m=f.multiple,g=l.selected,y=l[p.key],b=!g;b?m?u=Kn(u,y):u=[y]:u=Ln(u,y);var S=u.map(function(C){var x=mn(h,C);return x?x.node:null}).filter(function(C){return C});r.setUncontrolledState({selectedKeys:u}),v==null||v(u,{event:"select",selected:b,node:l,selectedNodes:S,nativeEvent:i.nativeEvent})}),k(be(r),"onNodeCheck",function(i,l,u){var d=r.state,h=d.keyEntities,p=d.checkedKeys,f=d.halfCheckedKeys,v=r.props,m=v.checkStrictly,g=v.onCheck,y=l.key,b,S={event:"check",node:l,checked:u,nativeEvent:i.nativeEvent};if(m){var C=u?Kn(p,y):Ln(p,y),x=Ln(f,y);b={checked:C,halfChecked:x},S.checkedNodes=C.map(function(T){return mn(h,T)}).filter(function(T){return T}).map(function(T){return T.node}),r.setUncontrolledState({checkedKeys:C})}else{var N=$r([].concat(Ze(p),[y]),!0,h),w=N.checkedKeys,$=N.halfCheckedKeys;if(!u){var P=new Set(w);P.delete(y);var O=$r(Array.from(P),{halfCheckedKeys:$},h);w=O.checkedKeys,$=O.halfCheckedKeys}b=w,S.checkedNodes=[],S.checkedNodesPositions=[],S.halfCheckedKeys=$,w.forEach(function(T){var A=mn(h,T);if(A){var L=A.node,R=A.pos;S.checkedNodes.push(L),S.checkedNodesPositions.push({node:L,pos:R})}}),r.setUncontrolledState({checkedKeys:w},!1,{halfCheckedKeys:$})}g==null||g(b,S)}),k(be(r),"onNodeLoad",function(i){var l,u=i.key,d=r.state.keyEntities,h=mn(d,u);if(!(h!=null&&(l=h.children)!==null&&l!==void 0&&l.length)){var p=new Promise(function(f,v){r.setState(function(m){var g=m.loadedKeys,y=g===void 0?[]:g,b=m.loadingKeys,S=b===void 0?[]:b,C=r.props,x=C.loadData,N=C.onLoad;if(!x||y.indexOf(u)!==-1||S.indexOf(u)!==-1)return null;var w=x(i);return w.then(function(){var $=r.state.loadedKeys,P=Kn($,u);N==null||N(P,{event:"load",node:i}),r.setUncontrolledState({loadedKeys:P}),r.setState(function(O){return{loadingKeys:Ln(O.loadingKeys,u)}}),f()}).catch(function($){if(r.setState(function(O){return{loadingKeys:Ln(O.loadingKeys,u)}}),r.loadingRetryTimes[u]=(r.loadingRetryTimes[u]||0)+1,r.loadingRetryTimes[u]>=Im){var P=r.state.loadedKeys;tn(!1,"Retry for `loadData` many times but still failed. No more retry."),r.setUncontrolledState({loadedKeys:Kn(P,u)}),f()}v($)}),{loadingKeys:Kn(S,u)}})});return p.catch(function(){}),p}}),k(be(r),"onNodeMouseEnter",function(i,l){var u=r.props.onMouseEnter;u==null||u({event:i,node:l})}),k(be(r),"onNodeMouseLeave",function(i,l){var u=r.props.onMouseLeave;u==null||u({event:i,node:l})}),k(be(r),"onNodeContextMenu",function(i,l){var u=r.props.onRightClick;u&&(i.preventDefault(),u({event:i,node:l}))}),k(be(r),"onFocus",function(){var i=r.props.onFocus;r.setState({focused:!0});for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];i==null||i.apply(void 0,u)}),k(be(r),"onBlur",function(){var i=r.props.onBlur;r.setState({focused:!1}),r.onActiveChange(null);for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];i==null||i.apply(void 0,u)}),k(be(r),"getTreeNodeRequiredProps",function(){var i=r.state,l=i.expandedKeys,u=i.selectedKeys,d=i.loadedKeys,h=i.loadingKeys,p=i.checkedKeys,f=i.halfCheckedKeys,v=i.dragOverNodeKey,m=i.dropPosition,g=i.keyEntities;return{expandedKeys:l||[],selectedKeys:u||[],loadedKeys:d||[],loadingKeys:h||[],checkedKeys:p||[],halfCheckedKeys:f||[],dragOverNodeKey:v,dropPosition:m,keyEntities:g}}),k(be(r),"setExpandedKeys",function(i){var l=r.state,u=l.treeData,d=l.fieldNames,h=ta(u,i,d);r.setUncontrolledState({expandedKeys:i,flattenNodes:h},!0)}),k(be(r),"onNodeExpand",function(i,l){var u=r.state.expandedKeys,d=r.state,h=d.listChanging,p=d.fieldNames,f=r.props,v=f.onExpand,m=f.loadData,g=l.expanded,y=l[p.key];if(!h){var b=u.indexOf(y),S=!g;if(tn(g&&b!==-1||!g&&b===-1,"Expand state not sync with index check"),S?u=Kn(u,y):u=Ln(u,y),r.setExpandedKeys(u),v==null||v(u,{node:l,expanded:S,nativeEvent:i.nativeEvent}),S&&m){var C=r.onNodeLoad(l);C&&C.then(function(){var x=ta(r.state.treeData,u,p);r.setUncontrolledState({flattenNodes:x})}).catch(function(){var x=r.state.expandedKeys,N=Ln(x,y);r.setExpandedKeys(N)})}}}),k(be(r),"onListChangeStart",function(){r.setUncontrolledState({listChanging:!0})}),k(be(r),"onListChangeEnd",function(){setTimeout(function(){r.setUncontrolledState({listChanging:!1})})}),k(be(r),"onActiveChange",function(i){var l=r.state.activeKey,u=r.props,d=u.onActiveChange,h=u.itemScrollOffset,p=h===void 0?0:h;l!==i&&(r.setState({activeKey:i}),i!==null&&r.scrollTo({key:i,offset:p}),d==null||d(i))}),k(be(r),"getActiveItem",function(){var i=r.state,l=i.activeKey,u=i.flattenNodes;return l===null?null:u.find(function(d){var h=d.key;return h===l})||null}),k(be(r),"offsetActiveKey",function(i){var l=r.state,u=l.flattenNodes,d=l.activeKey,h=u.findIndex(function(v){var m=v.key;return m===d});h===-1&&i<0&&(h=u.length),h=(h+i+u.length)%u.length;var p=u[h];if(p){var f=p.key;r.onActiveChange(f)}else r.onActiveChange(null)}),k(be(r),"onKeyDown",function(i){var l=r.state,u=l.activeKey,d=l.expandedKeys,h=l.checkedKeys,p=l.fieldNames,f=r.props,v=f.onKeyDown,m=f.checkable,g=f.selectable;switch(i.which){case we.UP:{r.offsetActiveKey(-1),i.preventDefault();break}case we.DOWN:{r.offsetActiveKey(1),i.preventDefault();break}}var y=r.getActiveItem();if(y&&y.data){var b=r.getTreeNodeRequiredProps(),S=y.data.isLeaf===!1||!!(y.data[p.children]||[]).length,C=Ut(oe(oe({},Kr(u,b)),{},{data:y.data,active:!0}));switch(i.which){case we.LEFT:{S&&d.includes(u)?r.onNodeExpand({},C):y.parent&&r.onActiveChange(y.parent.key),i.preventDefault();break}case we.RIGHT:{S&&!d.includes(u)?r.onNodeExpand({},C):y.children&&y.children.length&&r.onActiveChange(y.children[0].key),i.preventDefault();break}case we.ENTER:case we.SPACE:{m&&!C.disabled&&C.checkable!==!1&&!C.disableCheckbox?r.onNodeCheck({},C,!h.includes(u)):!m&&g&&!C.disabled&&C.selectable!==!1&&r.onNodeSelect({},C);break}}}v==null||v(i)}),k(be(r),"setUncontrolledState",function(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r.destroyed){var d=!1,h=!0,p={};Object.keys(i).forEach(function(f){if(f in r.props){h=!1;return}d=!0,p[f]=i[f]}),d&&(!l||h)&&r.setState(oe(oe({},p),u))}}),k(be(r),"scrollTo",function(i){r.listRef.current.scrollTo(i)}),r}return fr(n,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var o=this.props,a=o.activeKey,s=o.itemScrollOffset,i=s===void 0?0:s;a!==void 0&&a!==this.state.activeKey&&(this.setState({activeKey:a}),a!==null&&this.scrollTo({key:a,offset:i}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var o=this.state,a=o.focused,s=o.flattenNodes,i=o.keyEntities,l=o.draggingNodeKey,u=o.activeKey,d=o.dropLevelOffset,h=o.dropContainerKey,p=o.dropTargetKey,f=o.dropPosition,v=o.dragOverNodeKey,m=o.indent,g=this.props,y=g.prefixCls,b=g.className,S=g.style,C=g.showLine,x=g.focusable,N=g.tabIndex,w=N===void 0?0:N,$=g.selectable,P=g.showIcon,O=g.icon,T=g.switcherIcon,A=g.draggable,L=g.checkable,R=g.checkStrictly,I=g.disabled,j=g.motion,z=g.loadData,B=g.filterTreeNode,q=g.height,ne=g.itemHeight,G=g.virtual,te=g.titleRender,X=g.dropIndicatorRender,J=g.onContextMenu,K=g.onScroll,he=g.direction,de=g.rootClassName,U=g.rootStyle,Z=qn(this.props,{aria:!0,data:!0}),H;return A&&(on(A)==="object"?H=A:typeof A=="function"?H={nodeDraggable:A}:H={}),c.createElement(fi.Provider,{value:{prefixCls:y,selectable:$,showIcon:P,icon:O,switcherIcon:T,draggable:H,draggingNodeKey:l,checkable:L,checkStrictly:R,disabled:I,keyEntities:i,dropLevelOffset:d,dropContainerKey:h,dropTargetKey:p,dropPosition:f,dragOverNodeKey:v,indent:m,direction:he,dropIndicatorRender:X,loadData:z,filterTreeNode:B,titleRender:te,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},c.createElement("div",{role:"tree",className:pe(y,b,de,k(k(k({},"".concat(y,"-show-line"),C),"".concat(y,"-focused"),a),"".concat(y,"-active-focused"),u!==null)),style:U},c.createElement(uc,Xe({ref:this.listRef,prefixCls:y,style:S,data:s,disabled:I,selectable:$,checkable:!!L,motion:j,dragging:l!==null,height:q,itemHeight:ne,virtual:G,focusable:x,focused:a,tabIndex:w,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:J,onScroll:K},this.getTreeNodeRequiredProps(),Z))))}}],[{key:"getDerivedStateFromProps",value:function(o,a){var s=a.prevProps,i={prevProps:o};function l(N){return!s&&N in o||s&&s[N]!==o[N]}var u,d=a.fieldNames;if(l("fieldNames")&&(d=Oo(o.fieldNames),i.fieldNames=d),l("treeData")?u=o.treeData:l("children")&&(tn(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),u=Mf(o.children)),u){i.treeData=u;var h=Ll(u,{fieldNames:d});i.keyEntities=oe(k({},hr,cc),h.keyEntities)}var p=i.keyEntities||a.keyEntities;if(l("expandedKeys")||s&&l("autoExpandParent"))i.expandedKeys=o.autoExpandParent||!s&&o.defaultExpandParent?fs(o.expandedKeys,p):o.expandedKeys;else if(!s&&o.defaultExpandAll){var f=oe({},p);delete f[hr],i.expandedKeys=Object.keys(f).map(function(N){return f[N].key})}else!s&&o.defaultExpandedKeys&&(i.expandedKeys=o.autoExpandParent||o.defaultExpandParent?fs(o.defaultExpandedKeys,p):o.defaultExpandedKeys);if(i.expandedKeys||delete i.expandedKeys,u||i.expandedKeys){var v=ta(u||a.treeData,i.expandedKeys||a.expandedKeys,d);i.flattenNodes=v}if(o.selectable&&(l("selectedKeys")?i.selectedKeys=hs(o.selectedKeys,o):!s&&o.defaultSelectedKeys&&(i.selectedKeys=hs(o.defaultSelectedKeys,o))),o.checkable){var m;if(l("checkedKeys")?m=aa(o.checkedKeys)||{}:!s&&o.defaultCheckedKeys?m=aa(o.defaultCheckedKeys)||{}:u&&(m=aa(o.checkedKeys)||{checkedKeys:a.checkedKeys,halfCheckedKeys:a.halfCheckedKeys}),m){var g=m,y=g.checkedKeys,b=y===void 0?[]:y,S=g.halfCheckedKeys,C=S===void 0?[]:S;if(!o.checkStrictly){var x=$r(b,!0,p);b=x.checkedKeys,C=x.halfCheckedKeys}i.checkedKeys=b,i.halfCheckedKeys=C}}return l("loadedKeys")&&(i.loadedKeys=o.loadedKeys),i}}]),n}(c.Component);k(gi,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Sm,allowDrop:function(){return!0},expandAction:!1});k(gi,"TreeNode",Xr);const Om=new Cu("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Am=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Pm=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${ae(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Rm=(e,t)=>{const{treeCls:n,treeNodeCls:r,treeNodePadding:o,titleHeight:a,nodeSelectedBg:s,nodeHoverBg:i}=t,l=t.paddingXS;return{[n]:Object.assign(Object.assign({},cn(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},el(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${r}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:Om,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[r]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${ae(o)} 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${r}-disabled).filter-node ${n}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:a,lineHeight:ae(a),textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${r}:hover &`]:{opacity:.45}},[`&${r}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:a}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:Object.assign(Object.assign({},Am(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:a,margin:0,lineHeight:ae(a),textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:a,height:a,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(o).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(a).div(2).equal()).mul(.8).equal(),height:t.calc(a).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:l,alignSelf:"flex-start",marginTop:t.marginXXS},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:a,margin:0,padding:`0 ${ae(t.calc(t.paddingXS).div(2).equal())}`,color:"inherit",lineHeight:ae(a),background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:i},[`&${n}-node-selected`]:{backgroundColor:s},[`${n}-iconEle`]:{display:"inline-block",width:a,height:a,lineHeight:ae(a),textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:Object.assign({lineHeight:ae(a),userSelect:"none"},Pm(e,t)),[`${r}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(o).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${r}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${ae(t.calc(a).div(2).equal())} !important`}}}}})}},Dm=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:r,directoryNodeSelectedBg:o,directoryNodeSelectedColor:a}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:r,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:a,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:o},[`${t}-switcher`]:{color:a},[`${t}-node-content-wrapper`]:{color:a,background:"transparent"}}}}}},dc=(e,t)=>{const n=`.${e}`,r=`${n}-treenode`,o=t.calc(t.paddingXS).div(2).equal(),a=rn(t,{treeCls:n,treeNodeCls:r,treeNodePadding:o});return[Rm(e,a),Dm(a)]},hc=e=>{const{controlHeightSM:t}=e;return{titleHeight:t,nodeHoverBg:e.controlItemBgHover,nodeSelectedBg:e.controlItemBgActive}},Tm=e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},hc(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})};In("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:ri(`${n}-checkbox`,e)},dc(n,e),tl(e)]},Tm);const _m=e=>{const{prefixCls:t,switcherIcon:n,treeNodeProps:r,showLine:o,switcherLoadingIcon:a}=e,{isLeaf:s,expanded:i,loading:l}=r;if(l)return c.isValidElement(a)?a:c.createElement(Ys,{className:`${t}-switcher-loading-icon`});let u;if(o&&typeof o=="object"&&(u=o.showLeafIcon),s){if(!o)return null;if(typeof u!="boolean"&&u){const p=typeof u=="function"?u(r):u,f=`${t}-switcher-line-custom-icon`;return c.isValidElement(p)?Ur(p,{className:pe(p.props.className||"",f)}):p}return u?c.createElement(nm,{className:`${t}-switcher-line-icon`}):c.createElement("span",{className:`${t}-switcher-leaf-line`})}const d=`${t}-switcher-icon`,h=typeof n=="function"?n(r):n;return c.isValidElement(h)?Ur(h,{className:pe(h.props.className||"",d)}):h!==void 0?h:o?i?c.createElement(lm,{className:`${t}-switcher-line-icon`}):c.createElement(dm,{className:`${t}-switcher-line-icon`}):c.createElement(Jg,{className:d})},km=function(e){var t=c.useRef({valueLabels:new Map});return c.useMemo(function(){var n=t.current.valueLabels,r=new Map,o=e.map(function(a){var s,i=a.value,l=(s=a.label)!==null&&s!==void 0?s:n.get(i);return r.set(i,l),oe(oe({},a),{},{label:l})});return t.current.valueLabels=r,[o]},[e])},Lm=function(e,t,n,r){return c.useMemo(function(){var o=e.map(function(l){var u=l.value;return u}),a=t.map(function(l){var u=l.value;return u}),s=o.filter(function(l){return!r[l]});if(n){var i=$r(o,!0,r);o=i.checkedKeys,a=i.halfCheckedKeys}return[Array.from(new Set([].concat(Ze(s),Ze(o)))),a]},[e,t,n,r])};function zm(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}function jm(e){var t=e||{},n=t.label,r=t.value,o=t.children,a=r||"value";return{_title:n?[n]:["title","label"],value:a,key:a,children:o||"children"}}function Pa(e){return!e||e.disabled||e.disableCheckbox||e.checkable===!1}function Bm(e,t){var n=[];function r(o){o.forEach(function(a){var s=a[t.children];s&&(n.push(a[t.value]),r(s))})}return r(e),n}function bs(e){return e==null}const Hm=function(e,t){return c.useMemo(function(){var n=Ll(e,{fieldNames:t,initWrapper:function(o){return oe(oe({},o),{},{valueEntities:new Map})},processEntity:function(o,a){var s=o.node[t.value];a.valueEntities.set(s,o)}});return n},[e,t])};var mi=function(){return null},Vm=["children","value"];function fc(e){return Qr(e).map(function(t){if(!c.isValidElement(t)||!t.type)return null;var n=t,r=n.key,o=n.props,a=o.children,s=o.value,i=_t(o,Vm),l=oe({key:r,value:s},i),u=fc(a);return u.length&&(l.children=u),l}).filter(function(t){return t})}function Ra(e){if(!e)return e;var t=oe({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return tn(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function Km(e,t,n,r,o,a){var s=null,i=null;function l(){function u(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return d.map(function(f,v){var m="".concat(h,"-").concat(v),g=f[a.value],y=n.includes(g),b=u(f[a.children]||[],m,y),S=c.createElement(mi,f,b.map(function(x){return x.node}));if(t===g&&(s=S),y){var C={pos:m,node:S,children:b};return p||i.push(C),C}return null}).filter(function(f){return f})}i||(i=[],u(r),i.sort(function(d,h){var p=d.node.props.value,f=h.node.props.value,v=n.indexOf(p),m=n.indexOf(f);return v-m}))}Object.defineProperty(e,"triggerNode",{get:function(){return tn(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),l(),s}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return tn(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),l(),o?i:i.map(function(d){var h=d.node;return h})}})}const Fm=function(e,t,n){var r=n.treeNodeFilterProp,o=n.filterTreeNode,a=n.fieldNames,s=a.children;return c.useMemo(function(){if(!t||o===!1)return e;var i;if(typeof o=="function")i=o;else{var l=t.toUpperCase();i=function(h,p){var f=p[r];return String(f).toUpperCase().includes(l)}}function u(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return d.reduce(function(p,f){var v=f[s],m=h||i(t,Ra(f)),g=u(v||[],m);return(m||g.length)&&p.push(oe(oe({},f),{},k({isLeaf:void 0},s,g))),p},[])}return u(e)},[e,t,s,r,o])};function Ss(e){var t=c.useRef();t.current=e;var n=c.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}function Wm(e,t){var n=t.id,r=t.pId,o=t.rootPId,a={},s=[],i=e.map(function(l){var u=oe({},l),d=u[n];return a[d]=u,u.key=u.key||d,u});return i.forEach(function(l){var u=l[r],d=a[u];d&&(d.children=d.children||[],d.children.push(l)),(u===o||!d&&o===null)&&s.push(l)}),s}function Gm(e,t,n){return c.useMemo(function(){return e?n?Wm(e,oe({id:"id",pId:"pId",rootPId:null},n!==!0?n:{})):e:fc(t)},[t,n,e])}var pc=c.createContext(null),gc=c.createContext(null),Um={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},qm=function(t,n){var r=hl(),o=r.prefixCls,a=r.multiple,s=r.searchValue,i=r.toggleOpen,l=r.open,u=r.notFoundContent,d=c.useContext(gc),h=d.virtual,p=d.listHeight,f=d.listItemHeight,v=d.listItemScrollOffset,m=d.treeData,g=d.fieldNames,y=d.onSelect,b=d.dropdownMatchSelectWidth,S=d.treeExpandAction,C=d.treeTitleRender,x=d.onPopupScroll,N=c.useContext(pc),w=N.checkable,$=N.checkedKeys,P=N.halfCheckedKeys,O=N.treeExpandedKeys,T=N.treeDefaultExpandAll,A=N.treeDefaultExpandedKeys,L=N.onTreeExpand,R=N.treeIcon,I=N.showTreeIcon,j=N.switcherIcon,z=N.treeLine,B=N.treeNodeFilterProp,q=N.loadData,ne=N.treeLoadedKeys,G=N.treeMotion,te=N.onTreeLoad,X=N.keyEntities,J=c.useRef(),K=Xs(function(){return m},[l,m],function(Ie,me){return me[0]&&Ie[1]!==me[1]}),he=c.useState(null),de=ge(he,2),U=de[0],Z=de[1],H=X[U],W=c.useMemo(function(){return w?{checked:$,halfChecked:P}:null},[w,$,P]);c.useEffect(function(){if(l&&!a&&$.length){var Ie;(Ie=J.current)===null||Ie===void 0||Ie.scrollTo({key:$[0]}),Z($[0])}},[l]);var se=String(s).toLowerCase(),fe=function(me){return se?String(me[B]).toLowerCase().includes(se):!1},ce=c.useState(A),ue=ge(ce,2),Ee=ue[0],Ce=ue[1],Oe=c.useState(null),Ne=ge(Oe,2),Se=Ne[0],_e=Ne[1],Te=c.useMemo(function(){return O?Ze(O):s?Se:Ee},[Ee,Se,O,s]);c.useEffect(function(){s&&_e(Bm(m,g))},[s]);var Be=function(me){Ce(me),_e(me),L&&L(me)},Me=function(me){me.preventDefault()},$e=function(me,ze){var ke=ze.node;w&&Pa(ke)||(y(ke.key,{selected:!$.includes(ke.key)}),a||i(!1))};if(c.useImperativeHandle(n,function(){var Ie;return{scrollTo:(Ie=J.current)===null||Ie===void 0?void 0:Ie.scrollTo,onKeyDown:function(ze){var ke,Ye=ze.which;switch(Ye){case we.UP:case we.DOWN:case we.LEFT:case we.RIGHT:(ke=J.current)===null||ke===void 0||ke.onKeyDown(ze);break;case we.ENTER:{if(H){var yt=(H==null?void 0:H.node)||{},gt=yt.selectable,bt=yt.value;gt!==!1&&$e(null,{node:{key:U},selected:!$.includes(bt)})}break}case we.ESC:i(!1)}},onKeyUp:function(){}}}),K.length===0)return c.createElement("div",{role:"listbox",className:"".concat(o,"-empty"),onMouseDown:Me},u);var Le={fieldNames:g};return ne&&(Le.loadedKeys=ne),Te&&(Le.expandedKeys=Te),c.createElement("div",{onMouseDown:Me},H&&l&&c.createElement("span",{style:Um,"aria-live":"assertive"},H.node.value),c.createElement(gi,Xe({ref:J,focusable:!1,prefixCls:"".concat(o,"-tree"),treeData:K,height:p,itemHeight:f,itemScrollOffset:v,virtual:h!==!1&&b!==!1,multiple:a,icon:R,showIcon:I,switcherIcon:j,showLine:z,loadData:s?null:q,motion:G,activeKey:U,checkable:w,checkStrictly:!0,checkedKeys:W,selectedKeys:w?[]:$,defaultExpandAll:T,titleRender:C},Le,{onActiveChange:Z,onSelect:$e,onCheck:$e,onExpand:Be,onLoad:te,filterTreeNode:fe,expandAction:S,onScroll:x})))},Xm=c.forwardRef(qm),vi="SHOW_ALL",yi="SHOW_PARENT",Bo="SHOW_CHILD";function Cs(e,t,n,r){var o=new Set(e);return t===Bo?e.filter(function(a){var s=n[a];return!(s&&s.children&&s.children.some(function(i){var l=i.node;return o.has(l[r.value])})&&s.children.every(function(i){var l=i.node;return Pa(l)||o.has(l[r.value])}))}):t===yi?e.filter(function(a){var s=n[a],i=s?s.parent:null;return!(i&&!Pa(i.node)&&o.has(i.key))}):e}var Ym=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];function Zm(e){return!e||on(e)!=="object"}var Qm=c.forwardRef(function(e,t){var n=e.id,r=e.prefixCls,o=r===void 0?"rc-tree-select":r,a=e.value,s=e.defaultValue,i=e.onChange,l=e.onSelect,u=e.onDeselect,d=e.searchValue,h=e.inputValue,p=e.onSearch,f=e.autoClearSearchValue,v=f===void 0?!0:f,m=e.filterTreeNode,g=e.treeNodeFilterProp,y=g===void 0?"value":g,b=e.showCheckedStrategy,S=e.treeNodeLabelProp,C=e.multiple,x=e.treeCheckable,N=e.treeCheckStrictly,w=e.labelInValue,$=e.fieldNames,P=e.treeDataSimpleMode,O=e.treeData,T=e.children,A=e.loadData,L=e.treeLoadedKeys,R=e.onTreeLoad,I=e.treeDefaultExpandAll,j=e.treeExpandedKeys,z=e.treeDefaultExpandedKeys,B=e.onTreeExpand,q=e.treeExpandAction,ne=e.virtual,G=e.listHeight,te=G===void 0?200:G,X=e.listItemHeight,J=X===void 0?20:X,K=e.listItemScrollOffset,he=K===void 0?0:K,de=e.onDropdownVisibleChange,U=e.dropdownMatchSelectWidth,Z=U===void 0?!0:U,H=e.treeLine,W=e.treeIcon,se=e.showTreeIcon,fe=e.switcherIcon,ce=e.treeMotion,ue=e.treeTitleRender,Ee=e.onPopupScroll,Ce=_t(e,Ym),Oe=Cl(n),Ne=x&&!N,Se=x||N,_e=N||w,Te=Se||C,Be=an(s,{value:a}),Me=ge(Be,2),$e=Me[0],Le=Me[1],Ie=c.useMemo(function(){return x?b||Bo:vi},[b,x]),me=c.useMemo(function(){return jm($)},[JSON.stringify($)]),ze=an("",{value:d!==void 0?d:h,postState:function(Ue){return Ue||""}}),ke=ge(ze,2),Ye=ke[0],yt=ke[1],gt=function(Ue){yt(Ue),p==null||p(Ue)},bt=Gm(O,T,P),We=Hm(bt,me),Ve=We.keyEntities,it=We.valueEntities,Mt=c.useCallback(function(Qe){var Ue=[],at=[];return Qe.forEach(function(Je){it.has(Je)?at.push(Je):Ue.push(Je)}),{missingRawValues:Ue,existRawValues:at}},[it]),kt=Fm(bt,Ye,{fieldNames:me,treeNodeFilterProp:y,filterTreeNode:m}),Pt=c.useCallback(function(Qe){if(Qe){if(S)return Qe[S];for(var Ue=me._title,at=0;at<Ue.length;at+=1){var Je=Qe[Ue[at]];if(Je!==void 0)return Je}}},[me,S]),wt=c.useCallback(function(Qe){var Ue=zm(Qe);return Ue.map(function(at){return Zm(at)?{value:at}:at})},[]),ve=c.useCallback(function(Qe){var Ue=wt(Qe);return Ue.map(function(at){var Je=at.label,St=at.value,ye=at.halfChecked,ie,re=it.get(St);if(re){var E;Je=ue?ue(re.node):(E=Je)!==null&&E!==void 0?E:Pt(re.node),ie=re.node.disabled}else if(Je===void 0){var _=wt($e).find(function(Y){return Y.value===St});Je=_.label}return{label:Je,value:St,halfChecked:ye,disabled:ie}})},[it,Pt,wt,$e]),xe=c.useMemo(function(){return wt($e===null?[]:$e)},[wt,$e]),Ge=c.useMemo(function(){var Qe=[],Ue=[];return xe.forEach(function(at){at.halfChecked?Ue.push(at):Qe.push(at)}),[Qe,Ue]},[xe]),Ae=ge(Ge,2),mt=Ae[0],Rt=Ae[1],nt=c.useMemo(function(){return mt.map(function(Qe){return Qe.value})},[mt]),hn=Lm(mt,Rt,Ne,Ve),Xt=ge(hn,2),At=Xt[0],Re=Xt[1],He=c.useMemo(function(){var Qe=Cs(At,Ie,Ve,me),Ue=Qe.map(function(ye){var ie,re;return(ie=(re=Ve[ye])===null||re===void 0||(re=re.node)===null||re===void 0?void 0:re[me.value])!==null&&ie!==void 0?ie:ye}),at=Ue.map(function(ye){var ie=mt.find(function(E){return E.value===ye}),re=w?ie==null?void 0:ie.label:ue==null?void 0:ue(ie);return{value:ye,label:re}}),Je=ve(at),St=Je[0];return!Te&&St&&bs(St.value)&&bs(St.label)?[]:Je.map(function(ye){var ie;return oe(oe({},ye),{},{label:(ie=ye.label)!==null&&ie!==void 0?ie:ye.value})})},[me,Te,At,mt,ve,Ie,Ve]),Pe=km(He),De=ge(Pe,1),et=De[0],pt=Ss(function(Qe,Ue,at){var Je=ve(Qe);if(Le(Je),v&&yt(""),i){var St=Qe;if(Ne){var ye=Cs(Qe,Ie,Ve,me);St=ye.map(function(Ke){var Ct=it.get(Ke);return Ct?Ct.node[me.value]:Ke})}var ie=Ue||{triggerValue:void 0,selected:void 0},re=ie.triggerValue,E=ie.selected,_=St;if(N){var Y=Rt.filter(function(Ke){return!St.includes(Ke.value)});_=[].concat(Ze(_),Ze(Y))}var le=ve(_),qe={preValue:mt,triggerValue:re},je=!0;(N||at==="selection"&&!E)&&(je=!1),Km(qe,re,Qe,bt,je,me),Se?qe.checked=E:qe.selected=E;var tt=_e?le:le.map(function(Ke){return Ke.value});i(Te?tt:tt[0],_e?null:le.map(function(Ke){return Ke.label}),qe)}}),Et=c.useCallback(function(Qe,Ue){var at,Je=Ue.selected,St=Ue.source,ye=Ve[Qe],ie=ye==null?void 0:ye.node,re=(at=ie==null?void 0:ie[me.value])!==null&&at!==void 0?at:Qe;if(!Te)pt([re],{selected:!0,triggerValue:re},"option");else{var E=Je?[].concat(Ze(nt),[re]):At.filter(function(Ct){return Ct!==re});if(Ne){var _=Mt(E),Y=_.missingRawValues,le=_.existRawValues,qe=le.map(function(Ct){return it.get(Ct).key}),je;if(Je){var tt=$r(qe,!0,Ve);je=tt.checkedKeys}else{var Ke=$r(qe,{halfCheckedKeys:Re},Ve);je=Ke.checkedKeys}E=[].concat(Ze(Y),Ze(je.map(function(Ct){return Ve[Ct].node[me.value]})))}pt(E,{selected:Je,triggerValue:re},St||"option")}Je||!Te?l==null||l(re,Ra(ie)):u==null||u(re,Ra(ie))},[Mt,it,Ve,me,Te,nt,pt,Ne,l,u,At,Re]),Lt=c.useCallback(function(Qe){if(de){var Ue={};Object.defineProperty(Ue,"documentClickClose",{get:function(){return tn(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),de(Qe,Ue)}},[de]),zt=Ss(function(Qe,Ue){var at=Qe.map(function(Je){return Je.value});if(Ue.type==="clear"){pt(at,{},"selection");return}Ue.values.length&&Et(Ue.values[0].value,{selected:!1,source:"selection"})}),It=c.useMemo(function(){return{virtual:ne,dropdownMatchSelectWidth:Z,listHeight:te,listItemHeight:J,listItemScrollOffset:he,treeData:kt,fieldNames:me,onSelect:Et,treeExpandAction:q,treeTitleRender:ue,onPopupScroll:Ee}},[ne,Z,te,J,he,kt,me,Et,q,ue,Ee]),Wt=c.useMemo(function(){return{checkable:Se,loadData:A,treeLoadedKeys:L,onTreeLoad:R,checkedKeys:At,halfCheckedKeys:Re,treeDefaultExpandAll:I,treeExpandedKeys:j,treeDefaultExpandedKeys:z,onTreeExpand:B,treeIcon:W,treeMotion:ce,showTreeIcon:se,switcherIcon:fe,treeLine:H,treeNodeFilterProp:y,keyEntities:Ve}},[Se,A,L,R,At,Re,I,j,z,B,W,ce,se,fe,H,y,Ve]);return c.createElement(gc.Provider,{value:It},c.createElement(pc.Provider,{value:Wt},c.createElement(yl,Xe({ref:t},Ce,{id:Oe,prefixCls:o,mode:Te?"multiple":void 0,displayValues:et,onDisplayValuesChange:zt,searchValue:Ye,onSearch:gt,OptionList:Xm,emptyOptions:!bt.length,onDropdownVisibleChange:Lt,dropdownMatchSelectWidth:Z}))))}),to=Qm;to.TreeNode=mi;to.SHOW_ALL=vi;to.SHOW_PARENT=yi;to.SHOW_CHILD=Bo;const Jm=e=>{const{componentCls:t,treePrefixCls:n,colorBgElevated:r}=e,o=`.${n}`;return[{[`${t}-dropdown`]:[{padding:`${ae(e.paddingXS)} ${ae(e.calc(e.paddingXS).div(2).equal())}`},dc(n,rn(e,{colorBgContainer:r})),{[o]:{borderRadius:0,[`${o}-list-holder-inner`]:{alignItems:"stretch",[`${o}-treenode`]:{[`${o}-node-content-wrapper`]:{flex:"auto"}}}}},ri(`${n}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${o}-switcher${o}-switcher_close`]:{[`${o}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};function ev(e,t,n){return In("TreeSelect",r=>{const o=rn(r,{treePrefixCls:t});return[Jm(o)]},hc)(e,n)}var tv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const nv=(e,t)=>{var n;const{prefixCls:r,size:o,disabled:a,bordered:s=!0,className:i,rootClassName:l,treeCheckable:u,multiple:d,listHeight:h=256,listItemHeight:p=26,placement:f,notFoundContent:v,switcherIcon:m,treeLine:g,getPopupContainer:y,popupClassName:b,dropdownClassName:S,treeIcon:C=!1,transitionName:x,choiceTransitionName:N="",status:w,treeExpandAction:$,builtinPlacements:P,dropdownMatchSelectWidth:O,popupMatchSelectWidth:T,allowClear:A,variant:L,dropdownStyle:R,tagRender:I}=e,j=tv(e,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender"]),{getPopupContainer:z,getPrefixCls:B,renderEmpty:q,direction:ne,virtual:G,popupMatchSelectWidth:te,popupOverflow:X}=c.useContext(dn),J=B(),K=B("select",r),he=B("select-tree",r),de=B("tree-select",r),{compactSize:U,compactItemClassnames:Z}=_o(K,ne),H=dr(K),W=dr(de),[se,fe,ce]=Ol(K,H),[ue]=ev(de,he,W),[Ee,Ce]=Xa("treeSelect",L,s),Oe=pe(b||S,`${de}-dropdown`,{[`${de}-dropdown-rtl`]:ne==="rtl"},l,ce,H,W,fe),Ne=!!(u||d),Se=Pl(e.suffixIcon,e.showArrow),_e=(n=T??O)!==null&&n!==void 0?n:te,{status:Te,hasFeedback:Be,isFormItemInput:Me,feedbackIcon:$e}=c.useContext(Jr),Le=Ya(Te,w),{suffixIcon:Ie,removeIcon:me,clearIcon:ze}=Al(Object.assign(Object.assign({},j),{multiple:Ne,showSuffixIcon:Se,hasFeedback:Be,feedbackIcon:$e,prefixCls:K,componentName:"TreeSelect"})),ke=A===!0?{clearIcon:ze}:A;let Ye;v!==void 0?Ye=v:Ye=(q==null?void 0:q("Select"))||c.createElement(Nl,{componentName:"Select"});const yt=Xn(j,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),gt=c.useMemo(()=>f!==void 0?f:ne==="rtl"?"bottomRight":"bottomLeft",[f,ne]),bt=Rr(wt=>{var ve;return(ve=o??U)!==null&&ve!==void 0?ve:wt}),We=c.useContext(Dr),Ve=a??We,it=pe(!r&&de,{[`${K}-lg`]:bt==="large",[`${K}-sm`]:bt==="small",[`${K}-rtl`]:ne==="rtl",[`${K}-${Ee}`]:Ce,[`${K}-in-form-item`]:Me},qr(K,Le,Be),Z,i,l,ce,H,W,fe),Mt=wt=>c.createElement(_m,{prefixCls:he,switcherIcon:m,treeNodeProps:wt,showLine:g}),[kt]=Qs("SelectLike",R==null?void 0:R.zIndex),Pt=c.createElement(to,Object.assign({virtual:G,disabled:Ve},yt,{dropdownMatchSelectWidth:_e,builtinPlacements:Ml(P,X),ref:t,prefixCls:K,className:it,listHeight:h,listItemHeight:p,treeCheckable:u&&c.createElement("span",{className:`${K}-tree-checkbox-inner`}),treeLine:!!g,suffixIcon:Ie,multiple:Ne,placement:gt,removeIcon:me,allowClear:ke,switcherIcon:Mt,showTreeIcon:C,notFoundContent:Ye,getPopupContainer:y||z,treeMotion:null,dropdownClassName:Oe,dropdownStyle:Object.assign(Object.assign({},R),{zIndex:kt}),choiceTransitionName:No(J,"",N),transitionName:No(J,"slide-up",x),treeExpandAction:$,tagRender:Ne?I:void 0}));return se(ue(Pt))},rv=c.forwardRef(nv),yr=rv,ov=ja(yr);yr.TreeNode=mi;yr.SHOW_ALL=vi;yr.SHOW_PARENT=yi;yr.SHOW_CHILD=Bo;yr._InternalPanelDoNotUseOrYouWillBeFired=ov;function av(e){return e?!e.trim():!0}const mc=e=>{const n=e.split("/").pop();if(n===void 0||av(n))return"";const r=n.lastIndexOf(".");return r&&r!=-1?n.slice(r+1,n.length):""},iv=["jpg","jpeg","png"],sv=e=>iv.includes(e),Da=e=>{const{type:t,value:n,onChange:r,...o}=e,[a,s]=c.useState([]),i=c.useMemo(()=>t==null?void 0:t.split(","),[t]),l=h=>{if(h.type==="folder")return!0;const p=mc(h.title);return i?i.includes(p):!0},u=async h=>(await rl(h)).map(v=>{const{code:m,type:g,name:y}=v;return{id:m,pId:h,value:m,title:y,isLeaf:g==="file",type:g,selectable:g==="file"}}).filter(l);c.useEffect(()=>{(async()=>{const p=await u("");s(p)})()},[]);const d=async({id:h})=>{const p=await u(h);s(a.concat(p))};return F.jsx(yr,{treeDataSimpleMode:!0,style:{width:"100%"},value:n,dropdownStyle:{maxHeight:400,overflow:"auto"},onChange:r,loadData:d,treeData:a,...o})},lv="_container_1bqyu_1",cv="_view_1bqyu_9",xs={container:lv,view:cv};function Fr(){return Fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fr.apply(this,arguments)}var Fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function no(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ia,vc={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/ia=vc,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var a=typeof o;if(a==="string"||a==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var s=t.apply(null,o);s&&n.push(s)}}else if(a==="object")if(o.toString===Object.prototype.toString)for(var i in o)e.call(o,i)&&o[i]&&n.push(i);else n.push(o.toString())}}return n.join(" ")}ia.exports?(t.default=t,ia.exports=t):window.classNames=t}();var Ta=no(vc.exports),ws=NaN,uv="[object Symbol]",dv=/^\s+|\s+$/g,hv=/^[-+]0x[0-9a-f]+$/i,fv=/^0b[01]+$/i,pv=/^0o[0-7]+$/i,gv=parseInt,mv=Object.prototype.toString;function Es(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function sa(e){if(typeof e=="number")return e;if(function(r){return typeof r=="symbol"||function(o){return!!o&&typeof o=="object"}(r)&&mv.call(r)==uv}(e))return ws;if(Es(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Es(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(dv,"");var n=fv.test(e);return n||pv.test(e)?gv(e.slice(2),n?2:8):hv.test(e)?ws:+e}var Rn=no(function(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=(n=sa(n))==n?n:0),t!==void 0&&(t=(t=sa(t))==t?t:0),function(r,o,a){return r==r&&(a!==void 0&&(r=r<=a?r:a),o!==void 0&&(r=r>=o?r:o)),r}(sa(e),t,n)}),_a={exports:{}};(function(e,t){var n="__lodash_hash_undefined__",r=1,o=2,a=9007199254740991,s="[object Arguments]",i="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Function]",f="[object GeneratorFunction]",v="[object Map]",m="[object Number]",g="[object Null]",y="[object Object]",b="[object Promise]",S="[object Proxy]",C="[object RegExp]",x="[object Set]",N="[object String]",w="[object Symbol]",$="[object Undefined]",P="[object WeakMap]",O="[object ArrayBuffer]",T="[object DataView]",A=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R[s]=R[i]=R[O]=R[u]=R[T]=R[d]=R[h]=R[p]=R[v]=R[m]=R[y]=R[C]=R[x]=R[N]=R[P]=!1;var I=typeof Fn=="object"&&Fn&&Fn.Object===Object&&Fn,j=typeof self=="object"&&self&&self.Object===Object&&self,z=I||j||Function("return this")(),B=t&&!t.nodeType&&t,q=B&&e&&!e.nodeType&&e,ne=q&&q.exports===B,G=ne&&I.process,te=function(){try{return G&&G.binding&&G.binding("util")}catch{}}(),X=te&&te.isTypedArray;function J(E,_){for(var Y=-1,le=E==null?0:E.length;++Y<le;)if(_(E[Y],Y,E))return!0;return!1}function K(E){var _=-1,Y=Array(E.size);return E.forEach(function(le,qe){Y[++_]=[qe,le]}),Y}function he(E){var _=-1,Y=Array(E.size);return E.forEach(function(le){Y[++_]=le}),Y}var de,U,Z,H=Array.prototype,W=Function.prototype,se=Object.prototype,fe=z["__core-js_shared__"],ce=W.toString,ue=se.hasOwnProperty,Ee=(de=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||""))?"Symbol(src)_1."+de:"",Ce=se.toString,Oe=RegExp("^"+ce.call(ue).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ne=ne?z.Buffer:void 0,Se=z.Symbol,_e=z.Uint8Array,Te=se.propertyIsEnumerable,Be=H.splice,Me=Se?Se.toStringTag:void 0,$e=Object.getOwnPropertySymbols,Le=Ne?Ne.isBuffer:void 0,Ie=(U=Object.keys,Z=Object,function(E){return U(Z(E))}),me=et(z,"DataView"),ze=et(z,"Map"),ke=et(z,"Promise"),Ye=et(z,"Set"),yt=et(z,"WeakMap"),gt=et(Object,"create"),bt=zt(me),We=zt(ze),Ve=zt(ke),it=zt(Ye),Mt=zt(yt),kt=Se?Se.prototype:void 0,Pt=kt?kt.valueOf:void 0;function wt(E){var _=-1,Y=E==null?0:E.length;for(this.clear();++_<Y;){var le=E[_];this.set(le[0],le[1])}}function ve(E){var _=-1,Y=E==null?0:E.length;for(this.clear();++_<Y;){var le=E[_];this.set(le[0],le[1])}}function xe(E){var _=-1,Y=E==null?0:E.length;for(this.clear();++_<Y;){var le=E[_];this.set(le[0],le[1])}}function Ge(E){var _=-1,Y=E==null?0:E.length;for(this.__data__=new xe;++_<Y;)this.add(E[_])}function Ae(E){var _=this.__data__=new ve(E);this.size=_.size}function mt(E,_){var Y=Qe(E),le=!Y&&Wt(E),qe=!Y&&!le&&Ue(E),je=!Y&&!le&&!qe&&ie(E),tt=Y||le||qe||je,Ke=tt?function(xt,Zt){for(var fn=-1,Qt=Array(xt);++fn<xt;)Qt[fn]=Zt(fn);return Qt}(E.length,String):[],Ct=Ke.length;for(var Nt in E)!ue.call(E,Nt)||tt&&(Nt=="length"||qe&&(Nt=="offset"||Nt=="parent")||je&&(Nt=="buffer"||Nt=="byteLength"||Nt=="byteOffset")||Lt(Nt,Ct))||Ke.push(Nt);return Ke}function Rt(E,_){for(var Y=E.length;Y--;)if(It(E[Y][0],_))return Y;return-1}function nt(E){return E==null?E===void 0?$:g:Me&&Me in Object(E)?function(_){var Y=ue.call(_,Me),le=_[Me];try{_[Me]=void 0;var qe=!0}catch{}var je=Ce.call(_);return qe&&(Y?_[Me]=le:delete _[Me]),je}(E):function(_){return Ce.call(_)}(E)}function hn(E){return ye(E)&&nt(E)==s}function Xt(E,_,Y,le,qe){return E===_||(E==null||_==null||!ye(E)&&!ye(_)?E!=E&&_!=_:function(je,tt,Ke,Ct,Nt,xt){var Zt=Qe(je),fn=Qe(tt),Qt=Zt?i:Et(je),xn=fn?i:Et(tt),Tn=(Qt=Qt==s?y:Qt)==y,st=(xn=xn==s?y:xn)==y,Fe=Qt==xn;if(Fe&&Ue(je)){if(!Ue(tt))return!1;Zt=!0,Tn=!1}if(Fe&&!Tn)return xt||(xt=new Ae),Zt||ie(je)?He(je,tt,Ke,Ct,Nt,xt):function(ct,ot,wn,ln,On,en,pn){switch(wn){case T:if(ct.byteLength!=ot.byteLength||ct.byteOffset!=ot.byteOffset)return!1;ct=ct.buffer,ot=ot.buffer;case O:return!(ct.byteLength!=ot.byteLength||!en(new _e(ct),new _e(ot)));case u:case d:case m:return It(+ct,+ot);case h:return ct.name==ot.name&&ct.message==ot.message;case C:case N:return ct==ot+"";case v:var Vn=K;case x:var Lr=ln&r;if(Vn||(Vn=he),ct.size!=ot.size&&!Lr)return!1;var ao=pn.get(ct);if(ao)return ao==ot;ln|=o,pn.set(ct,ot);var Wo=He(Vn(ct),Vn(ot),ln,On,en,pn);return pn.delete(ct),Wo;case w:if(Pt)return Pt.call(ct)==Pt.call(ot)}return!1}(je,tt,Qt,Ke,Ct,Nt,xt);if(!(Ke&r)){var Gt=Tn&&ue.call(je,"__wrapped__"),Jt=st&&ue.call(tt,"__wrapped__");if(Gt||Jt){var Kt=Gt?je.value():je,Yt=Jt?tt.value():tt;return xt||(xt=new Ae),Nt(Kt,Yt,Ke,Ct,xt)}}return Fe?(xt||(xt=new Ae),function(ct,ot,wn,ln,On,en){var pn=wn&r,Vn=Pe(ct),Lr=Vn.length,ao=Pe(ot),Wo=ao.length;if(Lr!=Wo&&!pn)return!1;for(var io=Lr;io--;){var Jn=Vn[io];if(!(pn?Jn in ot:ue.call(ot,Jn)))return!1}var wi=en.get(ct);if(wi&&en.get(ot))return wi==ot;var so=!0;en.set(ct,ot),en.set(ot,ct);for(var Go=pn;++io<Lr;){var lo=ct[Jn=Vn[io]],co=ot[Jn];if(ln)var Ei=pn?ln(co,lo,Jn,ot,ct,en):ln(lo,co,Jn,ct,ot,en);if(!(Ei===void 0?lo===co||On(lo,co,wn,ln,en):Ei)){so=!1;break}Go||(Go=Jn=="constructor")}if(so&&!Go){var uo=ct.constructor,ho=ot.constructor;uo==ho||!("constructor"in ct)||!("constructor"in ot)||typeof uo=="function"&&uo instanceof uo&&typeof ho=="function"&&ho instanceof ho||(so=!1)}return en.delete(ct),en.delete(ot),so}(je,tt,Ke,Ct,Nt,xt)):!1}(E,_,Y,le,Xt,qe))}function At(E){return!(!St(E)||function(_){return!!Ee&&Ee in _}(E))&&(at(E)?Oe:A).test(zt(E))}function Re(E){if(Y=(_=E)&&_.constructor,le=typeof Y=="function"&&Y.prototype||se,_!==le)return Ie(E);var _,Y,le,qe=[];for(var je in Object(E))ue.call(E,je)&&je!="constructor"&&qe.push(je);return qe}function He(E,_,Y,le,qe,je){var tt=Y&r,Ke=E.length,Ct=_.length;if(Ke!=Ct&&!(tt&&Ct>Ke))return!1;var Nt=je.get(E);if(Nt&&je.get(_))return Nt==_;var xt=-1,Zt=!0,fn=Y&o?new Ge:void 0;for(je.set(E,_),je.set(_,E);++xt<Ke;){var Qt=E[xt],xn=_[xt];if(le)var Tn=tt?le(xn,Qt,xt,_,E,je):le(Qt,xn,xt,E,_,je);if(Tn!==void 0){if(Tn)continue;Zt=!1;break}if(fn){if(!J(_,function(st,Fe){if(Gt=Fe,!fn.has(Gt)&&(Qt===st||qe(Qt,st,Y,le,je)))return fn.push(Fe);var Gt})){Zt=!1;break}}else if(Qt!==xn&&!qe(Qt,xn,Y,le,je)){Zt=!1;break}}return je.delete(E),je.delete(_),Zt}function Pe(E){return function(_,Y,le){var qe=Y(_);return Qe(_)?qe:function(je,tt){for(var Ke=-1,Ct=tt.length,Nt=je.length;++Ke<Ct;)je[Nt+Ke]=tt[Ke];return je}(qe,le(_))}(E,re,pt)}function De(E,_){var Y,le,qe=E.__data__;return((le=typeof(Y=_))=="string"||le=="number"||le=="symbol"||le=="boolean"?Y!=="__proto__":Y===null)?qe[typeof _=="string"?"string":"hash"]:qe.map}function et(E,_){var Y=function(le,qe){return le==null?void 0:le[qe]}(E,_);return At(Y)?Y:void 0}wt.prototype.clear=function(){this.__data__=gt?gt(null):{},this.size=0},wt.prototype.delete=function(E){var _=this.has(E)&&delete this.__data__[E];return this.size-=_?1:0,_},wt.prototype.get=function(E){var _=this.__data__;if(gt){var Y=_[E];return Y===n?void 0:Y}return ue.call(_,E)?_[E]:void 0},wt.prototype.has=function(E){var _=this.__data__;return gt?_[E]!==void 0:ue.call(_,E)},wt.prototype.set=function(E,_){var Y=this.__data__;return this.size+=this.has(E)?0:1,Y[E]=gt&&_===void 0?n:_,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(E){var _=this.__data__,Y=Rt(_,E);return!(Y<0)&&(Y==_.length-1?_.pop():Be.call(_,Y,1),--this.size,!0)},ve.prototype.get=function(E){var _=this.__data__,Y=Rt(_,E);return Y<0?void 0:_[Y][1]},ve.prototype.has=function(E){return Rt(this.__data__,E)>-1},ve.prototype.set=function(E,_){var Y=this.__data__,le=Rt(Y,E);return le<0?(++this.size,Y.push([E,_])):Y[le][1]=_,this},xe.prototype.clear=function(){this.size=0,this.__data__={hash:new wt,map:new(ze||ve),string:new wt}},xe.prototype.delete=function(E){var _=De(this,E).delete(E);return this.size-=_?1:0,_},xe.prototype.get=function(E){return De(this,E).get(E)},xe.prototype.has=function(E){return De(this,E).has(E)},xe.prototype.set=function(E,_){var Y=De(this,E),le=Y.size;return Y.set(E,_),this.size+=Y.size==le?0:1,this},Ge.prototype.add=Ge.prototype.push=function(E){return this.__data__.set(E,n),this},Ge.prototype.has=function(E){return this.__data__.has(E)},Ae.prototype.clear=function(){this.__data__=new ve,this.size=0},Ae.prototype.delete=function(E){var _=this.__data__,Y=_.delete(E);return this.size=_.size,Y},Ae.prototype.get=function(E){return this.__data__.get(E)},Ae.prototype.has=function(E){return this.__data__.has(E)},Ae.prototype.set=function(E,_){var Y=this.__data__;if(Y instanceof ve){var le=Y.__data__;if(!ze||le.length<199)return le.push([E,_]),this.size=++Y.size,this;Y=this.__data__=new xe(le)}return Y.set(E,_),this.size=Y.size,this};var pt=$e?function(E){return E==null?[]:(E=Object(E),function(_,Y){for(var le=-1,qe=_==null?0:_.length,je=0,tt=[];++le<qe;){var Ke=_[le];Y(Ke,le,_)&&(tt[je++]=Ke)}return tt}($e(E),function(_){return Te.call(E,_)}))}:function(){return[]},Et=nt;function Lt(E,_){return!!(_=_??a)&&(typeof E=="number"||L.test(E))&&E>-1&&E%1==0&&E<_}function zt(E){if(E!=null){try{return ce.call(E)}catch{}try{return E+""}catch{}}return""}function It(E,_){return E===_||E!=E&&_!=_}(me&&Et(new me(new ArrayBuffer(1)))!=T||ze&&Et(new ze)!=v||ke&&Et(ke.resolve())!=b||Ye&&Et(new Ye)!=x||yt&&Et(new yt)!=P)&&(Et=function(E){var _=nt(E),Y=_==y?E.constructor:void 0,le=Y?zt(Y):"";if(le)switch(le){case bt:return T;case We:return v;case Ve:return b;case it:return x;case Mt:return P}return _});var Wt=hn(function(){return arguments}())?hn:function(E){return ye(E)&&ue.call(E,"callee")&&!Te.call(E,"callee")},Qe=Array.isArray,Ue=Le||function(){return!1};function at(E){if(!St(E))return!1;var _=nt(E);return _==p||_==f||_==l||_==S}function Je(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=a}function St(E){var _=typeof E;return E!=null&&(_=="object"||_=="function")}function ye(E){return E!=null&&typeof E=="object"}var ie=X?function(E){return function(_){return E(_)}}(X):function(E){return ye(E)&&Je(E.length)&&!!R[nt(E)]};function re(E){return(_=E)!=null&&Je(_.length)&&!at(_)?mt(E):Re(E);var _}e.exports=function(E,_){return Xt(E,_)}})(_a,_a.exports);var vv=no(_a.exports);function Ns(e,t,n){return e[t]?e[t][0]?e[t][0][n]:e[t][n]:t==="contentBoxSize"?e.contentRect[n==="inlineSize"?"width":"height"]:void 0}function yv(e){e===void 0&&(e={});var t=e.onResize,n=c.useRef(void 0);n.current=t;var r=e.round||Math.round,o=c.useRef(),a=c.useState({width:void 0,height:void 0}),s=a[0],i=a[1],l=c.useRef(!1);c.useEffect(function(){return l.current=!1,function(){l.current=!0}},[]);var u=c.useRef({width:void 0,height:void 0}),d=function(h,p){var f=c.useRef(null),v=c.useRef(null);v.current=p;var m=c.useRef(null);c.useEffect(function(){g()});var g=c.useCallback(function(){var y=m.current,b=v.current,S=y||(b?b instanceof Element?b:b.current:null);f.current&&f.current.element===S&&f.current.subscriber===h||(f.current&&f.current.cleanup&&f.current.cleanup(),f.current={element:S,subscriber:h,cleanup:S?h(S):void 0})},[h]);return c.useEffect(function(){return function(){f.current&&f.current.cleanup&&(f.current.cleanup(),f.current=null)}},[]),c.useCallback(function(y){m.current=y,g()},[g])}(c.useCallback(function(h){return o.current&&o.current.box===e.box&&o.current.round===r||(o.current={box:e.box,round:r,instance:new ResizeObserver(function(p){var f=p[0],v=e.box==="border-box"?"borderBoxSize":e.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",m=Ns(f,v,"inlineSize"),g=Ns(f,v,"blockSize"),y=m?r(m):void 0,b=g?r(g):void 0;if(u.current.width!==y||u.current.height!==b){var S={width:y,height:b};u.current.width=y,u.current.height=b,n.current?n.current(S):l.current||i(S)}})}),o.current.instance.observe(h,{box:e.box}),function(){o.current&&o.current.instance.unobserve(h)}},[e.box,r]),e.ref);return c.useMemo(function(){return{ref:d,width:s.width,height:s.height}},[d,s.width,s.height])}var bv="allotment-module_splitView__L-yRc",Sv="allotment-module_sashContainer__fzwJF",Cv="allotment-module_splitViewContainer__rQnVa",yc="allotment-module_splitViewView__MGZ6O",xv="allotment-module_vertical__WSwwa",wv="allotment-module_horizontal__7doS8",Ev="allotment-module_separatorBorder__x-rDS";let jr,bc=!1,Sc=!1;typeof navigator=="object"&&(jr=navigator.userAgent,Sc=jr.indexOf("Macintosh")>=0,bc=(jr.indexOf("Macintosh")>=0||jr.indexOf("iPad")>=0||jr.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0);const Cc=bc,Nv=Sc,Ms=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?c.useLayoutEffect:c.useEffect;let Mv=class{constructor(){this._size=void 0}getSize(){return this._size}setSize(t){this._size=t}};function go(e,t){const n=e.length,r=n-t.length;return r>=0&&e.slice(r,n)===t}var xc={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new o(d,h||l,p),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],f]:l._events[v].push(f):(l._events[v]=f,l._eventsCount++),l}function s(l,u){--l._eventsCount==0?l._events=new r:delete l._events[u]}function i(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),i.prototype.eventNames=function(){var l,u,d=[];if(this._eventsCount===0)return d;for(u in l=this._events)t.call(l,u)&&d.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(l)):d},i.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,f=new Array(p);h<p;h++)f[h]=d[h].fn;return f},i.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},i.prototype.emit=function(l,u,d,h,p,f){var v=n?n+l:l;if(!this._events[v])return!1;var m,g,y=this._events[v],b=arguments.length;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,p),!0;case 6:return y.fn.call(y.context,u,d,h,p,f),!0}for(g=1,m=new Array(b-1);g<b;g++)m[g-1]=arguments[g];y.fn.apply(y.context,m)}else{var S,C=y.length;for(g=0;g<C;g++)switch(y[g].once&&this.removeListener(l,y[g].fn,void 0,!0),b){case 1:y[g].fn.call(y[g].context);break;case 2:y[g].fn.call(y[g].context,u);break;case 3:y[g].fn.call(y[g].context,u,d);break;case 4:y[g].fn.call(y[g].context,u,d,h);break;default:if(!m)for(S=1,m=new Array(b-1);S<b;S++)m[S-1]=arguments[S];y[g].fn.apply(y[g].context,m)}}return!0},i.prototype.on=function(l,u,d){return a(this,l,u,d,!1)},i.prototype.once=function(l,u,d){return a(this,l,u,d,!0)},i.prototype.removeListener=function(l,u,d,h){var p=n?n+l:l;if(!this._events[p])return this;if(!u)return s(this,p),this;var f=this._events[p];if(f.fn)f.fn!==u||h&&!f.once||d&&f.context!==d||s(this,p);else{for(var v=0,m=[],g=f.length;v<g;v++)(f[v].fn!==u||h&&!f[v].once||d&&f[v].context!==d)&&m.push(f[v]);m.length?this._events[p]=m.length===1?m[0]:m:s(this,p)}return this},i.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=n,i.EventEmitter=i,e.exports=i})(xc);var bi=no(xc.exports);function $s(e,t){const n=e.indexOf(t);n>-1&&(e.splice(n,1),e.unshift(t))}function la(e,t){const n=e.indexOf(t);n>-1&&(e.splice(n,1),e.push(t))}function En(e,t,n=1){const r=Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);let a=-1;for(;++a<r;)o[a]=e+a*n;return o}var Is=NaN,$v="[object Symbol]",Iv=/^\s+|\s+$/g,Ov=/^[-+]0x[0-9a-f]+$/i,Av=/^0b[01]+$/i,Pv=/^0o[0-7]+$/i,Rv=parseInt,Dv=typeof Fn=="object"&&Fn&&Fn.Object===Object&&Fn,Tv=typeof self=="object"&&self&&self.Object===Object&&self,_v=Dv||Tv||Function("return this")(),kv=Object.prototype.toString,Lv=Math.max,zv=Math.min,ca=function(){return _v.Date.now()};function ka(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Os(e){if(typeof e=="number")return e;if(function(r){return typeof r=="symbol"||function(o){return!!o&&typeof o=="object"}(r)&&kv.call(r)==$v}(e))return Is;if(ka(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ka(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Iv,"");var n=Av.test(e);return n||Pv.test(e)?Rv(e.slice(2),n?2:8):Ov.test(e)?Is:+e}var jv=no(function(e,t,n){var r,o,a,s,i,l,u=0,d=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError("Expected a function");function f(b){var S=r,C=o;return r=o=void 0,u=b,s=e.apply(C,S)}function v(b){var S=b-l;return l===void 0||S>=t||S<0||h&&b-u>=a}function m(){var b=ca();if(v(b))return g(b);i=setTimeout(m,function(S){var C=t-(S-l);return h?zv(C,a-(S-u)):C}(b))}function g(b){return i=void 0,p&&r?f(b):(r=o=void 0,s)}function y(){var b=ca(),S=v(b);if(r=arguments,o=this,l=b,S){if(i===void 0)return function(C){return u=C,i=setTimeout(m,t),d?f(C):s}(l);if(h)return i=setTimeout(m,t),f(l)}return i===void 0&&(i=setTimeout(m,t)),s}return t=Os(t)||0,ka(n)&&(d=!!n.leading,a=(h="maxWait"in n)?Lv(Os(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),y.cancel=function(){i!==void 0&&clearTimeout(i),u=0,r=l=o=i=void 0},y.flush=function(){return i===void 0?s:g(ca())},y}),Bv="sash-module_sash__K-9lB",Hv="sash-module_disabled__Hm-wx",Vv="sash-module_mac__Jf6OJ",As="sash-module_vertical__pB-rs",Kv="sash-module_minimum__-UKxp",Fv="sash-module_maximum__TCWxD",Ps="sash-module_horizontal__kFbiw",ua="sash-module_hover__80W6I",da="sash-module_active__bJspD";let Nn=function(e){return e.Vertical="VERTICAL",e.Horizontal="HORIZONTAL",e}({}),Sn=function(e){return e.Disabled="DISABLED",e.Minimum="MINIMUM",e.Maximum="MAXIMUM",e.Enabled="ENABLED",e}({}),wc=Cc?20:8;const Ec=new bi;class Rs extends bi{get state(){return this._state}set state(t){this._state!==t&&(this.el.classList.toggle(Hv,t===Sn.Disabled),this.el.classList.toggle("sash-disabled",t===Sn.Disabled),this.el.classList.toggle(Kv,t===Sn.Minimum),this.el.classList.toggle("sash-minimum",t===Sn.Minimum),this.el.classList.toggle(Fv,t===Sn.Maximum),this.el.classList.toggle("sash-maximum",t===Sn.Maximum),this._state=t,this.emit("enablementChange",t))}constructor(t,n,r){var o;super(),this.el=void 0,this.layoutProvider=void 0,this.orientation=void 0,this.size=void 0,this.hoverDelay=300,this.hoverDelayer=jv(a=>a.classList.add("sash-hover",ua),this.hoverDelay),this._state=Sn.Enabled,this.onPointerStart=a=>{const s=a.pageX,i=a.pageY,l={startX:s,currentX:s,startY:i,currentY:i};this.el.classList.add("sash-active",da),this.emit("start",l),this.el.setPointerCapture(a.pointerId);const u=h=>{h.preventDefault();const p={startX:s,currentX:h.pageX,startY:i,currentY:h.pageY};this.emit("change",p)},d=h=>{h.preventDefault(),this.el.classList.remove("sash-active",da),this.hoverDelayer.cancel(),this.emit("end"),this.el.releasePointerCapture(h.pointerId),window.removeEventListener("pointermove",u),window.removeEventListener("pointerup",d)};window.addEventListener("pointermove",u),window.addEventListener("pointerup",d)},this.onPointerDoublePress=()=>{this.emit("reset")},this.onMouseEnter=()=>{this.el.classList.contains(da)?(this.hoverDelayer.cancel(),this.el.classList.add("sash-hover",ua)):this.hoverDelayer(this.el)},this.onMouseLeave=()=>{this.hoverDelayer.cancel(),this.el.classList.remove("sash-hover",ua)},this.el=document.createElement("div"),this.el.classList.add("sash",Bv),this.el.dataset.testid="sash",t.append(this.el),Nv&&this.el.classList.add("sash-mac",Vv),this.el.addEventListener("pointerdown",this.onPointerStart),this.el.addEventListener("dblclick",this.onPointerDoublePress),this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave),typeof r.size=="number"?(this.size=r.size,r.orientation===Nn.Vertical?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=wc,Ec.on("onDidChangeGlobalSize",a=>{this.size=a,this.layout()})),this.layoutProvider=n,this.orientation=(o=r.orientation)!=null?o:Nn.Vertical,this.orientation===Nn.Horizontal?(this.el.classList.add("sash-horizontal",Ps),this.el.classList.remove("sash-vertical",As)):(this.el.classList.remove("sash-horizontal",Ps),this.el.classList.add("sash-vertical",As)),this.layout()}layout(){if(this.orientation===Nn.Vertical){const t=this.layoutProvider;this.el.style.left=t.getVerticalSashLeft(this)-this.size/2+"px",t.getVerticalSashTop&&(this.el.style.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(this.el.style.height=t.getVerticalSashHeight(this)+"px")}else{const t=this.layoutProvider;this.el.style.top=t.getHorizontalSashTop(this)-this.size/2+"px",t.getHorizontalSashLeft&&(this.el.style.left=t.getHorizontalSashLeft(this)+"px"),t.getHorizontalSashWidth&&(this.el.style.width=t.getHorizontalSashWidth(this)+"px")}}dispose(){this.el.removeEventListener("pointerdown",this.onPointerStart),this.el.removeEventListener("dblclick",this.onPointerDoublePress),this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",()=>this.onMouseLeave),this.el.remove()}}let Ao;var ha;(ha=Ao||(Ao={})).Distribute={type:"distribute"},ha.Split=function(e){return{type:"split",index:e}},ha.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}};let zn=function(e){return e.Normal="NORMAL",e.Low="LOW",e.High="HIGH",e}({});class Nc{constructor(t,n,r){this.container=void 0,this.view=void 0,this._size=void 0,this._cachedVisibleSize=void 0,this.container=t,this.view=n,this.container.classList.add("split-view-view",yc),this.container.dataset.testid="split-view-view",typeof r=="number"?(this._size=r,this._cachedVisibleSize=void 0,t.classList.add("split-view-view-visible")):(this._size=0,this._cachedVisibleSize=r.cachedVisibleSize)}set size(t){this._size=t}get size(){return this._size}get priority(){return this.view.priority}get snap(){return!!this.view.snap}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return this._cachedVisibleSize===void 0}setVisible(t,n){t!==this.visible&&(t?(this.size=Rn(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof n=="number"?n:this.size,this.size=0),this.container.classList.toggle("split-view-view-visible",t),this.view.setVisible&&this.view.setVisible(t))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}set enabled(t){this.container.style.pointerEvents=t?"":"none"}layout(t){this.layoutContainer(t),this.view.layout(this.size,t)}}let Wv=class extends Nc{layoutContainer(t){this.container.style.left=`${t}px`,this.container.style.width=`${this.size}px`}},Gv=class extends Nc{layoutContainer(t){this.container.style.top=`${t}px`,this.container.style.height=`${this.size}px`}};class Uv extends bi{get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(t){this._startSnappingEnabled!==t&&(this._startSnappingEnabled=t,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(t){this._endSnappingEnabled!==t&&(this._endSnappingEnabled=t,this.updateSashEnablement())}constructor(t,n={},r,o,a){var s,i;if(super(),this.onDidChange=void 0,this.onDidDragStart=void 0,this.onDidDragEnd=void 0,this.orientation=void 0,this.sashContainer=void 0,this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.sashDragState=void 0,this.proportionalLayout=void 0,this.getSashOrthogonalSize=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onSashEnd=l=>{this.emit("sashchange",l),this.saveProportions();for(const u of this.viewItems)u.enabled=!0},this.orientation=(s=n.orientation)!=null?s:Nn.Vertical,this.proportionalLayout=(i=n.proportionalLayout)!=null?i:!0,this.getSashOrthogonalSize=n.getSashOrthogonalSize,r&&(this.onDidChange=r),o&&(this.onDidDragStart=o),a&&(this.onDidDragEnd=a),this.sashContainer=document.createElement("div"),this.sashContainer.classList.add("sash-container",Sv),t.prepend(this.sashContainer),n.descriptor){this.size=n.descriptor.size;for(const[l,u]of n.descriptor.views.entries()){const d=u.size,h=u.container,p=u.view;this.addView(h,p,d,l,!0)}this.contentSize=this.viewItems.reduce((l,u)=>l+u.size,0),this.saveProportions()}}addView(t,n,r,o=this.viewItems.length,a){let s;s=typeof r=="number"?r:r.type==="split"?this.getViewSize(r.index)/2:r.type==="invisible"?{cachedVisibleSize:r.cachedVisibleSize}:n.minimumSize;const i=this.orientation===Nn.Vertical?new Gv(t,n,s):new Wv(t,n,s);if(this.viewItems.splice(o,0,i),this.viewItems.length>1){const l=this.orientation===Nn.Vertical?new Rs(this.sashContainer,{getHorizontalSashTop:h=>this.getSashPosition(h),getHorizontalSashWidth:this.getSashOrthogonalSize},{orientation:Nn.Horizontal}):new Rs(this.sashContainer,{getVerticalSashLeft:h=>this.getSashPosition(h),getVerticalSashHeight:this.getSashOrthogonalSize},{orientation:Nn.Vertical}),u=this.orientation===Nn.Vertical?h=>({sash:l,start:h.startY,current:h.currentY}):h=>({sash:l,start:h.startX,current:h.currentX});l.on("start",h=>{var p;this.emit("sashDragStart"),this.onSashStart(u(h));const f=this.viewItems.map(v=>v.size);(p=this.onDidDragStart)==null||p.call(this,f)}),l.on("change",h=>this.onSashChange(u(h))),l.on("end",()=>{var h;this.emit("sashDragEnd"),this.onSashEnd(this.sashItems.findIndex(f=>f.sash===l));const p=this.viewItems.map(f=>f.size);(h=this.onDidDragEnd)==null||h.call(this,p)}),l.on("reset",()=>{const h=this.sashItems.findIndex(g=>g.sash===l),p=En(h,-1,-1),f=En(h+1,this.viewItems.length),v=this.findFirstSnapIndex(p),m=this.findFirstSnapIndex(f);(typeof v!="number"||this.viewItems[v].visible)&&(typeof m!="number"||this.viewItems[m].visible)&&this.emit("sashreset",h)});const d={sash:l};this.sashItems.splice(o-1,0,d)}a||this.relayout(),a||typeof r=="number"||r.type!=="distribute"||this.distributeViewSizes()}removeView(t,n){if(t<0||t>=this.viewItems.length)throw new Error("Index out of bounds");const r=this.viewItems.splice(t,1)[0].view;if(this.viewItems.length>=1){const o=Math.max(t-1,0);this.sashItems.splice(o,1)[0].sash.dispose()}return this.relayout(),n&&n.type==="distribute"&&this.distributeViewSizes(),r}moveView(t,n,r){const o=this.getViewCachedVisibleSize(n),a=o===void 0?this.getViewSize(n):Ao.Invisible(o),s=this.removeView(n);this.addView(t,s,a,r)}getViewCachedVisibleSize(t){if(t<0||t>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[t].cachedVisibleSize}layout(t=this.size){const n=Math.max(this.size,this.contentSize);if(this.size=t,this.proportions)for(let r=0;r<this.viewItems.length;r++){const o=this.viewItems[r];o.size=Rn(Math.round(this.proportions[r]*t),o.minimumSize,o.maximumSize)}else{const r=En(0,this.viewItems.length),o=r.filter(s=>this.viewItems[s].priority===zn.Low),a=r.filter(s=>this.viewItems[s].priority===zn.High);this.resize(this.viewItems.length-1,t-n,void 0,o,a)}this.distributeEmptySpace(),this.layoutViews()}resizeView(t,n){if(t<0||t>=this.viewItems.length)return;const r=En(0,this.viewItems.length).filter(i=>i!==t),o=[...r.filter(i=>this.viewItems[i].priority===zn.Low),t],a=r.filter(i=>this.viewItems[i].priority===zn.High),s=this.viewItems[t];n=Math.round(n),n=Rn(n,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=n,this.relayout(o,a)}resizeViews(t){for(let n=0;n<t.length;n++){const r=this.viewItems[n];let o=t[n];o=Math.round(o),o=Rn(o,r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=o}this.contentSize=this.viewItems.reduce((n,r)=>n+r.size,0),this.saveProportions(),this.layout(this.size)}getViewSize(t){return t<0||t>=this.viewItems.length?-1:this.viewItems[t].size}isViewVisible(t){if(t<0||t>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[t].visible}setViewVisible(t,n){if(t<0||t>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[t].setVisible(n),this.distributeEmptySpace(t),this.layoutViews(),this.saveProportions()}distributeViewSizes(){const t=[];let n=0;for(const i of this.viewItems)i.maximumSize-i.minimumSize>0&&(t.push(i),n+=i.size);const r=Math.floor(n/t.length);for(const i of t)i.size=Rn(r,i.minimumSize,i.maximumSize);const o=En(0,this.viewItems.length),a=o.filter(i=>this.viewItems[i].priority===zn.Low),s=o.filter(i=>this.viewItems[i].priority===zn.High);this.relayout(a,s)}dispose(){this.sashItems.forEach(t=>t.sash.dispose()),this.sashItems=[],this.sashContainer.remove()}relayout(t,n){const r=this.viewItems.reduce((o,a)=>o+a.size,0);this.resize(this.viewItems.length-1,this.size-r,void 0,t,n),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}onSashStart({sash:t,start:n}){const r=this.sashItems.findIndex(o=>o.sash===t);(o=>{const a=this.viewItems.map(b=>b.size);let s,i,l=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY;const d=En(r,-1,-1),h=En(r+1,this.viewItems.length),p=d.reduce((b,S)=>b+(this.viewItems[S].minimumSize-a[S]),0),f=d.reduce((b,S)=>b+(this.viewItems[S].viewMaximumSize-a[S]),0),v=h.length===0?Number.POSITIVE_INFINITY:h.reduce((b,S)=>b+(a[S]-this.viewItems[S].minimumSize),0),m=h.length===0?Number.NEGATIVE_INFINITY:h.reduce((b,S)=>b+(a[S]-this.viewItems[S].viewMaximumSize),0);l=Math.max(p,m),u=Math.min(v,f);const g=this.findFirstSnapIndex(d),y=this.findFirstSnapIndex(h);if(typeof g=="number"){const b=this.viewItems[g],S=Math.floor(b.viewMinimumSize/2);s={index:g,limitDelta:b.visible?l-S:l+S,size:b.size}}if(typeof y=="number"){const b=this.viewItems[y],S=Math.floor(b.viewMinimumSize/2);i={index:y,limitDelta:b.visible?u+S:u-S,size:b.size}}this.sashDragState={start:o,current:o,index:r,sizes:a,minDelta:l,maxDelta:u,snapBefore:s,snapAfter:i}})(n)}onSashChange({current:t}){const{index:n,start:r,sizes:o,minDelta:a,maxDelta:s,snapBefore:i,snapAfter:l}=this.sashDragState;this.sashDragState.current=t;const u=t-r;this.resize(n,u,o,void 0,void 0,a,s,i,l),this.distributeEmptySpace(),this.layoutViews()}getSashPosition(t){let n=0;for(let r=0;r<this.sashItems.length;r++)if(n+=this.viewItems[r].size,this.sashItems[r].sash===t)return n;return 0}resize(t,n,r=this.viewItems.map(d=>d.size),o,a,s=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,l,u){if(t<0||t>=this.viewItems.length)return 0;const d=En(t,-1,-1),h=En(t+1,this.viewItems.length);if(a)for(const w of a)$s(d,w),$s(h,w);if(o)for(const w of o)la(d,w),la(h,w);const p=d.map(w=>this.viewItems[w]),f=d.map(w=>r[w]),v=h.map(w=>this.viewItems[w]),m=h.map(w=>r[w]),g=d.reduce((w,$)=>w+(this.viewItems[$].minimumSize-r[$]),0),y=d.reduce((w,$)=>w+(this.viewItems[$].maximumSize-r[$]),0),b=h.length===0?Number.POSITIVE_INFINITY:h.reduce((w,$)=>w+(r[$]-this.viewItems[$].minimumSize),0),S=h.length===0?Number.NEGATIVE_INFINITY:h.reduce((w,$)=>w+(r[$]-this.viewItems[$].maximumSize),0),C=Math.max(g,S,s),x=Math.min(b,y,i);let N=!1;if(l){const w=this.viewItems[l.index],$=n>=l.limitDelta;N=$!==w.visible,w.setVisible($,l.size)}if(!N&&u){const w=this.viewItems[u.index],$=n<u.limitDelta;N=$!==w.visible,w.setVisible($,u.size)}if(N)return this.resize(t,n,r,o,a,s,i);for(let w=0,$=n=Rn(n,C,x);w<p.length;w++){const P=p[w],O=Rn(f[w]+$,P.minimumSize,P.maximumSize);$-=O-f[w],P.size=O}for(let w=0,$=n;w<v.length;w++){const P=v[w],O=Rn(m[w]-$,P.minimumSize,P.maximumSize);$+=O-m[w],P.size=O}return n}distributeEmptySpace(t){const n=this.viewItems.reduce((a,s)=>a+s.size,0);let r=this.size-n;const o=En(this.viewItems.length-1,-1,-1);typeof t=="number"&&la(o,t);for(let a=0;r!==0&&a<o.length;a++){const s=this.viewItems[o[a]],i=Rn(s.size+r,s.minimumSize,s.maximumSize);r-=i-s.size,s.size=i}}layoutViews(){var t;this.contentSize=this.viewItems.reduce((r,o)=>r+o.size,0);let n=0;for(const r of this.viewItems)r.layout(n),n+=r.size;(t=this.onDidChange)!=null&&t.call(this,this.viewItems.map(r=>r.size)),this.sashItems.forEach(r=>r.sash.layout()),this.updateSashEnablement()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(t=>t.size/this.contentSize))}updateSashEnablement(){let t=!1;const n=this.viewItems.map(l=>t=l.size-l.minimumSize>0||t);t=!1;const r=this.viewItems.map(l=>t=l.maximumSize-l.size>0||t),o=[...this.viewItems].reverse();t=!1;const a=o.map(l=>t=l.size-l.minimumSize>0||t).reverse();t=!1;const s=o.map(l=>t=l.maximumSize-l.size>0||t).reverse();let i=0;for(let l=0;l<this.sashItems.length;l++){const{sash:u}=this.sashItems[l];i+=this.viewItems[l].size;const d=!(n[l]&&s[l+1]),h=!(r[l]&&a[l+1]);if(d&&h){const p=En(l,-1,-1),f=En(l+1,this.viewItems.length),v=this.findFirstSnapIndex(p),m=this.findFirstSnapIndex(f),g=typeof v=="number"&&!this.viewItems[v].visible,y=typeof m=="number"&&!this.viewItems[m].visible;g&&a[l]&&(i>0||this.startSnappingEnabled)?u.state=Sn.Minimum:y&&n[l]&&(i<this.contentSize||this.endSnappingEnabled)?u.state=Sn.Maximum:u.state=Sn.Disabled}else u.state=d&&!h?Sn.Minimum:!d&&h?Sn.Maximum:Sn.Enabled}}findFirstSnapIndex(t){for(const n of t){const r=this.viewItems[n];if(r.visible&&r.snap)return n}for(const n of t){const r=this.viewItems[n];if(r.visible&&r.maximumSize-r.minimumSize>0)return;if(!r.visible&&r.snap)return n}}}let xr=class{constructor(t){this.size=void 0,this.size=t}getPreferredSize(){return this.size}};class Ds{constructor(t,n){this.proportion=void 0,this.layoutService=void 0,this.proportion=t,this.layoutService=n}getPreferredSize(){return this.proportion*this.layoutService.getSize()}}class mo{getPreferredSize(){}}class Ts{get preferredSize(){return this.layoutStrategy.getPreferredSize()}set preferredSize(t){if(typeof t=="number")this.layoutStrategy=new xr(t);else if(typeof t=="string"){const n=t.trim();if(go(n,"%")){const r=Number(n.slice(0,-1))/100;this.layoutStrategy=new Ds(r,this.layoutService)}else if(go(n,"px")){const r=Number(n.slice(0,-2))/100;this.layoutStrategy=new xr(r)}else if(typeof Number.parseFloat(n)=="number"){const r=Number.parseFloat(n);this.layoutStrategy=new xr(r)}else this.layoutStrategy=new mo}else this.layoutStrategy=new mo}constructor(t,n){var r;if(this.minimumSize=0,this.maximumSize=Number.POSITIVE_INFINITY,this.element=void 0,this.priority=void 0,this.snap=void 0,this.layoutService=void 0,this.layoutStrategy=void 0,this.layoutService=t,this.element=n.element,this.minimumSize=typeof n.minimumSize=="number"?n.minimumSize:30,this.maximumSize=typeof n.maximumSize=="number"?n.maximumSize:Number.POSITIVE_INFINITY,typeof n.preferredSize=="number")this.layoutStrategy=new xr(n.preferredSize);else if(typeof n.preferredSize=="string"){const o=n.preferredSize.trim();if(go(o,"%")){const a=Number(o.slice(0,-1))/100;this.layoutStrategy=new Ds(a,this.layoutService)}else if(go(o,"px")){const a=Number(o.slice(0,-2));this.layoutStrategy=new xr(a)}else if(typeof Number.parseFloat(o)=="number"){const a=Number.parseFloat(o);this.layoutStrategy=new xr(a)}else this.layoutStrategy=new mo}else this.layoutStrategy=new mo;this.priority=(r=n.priority)!=null?r:zn.Normal,this.snap=typeof n.snap=="boolean"&&n.snap}layout(t){}}function _s(e){return e.minSize!==void 0||e.maxSize!==void 0||e.preferredSize!==void 0||e.priority!==void 0||e.visible!==void 0}const Si=c.forwardRef(({className:e,children:t},n)=>V.createElement("div",{ref:n,className:Ta("split-view-view",yc,e)},t));Si.displayName="Allotment.Pane";const Mc=c.forwardRef(({children:e,className:t,id:n,maxSize:r=1/0,minSize:o=30,proportionalLayout:a=!0,separator:s=!0,sizes:i,defaultSizes:l=i,snap:u=!1,vertical:d=!1,onChange:h,onReset:p,onVisibleChange:f,onDragStart:v,onDragEnd:m},g)=>{const y=c.useRef(null),b=c.useRef([]),S=c.useRef(new Map),C=c.useRef(null),x=c.useRef(new Map),N=c.useRef(new Mv),w=c.useRef([]),[$,P]=c.useState(!1),O=c.useMemo(()=>V.Children.toArray(e).filter(V.isValidElement),[e]),T=c.useCallback(A=>{var L,R;const I=(L=w.current)==null?void 0:L[A];return typeof(I==null?void 0:I.preferredSize)=="number"&&((R=C.current)!=null&&R.resizeView(A,Math.round(I.preferredSize)),!0)},[]);return c.useImperativeHandle(g,()=>({reset:()=>{if(p)p();else{var A;(A=C.current)==null||A.distributeViewSizes();for(let L=0;L<w.current.length;L++)T(L)}},resize:A=>{var L;(L=C.current)==null||L.resizeViews(A)}})),Ms(()=>{let A=!0;l&&x.current.size!==l.length&&(A=!1,console.warn(`Expected ${l.length} children based on defaultSizes but found ${x.current.size}`)),A&&l&&(b.current=O.map(I=>I.key));const L=Fr({orientation:d?Nn.Vertical:Nn.Horizontal,proportionalLayout:a},A&&l&&{descriptor:{size:l.reduce((I,j)=>I+j,0),views:l.map((I,j)=>{var z,B,q,ne;const G=S.current.get(b.current[j]),te=new Ts(N.current,Fr({element:document.createElement("div"),minimumSize:(z=G==null?void 0:G.minSize)!=null?z:o,maximumSize:(B=G==null?void 0:G.maxSize)!=null?B:r,priority:(q=G==null?void 0:G.priority)!=null?q:zn.Normal},(G==null?void 0:G.preferredSize)&&{preferredSize:G==null?void 0:G.preferredSize},{snap:(ne=G==null?void 0:G.snap)!=null?ne:u}));return w.current.push(te),{container:[...x.current.values()][j],size:I,view:te}})}});C.current=new Uv(y.current,L,h,v,m),C.current.on("sashDragStart",()=>{var I;(I=y.current)==null||I.classList.add("split-view-sash-dragging")}),C.current.on("sashDragEnd",()=>{var I;(I=y.current)==null||I.classList.remove("split-view-sash-dragging")}),C.current.on("sashchange",I=>{if(f&&C.current){const j=O.map(z=>z.key);for(let z=0;z<j.length;z++){const B=S.current.get(j[z]);(B==null?void 0:B.visible)!==void 0&&B.visible!==C.current.isViewVisible(z)&&f(z,C.current.isViewVisible(z))}}}),C.current.on("sashreset",I=>{if(p)p();else{var j;if(T(I)||T(I+1))return;(j=C.current)==null||j.distributeViewSizes()}});const R=C.current;return()=>{R.dispose()}},[]),Ms(()=>{if($){const X=O.map(U=>U.key),J=[...b.current],K=X.filter(U=>!b.current.includes(U)),he=X.filter(U=>b.current.includes(U)),de=b.current.map(U=>!X.includes(U));for(let U=de.length-1;U>=0;U--){var A;de[U]&&((A=C.current)!=null&&A.removeView(U),J.splice(U,1),w.current.splice(U,1))}for(const U of K){var L,R,I,j,z;const Z=S.current.get(U),H=new Ts(N.current,Fr({element:document.createElement("div"),minimumSize:(L=Z==null?void 0:Z.minSize)!=null?L:o,maximumSize:(R=Z==null?void 0:Z.maxSize)!=null?R:r,priority:(I=Z==null?void 0:Z.priority)!=null?I:zn.Normal},(Z==null?void 0:Z.preferredSize)&&{preferredSize:Z==null?void 0:Z.preferredSize},{snap:(j=Z==null?void 0:Z.snap)!=null?j:u}));(z=C.current)!=null&&z.addView(x.current.get(U),H,Ao.Distribute,X.findIndex(W=>W===U)),J.splice(X.findIndex(W=>W===U),0,U),w.current.splice(X.findIndex(W=>W===U),0,H)}for(;!vv(X,J);)for(const[U,Z]of X.entries()){const H=J.findIndex(W=>W===Z);if(H!==U){var B;(B=C.current)==null||B.moveView(x.current.get(Z),H,U);const W=J[H];J.splice(H,1),J.splice(U,0,W);break}}for(const U of K){var q;const Z=X.findIndex(W=>W===U),H=w.current[Z].preferredSize;H!==void 0&&((q=C.current)==null||q.resizeView(Z,H))}for(const U of[...K,...he]){var ne,G;const Z=S.current.get(U),H=X.findIndex(W=>W===U);Z&&_s(Z)&&Z.visible!==void 0&&((ne=C.current)==null?void 0:ne.isViewVisible(H))!==Z.visible&&((G=C.current)==null||G.setViewVisible(H,Z.visible))}for(const U of he){const Z=S.current.get(U),H=X.findIndex(W=>W===U);if(Z&&_s(Z)){var te;Z.preferredSize!==void 0&&w.current[H].preferredSize!==Z.preferredSize&&(w.current[H].preferredSize=Z.preferredSize);let W=!1;Z.minSize!==void 0&&w.current[H].minimumSize!==Z.minSize&&(w.current[H].minimumSize=Z.minSize,W=!0),Z.maxSize!==void 0&&w.current[H].maximumSize!==Z.maxSize&&(w.current[H].maximumSize=Z.maxSize,W=!0),W&&((te=C.current)==null||te.layout())}}(K.length>0||de.length>0)&&(b.current=X)}},[O,$,r,o,u]),c.useEffect(()=>{C.current&&(C.current.onDidChange=h)},[h]),c.useEffect(()=>{C.current&&(C.current.onDidDragStart=v)},[v]),c.useEffect(()=>{C.current&&(C.current.onDidDragEnd=m)},[m]),yv({ref:y,onResize:({width:A,height:L})=>{var R;A&&L&&((R=C.current)!=null&&R.layout(d?L:A),N.current.setSize(d?L:A),P(!0))}}),c.useEffect(()=>{Cc&&qv(20)},[]),V.createElement("div",{ref:y,className:Ta("split-view",d?"split-view-vertical":"split-view-horizontal",{"split-view-separator-border":s},bv,d?xv:wv,{[Ev]:s},t),id:n},V.createElement("div",{className:Ta("split-view-container",Cv)},V.Children.toArray(e).map(A=>{if(!V.isValidElement(A))return null;const L=A.key;return A.type.displayName==="Allotment.Pane"?(S.current.set(L,A.props),V.cloneElement(A,{key:L,ref:R=>{const I=A.ref;I&&(I.current=R),R?x.current.set(L,R):x.current.delete(L)}})):V.createElement(Si,{key:L,ref:R=>{R?x.current.set(L,R):x.current.delete(L)}},A)})))});function qv(e){const t=Rn(e,4,20),n=Rn(e,1,8);document.documentElement.style.setProperty("--sash-size",t+"px"),document.documentElement.style.setProperty("--sash-hover-size",n+"px"),function(r){wc=r,Ec.emit("onDidChangeGlobalSize",r)}(t)}Mc.displayName="Allotment";var er=Object.assign(Mc,{Pane:Si});const Xv="_container_jgx61_1",Yv="_title_jgx61_12",Zv="_body_jgx61_18",Qv="_left_jgx61_25",Jv="_right_jgx61_44",e0="_tag_jgx61_55",t0="_selected_jgx61_65",n0="_tag-name_jgx61_69",gn={container:Xv,title:Yv,body:Zv,left:Qv,right:Jv,tag:e0,selected:t0,tagName:n0},r0="_container_21aji_1",o0="_content_21aji_19",ks={container:r0,content:o0},a0="_container_17mrb_1",i0="_item_17mrb_8",s0="_active_17mrb_21",l0="_item-slash_17mrb_24",tr={container:a0,item:i0,active:s0,itemSlash:l0},$c=e=>{const{parent:t,parents:n,onClick:r}=e;return F.jsxs("div",{className:tr.container,children:[F.jsxs("div",{className:pe(tr.item,{[tr.active]:t===""}),onClick:()=>r(""),children:[F.jsx("span",{children:"Root"}),n.length>0&&F.jsx("span",{className:tr.itemSlash,children:"/"})]}),n.map((o,a)=>F.jsxs("div",{className:pe(tr.item,{[tr.active]:t===o.code}),onClick:()=>r(o.code),children:[F.jsx("span",{children:o.name}),a!=n.length-1&&F.jsx("span",{className:tr.itemSlash,children:"/"})]},o.code))]})},c0="_item_4xjdi_1",u0="_item-cover_4xjdi_10",d0="_item-cover-active_4xjdi_26",h0="_item-image_4xjdi_29",f0="_item-name_4xjdi_36",p0="_item-name-active_4xjdi_52",wr={item:c0,itemCover:u0,itemCoverActive:d0,itemImage:h0,itemName:f0,itemNameActive:p0},g0="data:image/svg+xml,%3csvg%20width='597'%20height='478'%20viewBox='0%200%20597%20478'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2046.286V431.014C0%20456.47%2020.682%20477.297%2045.96%20477.297H550.658C575.936%20477.297%20596.618%20456.47%20596.618%20431.014V122.364C596.618%2096.9081%20575.936%2076.0808%20550.658%2076.0808H324.592C310.804%2076.0808%20297.591%2069.7168%20288.686%2058.7246L256.514%2018.5162C247.897%207.81324%20234.97%201.44932%20221.182%201.16005L46.2472%200.00297717C20.682%20-0.286292%200%2020.5411%200%2046.286Z'%20fill='%230091FF'/%3e%3cpath%20d='M0%20212.783V425.707C0%20454.097%2020.682%20477.325%2045.96%20477.325H550.658C575.936%20477.325%20596.618%20454.097%20596.618%20425.707V81.4798C596.618%2053.0899%20575.936%2029.8618%20550.658%2029.8618H369.116C358.488%2029.8618%20347.859%2034.0558%20339.816%2041.7985L223.48%20150.519C215.15%20158.262%20204.522%20162.456%20193.606%20162.456L46.2472%20160.842C20.682%20160.842%200%20184.071%200%20212.783Z'%20fill='%23B7D9F8'/%3e%3c/svg%3e",m0="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1740886943620'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='12284'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M534%20352V136H232v752h560V394H576a42%2042%200%200%201-42-42z'%20fill='%23D9D9D9'%20p-id='12285'%3e%3c/path%3e%3cpath%20d='M854.6%20288.6L639.4%2073.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7%200-32%2014.3-32%2032v832c0%2017.7%2014.3%2032%2032%2032h640c17.7%200%2032-14.3%2032-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602%20137.8L790.2%20326H602V137.8zM792%20888H232V136h302v216a42%2042%200%200%200%2042%2042h216v494z'%20p-id='12286'%3e%3c/path%3e%3c/svg%3e",v0="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1740887095606'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17156'%20width='170'%20height='170'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cpath%20d='M648.76544%200c24.40704%200%2047.8208%209.68704%2065.09568%2026.9312l187.61728%20187.21792a92.16%2092.16%200%200%201%2027.05408%2065.2288v120.6272c44.2368%200%2080.09728%2035.85536%2080.10752%2080.08704v319.7952c0%2043.24864-34.3296%2078.6944-77.55776%2080.06656l-2.54976%200.03072v48.00512c0%2053.02272-43.02848%2096-96.12288%2096H191.5904c-53.0944%200-96.12288-42.97728-96.12288-96v-48.00512c-44.2368%200-80.09728-35.85536-80.10752-80.08704V480.1024c0-43.24864%2034.3296-78.6944%2077.55776-80.06656l2.54976-0.04096V96C95.46752%2042.97728%20138.496%200%20191.5904%200h457.17504z%20m183.64416%20879.99488H191.5904v17.28512a30.72%2030.72%200%200%200%2030.72%2030.72h579.3792a30.72%2030.72%200%200%200%2030.72-30.72v-17.28512z%20m-409.088-329.86112H297.984L267.75552%20721.92h38.33856l10.81344-61.68576h81.59232l6.144-34.16064H323.05152l7.12704-40.79616H417.1776l6.144-35.14368z%20m114.03264-0.24576h-84.7872L422.33856%20721.92h87.73632c36.864%200%2059.22816-12.288%2068.32128-40.30464%206.144-19.16928%200.49152-42.02496-19.90656-49.88928%2021.62688-9.33888%2029.98272-25.31328%2029.98272-42.27072%200-26.78784-21.38112-39.56736-51.11808-39.56736z%20m115.75296%200h-42.02496l-0.24576%201.72032%2043.74528%2083.06688-75.44832%2086.016-0.24576%201.2288h46.6944l48.16896-57.01632L703.73376%20721.92h42.51648l0.24576-1.2288-45.21984-83.31264%2075.44832-85.77024%200.24576-1.72032h-44.2368l-49.88928%2059.22816-29.73696-59.22816z%20m-133.44768%2098.79552c14.99136%200%2022.60992%206.88128%2022.60992%2016.95744%200%2013.5168-9.58464%2022.85568-29.24544%2022.85568h-47.18592l7.12704-39.81312h46.6944z%20m12.04224-65.61792c12.288%200%2017.44896%206.144%2017.44896%2013.5168%200%209.09312-8.35584%2020.15232-24.08448%2020.15232h-46.6944l6.144-33.66912h47.18592z%20m71.51616-494.7456H222.3104a30.72%2030.72%200%200%200-30.72%2030.72v280.95488h640.8192v-81.5616h-137.00096c-50.8928-0.01024-92.14976-41.2672-92.16-92.16l-0.03072-137.95328z%20m96.12288%2059.84256v58.91072a15.36%2015.36%200%200%200%2015.36%2015.36h59.0848l-74.4448-74.27072z'%20fill='%238a8a8a'%20p-id='17157'%3e%3c/path%3e%3c/svg%3e",y0="/longriver1012/glb-CHfdM5il.svg",b0="/longriver1012/obj-BlhbR6Kx.svg",S0="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1740886774681'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='11289'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M881.503769%201009.728009a47.58397%2047.58397%200%200%201-33.919979%2014.271991H175.90421c-12.703992%200-24.895984-5.119997-33.919979-14.271991A49.183969%2049.183969%200%200%201%20128.00024%20975.23203V48.76861c0-12.927992%205.023997-25.343984%2014.047991-34.495979A47.58397%2047.58397%200%200%201%20175.93621%200.00064h412.095742c12.767992-0.064%2025.023984%205.023997%2034.079979%2014.143991l259.519838%20263.807835c8.991994%209.183994%2014.015991%2021.663986%2013.951991%2034.623979v662.655585c0%2012.927992-5.055997%2025.343984-14.079991%2034.495979z'%20fill='%23DCF3D1'%20p-id='11290'%3e%3c/path%3e%3cpath%20d='M32.0003%20544.0003h959.9994v319.9998c0%2016.959989-5.055997%2033.279979-14.079991%2045.247972-8.959994%2011.999993-21.183987%2018.751988-33.919979%2018.751988h-863.99946c-12.735992%200-24.959984-6.719996-33.919979-18.751988C37.024297%20897.280079%2032.0003%20880.960089%2032.0003%20864.0001V544.0003z'%20fill='%2352C41A'%20p-id='11291'%3e%3c/path%3e%3cpath%20d='M127.96824%20536.384305v-97.535939L32.0003%20536.384305h95.96794z%20m767.61552%200l0.96-97.535939L991.9997%20536.384305h-96.41594z'%20fill='%23389E0D'%20p-id='11292'%3e%3c/path%3e%3cpath%20d='M895.58376%20319.39244h-259.551838c-26.495983%200-47.99997-21.823986-47.99997-48.767969V0.00064c12.767992-0.064%2025.023984%205.023997%2034.079979%2014.143991l260.031838%20263.807835c8.799995%209.279994%2013.631991%2021.727986%2013.439991%2034.623979v6.815995z'%20fill='%2352C41A'%20opacity='.4'%20p-id='11293'%3e%3c/path%3e%3cpath%20d='M280.000145%20848.00011l4.479997-151.039906%2050.879968%20151.039906h37.759977l50.239968-150.399906%204.799997%20150.399906h43.199973l-14.71999-228.479857h-46.079972l-56.319964%20167.999895-56.319965-167.999895H251.520163L236.800172%20848.00011h43.199973z%20m313.919804%200v-186.879883h62.079961v-41.599974h-168.319895v41.599974h62.079961v186.879883h44.159973z%20m211.519868%200v-41.599974h-84.479948v-186.879883h-44.159972v228.479857h128.63992z'%20fill='%23FFFFFF'%20p-id='11294'%3e%3c/path%3e%3c/svg%3e",C0="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1740887007250'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='14135'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M120%20334a40%2040%200%200%201%2040%2040V476h80V374a40%2040%200%201%201%2080%200v284a40%2040%200%201%201-80%200V556H160v102a40%2040%200%201%201-80%200v-284a40%2040%200%200%201%2040-40zM984%20760a40%2040%200%200%201%2040%2040v64c0%2088.224-71.776%20160-160%20160H160c-88.224%200-160-71.776-160-160v-64a40%2040%200%201%201%2080%200v64c0%2044.112%2035.888%2080%2080%2080h704c44.112%200%2080-35.888%2080-80v-64a40%2040%200%200%201%2040-40zM864%200c88.224%200%20160%2071.776%20160%20160v72a40%2040%200%201%201-80%200v-72c0-44.112-35.888-80-80-80H160c-44.112%200-80%2035.888-80%2080v72a40%2040%200%201%201-80%200v-72C0%2071.776%2071.776%200%20160%200h704z%20m78%20460c0%2043.52-22.552%2081.84-56.56%20103.976l49.424%2071.224a40%2040%200%201%201-65.728%2045.6L801.968%20584H780v74a40%2040%200%201%201-80%200V376a40%2040%200%200%201%2040-40h78c68.376%200%20124%2055.624%20124%20124z%20m-124%2044c24.264%200%2044-19.736%2044-44s-19.736-44-44-44H780v88h38zM503%20698H430a40%2040%200%200%201-40-40v-284a40%2040%200%200%201%2040-40h73C574.128%20334%20632%20391.872%20632%20463v106c0%2071.128-57.872%20129-129%20129z%20m-33-284v204h33A49.056%2049.056%200%200%200%20552%20569v-106a49.056%2049.056%200%200%200-49-49H470z'%20fill='%234A90E2'%20p-id='14136'%3e%3c/path%3e%3c/svg%3e",x0=[{label:"删除",key:"delete"}],Ic=e=>{const{draggable:t,asset:n,active:r,onClick:o,onDoubleClick:a,onRename:s,onDelete:i,onDragStart:l}=e,u=c.useRef(null),[d,h]=c.useState(!1),[p,f]=c.useState(""),v=c.useMemo(()=>{const b=mc(n.name);return n.cover?n.cover:n.type==="folder"?g0:sv(b)?URL.createObjectURL(n.file):b==="fbx"?v0:b==="glb"?y0:b==="obj"?b0:b==="mtl"?S0:b==="hdr"?C0:m0},[n]);c.useEffect(()=>{f(n.name)},[n]);const m=()=>{r&&h(!0),setTimeout(()=>{var b;(b=u.current)==null||b.focus()},0)},g=()=>{h(!1),!(!p||p===n.name)&&s(n,p)},y=async({key:b})=>{b==="delete"&&i(n)};return F.jsx(Ka,{menu:{items:x0,onClick:y},trigger:["contextMenu"],children:F.jsxs("div",{className:wr.item,draggable:t,onClick:()=>o(n),onDoubleClick:()=>a(n),onDragStart:l,onContextMenu:b=>b.stopPropagation(),children:[F.jsx("div",{className:pe(wr.itemCover,{[wr.itemCoverActive]:r}),children:F.jsx("img",{draggable:!1,className:wr.itemImage,src:v,alt:"cover"})}),F.jsx(Lo,{ref:u,value:p,style:{display:d?"block":"none"},onChange:b=>f(b.target.value),onBlur:g,onPressEnter:g}),F.jsx("div",{title:n.name,style:{display:d?"none":"block"},className:pe(wr.itemName,{[wr.itemNameActive]:r}),onClick:m,children:n.name})]})})},w0=[{label:"新建文件夹",key:"folder"}],E0=()=>{const[e,t]=Fa.useMessage(),[n,r]=c.useState([]),[o,a]=c.useState(""),[s,i]=c.useState(""),[l,u]=c.useState([]),d=async S=>{const C=await rl(S);r(C)};c.useEffect(()=>{d("")},[]);const h=S=>{if(S!==s)if(!S)u([]),i(""),d("");else{const C=l.findIndex(x=>x.code===S);l.splice(C+1,l.length-1-C),u([...l]),i(S),d(S)}},p=async({key:S})=>{S==="folder"&&(await Mu(s,"文件夹"),await d(s),e.info("添加成功"))},f=S=>{S.preventDefault(),S.dataTransfer.dropEffect="copy"},v=async S=>{S.preventDefault();const C=Array.from(S.dataTransfer.files);await $u(C,s),await d(s),e.info("添加成功")},m=S=>a(S.code),g=async S=>{S.type==="folder"&&(await d(S.code),l.push(S),u([...l]),i(S.code))},y=async(S,C)=>{await Ou(S.code,C),await d(s)},b=async S=>{await Iu(S.code),await d(s)};return F.jsxs(F.Fragment,{children:[t,F.jsx($c,{parent:s,parents:l,onClick:h}),F.jsx(Ka,{menu:{items:w0,onClick:p},trigger:["contextMenu"],children:F.jsx("div",{className:ks.container,onDragOver:f,onDrop:v,children:F.jsx("div",{className:ks.content,children:n.map(S=>F.jsx(Ic,{asset:S,active:o===S.code,onClick:m,onDoubleClick:g,onRename:y,onDelete:b},S.code))})})})]})},N0=()=>F.jsx("div",{children:"MaterialList"}),M0="_container_21aji_1",$0="_content_21aji_19",Ls={container:M0,content:$0};class I0 extends $i{constructor(t,n){super(),this.isViewHelper=!0,this.animating=!1,this.center=new Ft;const r=new fo("#ff4466"),o=new fo("#88ff44"),a=new fo("#4488ff"),s=new fo("#000000"),i={},l=[],u=new Wa,d=new Mo,h=new $i,p=new Au(-2,2,2,-2,0,4);p.position.set(0,0,2);const f=new Pu(.04,.04,.8,5).rotateZ(-Math.PI/2).translate(.4,0,0),v=new qo(f,G(r)),m=new qo(f,G(o)),g=new qo(f,G(a));m.rotation.z=Math.PI/2,g.rotation.y=-Math.PI/2,this.add(v),this.add(g),this.add(m);const y=te(r),b=te(o),S=te(a),C=te(s),x=new br(y),N=new br(b),w=new br(S),$=new br(C),P=new br(C),O=new br(C);x.position.x=1,N.position.y=1,w.position.z=1,$.position.x=-1,P.position.y=-1,O.position.z=-1,$.material.opacity=.2,P.material.opacity=.2,O.material.opacity=.2,x.userData.type="posX",N.userData.type="posY",w.userData.type="posZ",$.userData.type="negX",P.userData.type="negY",O.userData.type="negZ",this.add(x),this.add(N),this.add(w),this.add($),this.add(P),this.add(O),l.push(x),l.push(N),l.push(w),l.push($),l.push(P),l.push(O);const T=new Ft,A=128,L=2*Math.PI;this.render=function(J){this.quaternion.copy(t.quaternion).invert(),this.updateMatrixWorld(),T.set(0,0,1),T.applyQuaternion(t.quaternion);const K=n.offsetWidth-A;J.clearDepth(),J.getViewport(B),J.setViewport(K,0,A,A),J.render(this,p),J.setViewport(B.x,B.y,B.z,B.w)};const R=new Ft,I=new Xo,j=new Xo,z=new Xo,B=new Ru;let q=0;this.handleClick=function(J){if(this.animating===!0)return!1;const K=n.getBoundingClientRect(),he=K.left+(n.offsetWidth-A),de=K.top+(n.offsetHeight-A);d.x=(J.clientX-he)/(K.right-he)*2-1,d.y=-((J.clientY-de)/(K.bottom-de))*2+1,u.setFromCamera(d,p);const U=u.intersectObjects(l);if(U.length>0){const H=U[0].object;return ne(H,this.center),this.animating=!0,!0}else return!1},this.setLabels=function(J,K,he){i.labelX=J,i.labelY=K,i.labelZ=he,X()},this.setLabelStyle=function(J,K,he){i.font=J,i.color=K,i.radius=he,X()},this.update=function(J){const K=J*L;j.rotateTowards(z,K),t.position.set(0,0,1).applyQuaternion(j).multiplyScalar(q).add(this.center),t.quaternion.rotateTowards(I,K),j.angleTo(z)===0&&(this.animating=!1)},this.dispose=function(){f.dispose(),v.material.dispose(),m.material.dispose(),g.material.dispose(),x.material.map.dispose(),N.material.map.dispose(),w.material.map.dispose(),$.material.map.dispose(),P.material.map.dispose(),O.material.map.dispose(),x.material.dispose(),N.material.dispose(),w.material.dispose(),$.material.dispose(),P.material.dispose(),O.material.dispose()};function ne(J,K){switch(J.userData.type){case"posX":R.set(1,0,0),I.setFromEuler(new Sr(0,Math.PI*.5,0));break;case"posY":R.set(0,1,0),I.setFromEuler(new Sr(-Math.PI*.5,0,0));break;case"posZ":R.set(0,0,1),I.setFromEuler(new Sr);break;case"negX":R.set(-1,0,0),I.setFromEuler(new Sr(0,-Math.PI*.5,0));break;case"negY":R.set(0,-1,0),I.setFromEuler(new Sr(Math.PI*.5,0,0));break;case"negZ":R.set(0,0,-1),I.setFromEuler(new Sr(0,Math.PI,0));break;default:console.error("ViewHelper: Invalid axis.")}q=t.position.distanceTo(K),R.multiplyScalar(q).add(K),h.position.copy(K),h.lookAt(t.position),j.copy(h.quaternion),h.lookAt(R),z.copy(h.quaternion)}function G(J){return new ol({color:J,toneMapped:!1})}function te(J,K){const{font:he="24px Arial",color:de="#000000",radius:U=14}=i,Z=document.createElement("canvas");Z.width=64,Z.height=64;const H=Z.getContext("2d");H.beginPath(),H.arc(32,32,U,0,2*Math.PI),H.closePath(),H.fillStyle=J.getStyle(),H.fill(),K&&(H.font=he,H.textAlign="center",H.fillStyle=de,H.fillText(K,32,41));const W=new Du(Z);return W.colorSpace=Tu,new _u({map:W,toneMapped:!1})}function X(){x.material.map.dispose(),N.material.map.dispose(),w.material.map.dispose(),x.material.dispose(),N.material.dispose(),w.material.dispose(),x.material=te(r,i.labelX),N.material=te(o,i.labelY),w.material=te(a,i.labelZ)}}}const ur=e=>{switch(e){case rt.SimpleScript:return{id:po(),enabled:!0,name:nn[rt.SimpleScript],type:rt.SimpleScript,script:ku};case rt.Animator:return{id:po(),enabled:!0,name:nn[rt.Animator],type:rt.Animator};case rt.OrbitControls:return{id:po(),enabled:!0,name:nn[rt.OrbitControls],type:rt.OrbitControls};case rt.PointerLockControls:return{id:po(),enabled:!0,name:nn[rt.PointerLockControls],type:rt.PointerLockControls};default:throw new Error(`未知组件类型: ${e}`)}};class Oc extends Tr{constructor(n){super(n);M(this,"raycaster");M(this,"mouse");M(this,"point");M(this,"plane");M(this,"box");M(this,"center");M(this,"normal");M(this,"position");M(this,"offset");M(this,"camera");M(this,"onPointerMove",n=>{const{clientX:r,clientY:o}=n;this.point.set(r,o)});this.raycaster=new Wa,this.mouse=new Mo,this.point=new Mo,this.plane=new al,this.box=new ko,this.center=new Ft,this.normal=new Ft,this.position=new Ft,this.offset=new Ft;const r=n.getPlugin(Bn);this.camera=r.camera,document.addEventListener("pointermove",this.onPointerMove,!1)}getOffset(n){const{x:r,y:o}=this.point,[a,s]=xa(this.core.container,r,o);this.mouse.set(a*2-1,-(s*2)+1);const i=n.map(l=>l.object3d);return this.box.makeEmpty(),Ga(i,this.box),this.box.getCenter(this.center),this.normal.set(0,1,0),this.plane.setFromNormalAndCoplanarPoint(this.normal,this.center),this.raycaster.setFromCamera(this.mouse,this.camera),this.raycaster.ray.intersectPlane(this.plane,this.position),this.offset.copy(this.position).sub(this.center),this.offset.toArray()}paste(n,r){const o=n.map(a=>a.clone());o.forEach(a=>{let[s,i,l]=a.position;s+=r[0],i+=r[1],l+=r[2],this.replaceName(a),a.position.set(s,i,l),this.core.addEntity(a)}),this.core.select(o)}unmount(){document.removeEventListener("pointermove",this.onPointerMove)}replaceName(n){const r=n.name.lastIndexOf("-");r>=0&&(n.name=n.name.slice(0,r)),n.name=`${n.name}-${n.id}`,n.children.forEach(o=>this.replaceName(o))}}class Ac extends Tr{constructor(n){super(n);M(this,"raycaster");M(this,"mouse");M(this,"plane");M(this,"center");M(this,"normal");M(this,"position");M(this,"direction");M(this,"camera");this.raycaster=new Wa,this.plane=new al,this.mouse=new Mo,this.center=new Ft,this.normal=new Ft(0,1,0),this.position=new Ft,this.direction=new Ft;const r=n.getPlugin(Bn);this.camera=r.camera}async drop(n,r,o){const{clientX:a,clientY:s}=o,[i,l]=xa(this.core.container,a,s);this.mouse.set(i*2-1,-(l*2)+1),this.plane.setFromNormalAndCoplanarPoint(this.normal,this.center),this.raycaster.setFromCamera(this.mouse,this.camera),this.raycaster.ray.intersectPlane(this.plane,this.position),this.core.modelManager.modelCache.delete(n);const u=await this.core.modelManager.getModel(n),d=await this.core.modelManager.loadModel(u),h=Lu(d).map(v=>({name:v})),p={name:r,position:this.position.toArray(),modelCode:n,modelPath:"",materials:h},f=zu(this.core,p);this.core.bus.emit("TRANSACTION_START"),this.core.addEntity(f),this.core.select([f]),this.core.bus.emit("TRANSACTION_END")}async dropSymbol(n,r,o){const{clientX:a,clientY:s}=o,[i,l]=xa(this.core.container,a,s);this.mouse.set(i*2-1,-(l*2)+1),this.plane.setFromNormalAndCoplanarPoint(this.normal,this.center),this.raycaster.setFromCamera(this.mouse,this.camera);const u=this.getObjects(),d=this.raycaster.intersectObjects(u,!1);if(d.length){const b=d[0];this.position.copy(b.point),this.direction.copy(b.normal)}else this.raycaster.ray.intersectPlane(this.plane,this.position),this.direction.set(0,0,1);this.direction.normalize(),Ot.set(0,0,1),Ii.setFromUnitVectors(Ot,this.direction),$o.setFromQuaternion(Ii);const[h,p,f]=$o.toArray(),v=r.lastIndexOf("/"),m=r.slice(v+1);this.core.symbolManager.symbolCache.delete(`${n}-${r}`);const g={name:m,position:this.position.toArray(),rotation:[h,p,f].map(gr.radToDeg),symbolCode:n,symbolPath:r},y=ju(this.core,g);this.core.bus.emit("TRANSACTION_START"),this.core.addEntity(y),this.core.select([y]),this.core.bus.emit("TRANSACTION_END")}getObjects(){const{scene:n}=this.core.render,r=[];return n.traverseVisible(o=>r.push(o)),r}}class Pc extends Tr{constructor(n){super(n);M(this,"camera");M(this,"box");M(this,"sphere");M(this,"center");M(this,"delta");M(this,"controls");const r=n.getPlugin(Bn);this.camera=r.camera,this.controls=r.controls,this.box=new ko,this.sphere=new il,this.center=new Ft,this.delta=new Ft}focus(n){let r;const o=n.map(a=>a.object3d);if(this.box.makeEmpty(),Ga(o,this.box),this.box.isEmpty()){const a=o[o.length-1];this.center.setFromMatrixPosition(a.matrixWorld),r=1}else this.box.getCenter(this.center),r=this.box.getBoundingSphere(this.sphere).radius;this.delta.set(0,0,1),this.delta.applyQuaternion(this.camera.quaternion),this.delta.multiplyScalar(r*4),this.controls.target.copy(this.center),this.camera.position.copy(this.center).add(this.delta)}}class O0 extends _r{constructor(n){super(n);M(this,"onMouseUpPhase1",n=>{if(this.drawPlugin.editorPlugin.controls.enabled=!0,!this.moving){this.dom.removeEventListener("pointerup",this.onMouseUpPhase1),this.dom.removeEventListener("pointermove",this.onMouseMovePhase1),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp);return}this.moving=!1,this.updateMouse(n),this.oldMouse.copy(this.mouse),this.eye.copy(this.middlePosition).sub(this.camera.position),this.speed=this.eye.length()*.5,this.dom.removeEventListener("pointerdown",this.onMouseDownPhase1),this.dom.removeEventListener("pointerup",this.onMouseUpPhase1),this.dom.removeEventListener("pointermove",this.onMouseMovePhase1),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),this.createEntity(),this.box.visible=!1,this.continuous?this.drawPlugin.draw(this.drawPlugin.type):this.core.bus.emit("DRAW_FINISH",this.core)})}finish(){this.dom.removeEventListener("pointerdown",this.onMouseDownPhase1),this.dom.removeEventListener("pointerup",this.onMouseUpPhase1),this.dom.removeEventListener("pointermove",this.onMouseMovePhase1),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)}drawPlane(n,r){lt.setFromUnitVectors(_n,this.normal),Q.compose(n,lt,yn),Tt.copy(Q).invert();let{x:o,y:a}=Ot.copy(r).applyMatrix4(Tt);const s=Math.max(Math.abs(o),Math.abs(a));this.isSquare&&(o=o>0?s:-s,a=a>0?s:-s),ut.set(0,0,0).applyMatrix4(Q),dt.set(o,0,0).applyMatrix4(Q),ht.set(o,a,0).applyMatrix4(Q),ft.set(0,a,0).applyMatrix4(Q);const i=[...ut.toArray(),...dt.toArray(),...dt.toArray(),...ht.toArray(),...ht.toArray(),...ft.toArray(),...ft.toArray(),...ut.toArray()];this.box.geometry.setAttribute("position",new kn(i,3)),this.box.visible=!0,this.width=$t(Math.abs(o),2),this.height=$t(Math.abs(a),2),this.center.set(o,a,0).multiplyScalar(.5).applyMatrix4(Q),this.middlePosition.copy(Ot.setX(o).setY(a).applyMatrix4(Q))}createEntity(){const{x:n,y:r,z:o}=bn.setFromQuaternion(lt),a={position:this.center.toArray(),rotation:[n,r,o].map(gr.radToDeg),size:[this.width,this.height]},s=Bu(this.core,a);this.core.bus.emit("TRANSACTION_START"),this.core.addEntity(s),this.core.select([s]),this.core.bus.emit("TRANSACTION_END")}drawBox(){}}class A0 extends _r{constructor(t){super(t)}drawPlane(t,n){lt.setFromUnitVectors(_n,this.normal),Q.compose(t,lt,yn),Tt.copy(Q).invert();let{x:r,y:o}=Ot.copy(n).applyMatrix4(Tt);const a=Math.max(Math.abs(r),Math.abs(o));this.isSquare&&(r=r>0?a:-a,o=o>0?a:-a),ut.set(0,0,0).applyMatrix4(Q),dt.set(r,0,0).applyMatrix4(Q),ht.set(r,o,0).applyMatrix4(Q),ft.set(0,o,0).applyMatrix4(Q);const s=[...ut.toArray(),...dt.toArray(),...dt.toArray(),...ht.toArray(),...ht.toArray(),...ft.toArray(),...ft.toArray(),...ut.toArray()];this.box.geometry.setAttribute("position",new kn(s,3)),this.box.visible=!0,this.width=$t(Math.abs(r),2),this.height=$t(Math.abs(o),2),this.center.set(r,o,0).multiplyScalar(.5).applyMatrix4(Q),this.middlePosition.copy(Ot.setX(r).setY(o).applyMatrix4(Q))}drawBox(t,n,r){lt.setFromUnitVectors(_n,this.normal),Q.compose(t,lt,yn),Tt.copy(Q).invert();const{x:o,y:a}=Ot.copy(n).applyMatrix4(Tt),{z:s}=Ot.copy(r).applyMatrix4(Tt);ut.set(0,0,0).applyMatrix4(Q),dt.set(o,0,0).applyMatrix4(Q),ht.set(o,a,0).applyMatrix4(Q),ft.set(0,a,0).applyMatrix4(Q),jt.set(0,0,s).applyMatrix4(Q),Bt.set(o,0,s).applyMatrix4(Q),Ht.set(o,a,s).applyMatrix4(Q),Vt.set(0,a,s).applyMatrix4(Q);const i=[...ut.toArray(),...dt.toArray(),...dt.toArray(),...ht.toArray(),...ht.toArray(),...ft.toArray(),...ft.toArray(),...ut.toArray(),...ut.toArray(),...jt.toArray(),...dt.toArray(),...Bt.toArray(),...ht.toArray(),...Ht.toArray(),...ft.toArray(),...Vt.toArray(),...jt.toArray(),...Bt.toArray(),...Bt.toArray(),...Ht.toArray(),...Ht.toArray(),...Vt.toArray(),...Vt.toArray(),...jt.toArray()];this.box.geometry.setAttribute("position",new kn(i,3)),this.box.visible=!0,this.width=$t(Math.abs(o),2),this.height=$t(Math.abs(a),2),this.depth=$t(Math.abs(s),2),this.center.set(o,a,s).multiplyScalar(.5),bn.set(Math.PI*.5,0,0),lt.setFromEuler(bn),Yn.compose(this.center,lt,yn).premultiply(Q)}createEntity(){Yn.decompose(this.center,lt,Ot);const{x:t,y:n,z:r}=bn.setFromQuaternion(lt),o={position:this.center.toArray(),rotation:[t,n,r].map(gr.radToDeg),size:[this.width,this.depth,this.height]},a=Hu(this.core,o);this.core.bus.emit("TRANSACTION_START"),this.core.addEntity(a),this.core.select([a]),this.core.bus.emit("TRANSACTION_END")}}class P0 extends _r{constructor(t){super(t)}drawPlane(t,n){lt.setFromUnitVectors(_n,this.normal),Q.compose(t,lt,yn),Tt.copy(Q).invert();let{x:r,y:o}=Ot.copy(n).applyMatrix4(Tt);const a=Math.max(Math.abs(r),Math.abs(o));r=r>0?a:-a,o=o>0?a:-a,ut.set(0,0,0).applyMatrix4(Q),dt.set(r,0,0).applyMatrix4(Q),ht.set(r,o,0).applyMatrix4(Q),ft.set(0,o,0).applyMatrix4(Q);const s=[...ut.toArray(),...dt.toArray(),...dt.toArray(),...ht.toArray(),...ht.toArray(),...ft.toArray(),...ft.toArray(),...ut.toArray()],i=r*.5,l=o*.5,u=new Ar;u.moveTo(i,l),u.arc(0,0,i,0,Math.PI*2);const d=u.getPoints().map(h=>{const p=new Ft(h.x,h.y,0);return p.applyMatrix4(Q),p});this.circle.geometry.setFromPoints(d),this.circle.visible=!0,jt.set(i,0,0).applyMatrix4(Q),Bt.set(i,o,0).applyMatrix4(Q),Ht.set(0,l,0).applyMatrix4(Q),Vt.set(r,l,0).applyMatrix4(Q),s.push(...jt.toArray(),...Bt.toArray(),...Ht.toArray(),...Vt.toArray()),this.box.geometry.setAttribute("position",new kn(s,3)),this.box.visible=!0,this.width=$t(Math.abs(r),2),this.height=$t(Math.abs(o),2),this.center.set(r,o,0).multiplyScalar(.5).applyMatrix4(Q),this.middlePosition.copy(Ot.setX(r).setY(o).applyMatrix4(Q))}drawBox(t,n,r){lt.setFromUnitVectors(_n,this.normal),Q.compose(t,lt,yn),Tt.copy(Q).invert();const{x:o,y:a}=Ot.copy(n).applyMatrix4(Tt),{z:s}=Ot.copy(r).applyMatrix4(Tt);ut.set(0,0,0).applyMatrix4(Q),dt.set(o,0,0).applyMatrix4(Q),ht.set(o,a,0).applyMatrix4(Q),ft.set(0,a,0).applyMatrix4(Q),jt.set(0,0,s).applyMatrix4(Q),Bt.set(o,0,s).applyMatrix4(Q),Ht.set(o,a,s).applyMatrix4(Q),Vt.set(0,a,s).applyMatrix4(Q);const i=[...ut.toArray(),...dt.toArray(),...dt.toArray(),...ht.toArray(),...ht.toArray(),...ft.toArray(),...ft.toArray(),...ut.toArray(),...ut.toArray(),...jt.toArray(),...dt.toArray(),...Bt.toArray(),...ht.toArray(),...Ht.toArray(),...ft.toArray(),...Vt.toArray(),...jt.toArray(),...Bt.toArray(),...Bt.toArray(),...Ht.toArray(),...Ht.toArray(),...Vt.toArray(),...Vt.toArray(),...jt.toArray()],l=o*.5,u=a*.5,d=new Ar;d.moveTo(l,u),d.arc(0,0,l,0,Math.PI*2);const h=d.getPoints().map(p=>{const f=new Ft(p.x,p.y,0);return f.applyMatrix4(Q),f});this.circle.geometry.setFromPoints(h),this.circle.visible=!0,ut.set(l,0,0).applyMatrix4(Q),dt.set(l,u,s).applyMatrix4(Q),ht.set(o,u,0).applyMatrix4(Q),ft.set(l,u,s).applyMatrix4(Q),jt.set(l,a,0).applyMatrix4(Q),Bt.set(l,u,s).applyMatrix4(Q),Ht.set(0,u,0).applyMatrix4(Q),Vt.set(l,u,s).applyMatrix4(Q),i.push(...ut.toArray(),...dt.toArray(),...ht.toArray(),...ft.toArray(),...jt.toArray(),...Bt.toArray(),...Ht.toArray(),...Vt.toArray()),this.box.geometry.setAttribute("position",new kn(i,3)),this.box.visible=!0,this.width=$t(Math.abs(o),2),this.height=$t(Math.abs(a),2),this.depth=$t(Math.abs(s),2),this.center.set(o,a,s).multiplyScalar(.5),bn.set(Math.PI*.5,0,0),lt.setFromEuler(bn),Yn.compose(this.center,lt,yn).premultiply(Q)}createEntity(){Yn.decompose(this.center,lt,Ot);const{x:t,y:n,z:r}=bn.setFromQuaternion(lt),o={position:this.center.toArray(),rotation:[t,n,r].map(gr.radToDeg),radius:$t(this.width*.5,2),height:this.depth},a=Vu(this.core,o);this.core.bus.emit("TRANSACTION_START"),this.core.addEntity(a),this.core.select([a]),this.core.bus.emit("TRANSACTION_END")}}class R0 extends _r{constructor(t){super(t)}drawPlane(t,n){lt.setFromUnitVectors(_n,this.normal),Q.compose(t,lt,yn),Tt.copy(Q).invert();let{x:r,y:o}=Ot.copy(n).applyMatrix4(Tt);const a=Math.max(Math.abs(r),Math.abs(o));r=r>0?a:-a,o=o>0?a:-a,ut.set(0,0,0).applyMatrix4(Q),dt.set(r,0,0).applyMatrix4(Q),ht.set(r,o,0).applyMatrix4(Q),ft.set(0,o,0).applyMatrix4(Q);const s=[...ut.toArray(),...dt.toArray(),...dt.toArray(),...ht.toArray(),...ht.toArray(),...ft.toArray(),...ft.toArray(),...ut.toArray()],i=r*.5,l=o*.5,u=new Ar;u.moveTo(i,l),u.arc(0,0,i,0,Math.PI*2);const d=u.getPoints().map(h=>{const p=new Ft(h.x,h.y,0);return p.applyMatrix4(Q),p});this.circle.geometry.setFromPoints(d),this.circle.visible=!0,this.box.geometry.setAttribute("position",new kn(s,3)),this.box.visible=!0,this.width=$t(Math.abs(r),2),this.height=$t(Math.abs(o),2),this.center.set(r,o,0).multiplyScalar(.5).applyMatrix4(Q),this.middlePosition.copy(Ot.setX(r).setY(o).applyMatrix4(Q))}drawBox(t,n,r){lt.setFromUnitVectors(_n,this.normal),Q.compose(t,lt,yn),Tt.copy(Q).invert();const{x:o,y:a}=Ot.copy(n).applyMatrix4(Tt),{z:s}=Ot.copy(r).applyMatrix4(Tt);ut.set(0,0,0).applyMatrix4(Q),dt.set(o,0,0).applyMatrix4(Q),ht.set(o,a,0).applyMatrix4(Q),ft.set(0,a,0).applyMatrix4(Q),jt.set(0,0,s).applyMatrix4(Q),Bt.set(o,0,s).applyMatrix4(Q),Ht.set(o,a,s).applyMatrix4(Q),Vt.set(0,a,s).applyMatrix4(Q);const i=[...ut.toArray(),...dt.toArray(),...dt.toArray(),...ht.toArray(),...ht.toArray(),...ft.toArray(),...ft.toArray(),...ut.toArray(),...ut.toArray(),...jt.toArray(),...dt.toArray(),...Bt.toArray(),...ht.toArray(),...Ht.toArray(),...ft.toArray(),...Vt.toArray(),...jt.toArray(),...Bt.toArray(),...Bt.toArray(),...Ht.toArray(),...Ht.toArray(),...Vt.toArray(),...Vt.toArray(),...jt.toArray()],l=o*.5,u=a*.5,d=new Ar;d.moveTo(l,u),d.arc(0,0,l,0,Math.PI*2);const h=d.getPoints().map(m=>{const g=new Ft(m.x,m.y,0);return g.applyMatrix4(Q),g}),[p,f,v]=this.center.set(l,u,s).applyMatrix4(Q).toArray();this.circle.geometry.setFromPoints(h),this.circle.visible=!0,this.circle1.geometry.setFromPoints(h),this.circle1.geometry.center().translate(p,f,v),this.circle1.visible=!0,this.box.geometry.setAttribute("position",new kn(i,3)),this.box.visible=!0,this.width=$t(Math.abs(o),2),this.height=$t(Math.abs(a),2),this.depth=$t(Math.abs(s),2),this.center.set(o,a,s).multiplyScalar(.5),bn.set(Math.PI*.5,0,0),lt.setFromEuler(bn),Yn.compose(this.center,lt,yn).premultiply(Q)}createEntity(){Yn.decompose(this.center,lt,Ot);const{x:t,y:n,z:r}=bn.setFromQuaternion(lt),o={position:this.center.toArray(),rotation:[t,n,r].map(gr.radToDeg),radiusTop:$t(this.width*.5,2),radiusBottom:$t(this.width*.5,2),height:this.depth},a=Ku(this.core,o);this.core.bus.emit("TRANSACTION_START"),this.core.addEntity(a),this.core.select([a]),this.core.bus.emit("TRANSACTION_END")}}class D0 extends _r{constructor(t){super(t)}drawPlane(t,n){lt.setFromUnitVectors(_n,this.normal),Q.compose(t,lt,yn),Tt.copy(Q).invert();let{x:r,y:o}=Ot.copy(n).applyMatrix4(Tt);const a=Math.max(Math.abs(r),Math.abs(o));r=r>0?a:-a,o=o>0?a:-a,ut.set(0,0,0).applyMatrix4(Q),dt.set(r,0,0).applyMatrix4(Q),ht.set(r,o,0).applyMatrix4(Q),ft.set(0,o,0).applyMatrix4(Q);const s=[...ut.toArray(),...dt.toArray(),...dt.toArray(),...ht.toArray(),...ht.toArray(),...ft.toArray(),...ft.toArray(),...ut.toArray()],i=r*.5,l=o*.5,u=new Ar;u.moveTo(i,l),u.arc(0,0,i,0,Math.PI*2);const d=u.getPoints().map(h=>{const p=new Ft(h.x,h.y,0);return p.applyMatrix4(Q),p});this.circle.geometry.setFromPoints(d),this.circle.visible=!0,jt.set(i,0,0).applyMatrix4(Q),Bt.set(i,o,0).applyMatrix4(Q),Ht.set(0,l,0).applyMatrix4(Q),Vt.set(r,l,0).applyMatrix4(Q),s.push(...jt.toArray(),...Bt.toArray(),...Ht.toArray(),...Vt.toArray()),this.box.geometry.setAttribute("position",new kn(s,3)),this.box.visible=!0,this.width=$t(Math.abs(r),2),this.height=$t(Math.abs(o),2),this.center.set(r,o,0).multiplyScalar(.5).applyMatrix4(Q),this.middlePosition.copy(Ot.setX(r).setY(o).applyMatrix4(Q))}drawBox(t,n,r){lt.setFromUnitVectors(_n,this.normal),Q.compose(t,lt,yn),Tt.copy(Q).invert();const{x:o,y:a}=Ot.copy(n).applyMatrix4(Tt);let{z:s}=Ot.copy(r).applyMatrix4(Tt);s=s>0?Math.abs(o):-Math.abs(o),ut.set(0,0,0).applyMatrix4(Q),dt.set(o,0,0).applyMatrix4(Q),ht.set(o,a,0).applyMatrix4(Q),ft.set(0,a,0).applyMatrix4(Q),jt.set(0,0,s).applyMatrix4(Q),Bt.set(o,0,s).applyMatrix4(Q),Ht.set(o,a,s).applyMatrix4(Q),Vt.set(0,a,s).applyMatrix4(Q);const i=[...ut.toArray(),...dt.toArray(),...dt.toArray(),...ht.toArray(),...ht.toArray(),...ft.toArray(),...ft.toArray(),...ut.toArray(),...ut.toArray(),...jt.toArray(),...dt.toArray(),...Bt.toArray(),...ht.toArray(),...Ht.toArray(),...ft.toArray(),...Vt.toArray(),...jt.toArray(),...Bt.toArray(),...Bt.toArray(),...Ht.toArray(),...Ht.toArray(),...Vt.toArray(),...Vt.toArray(),...jt.toArray()],l=o*.5,u=a*.5,d=new Ar;d.moveTo(l,u),d.arc(0,0,l,0,Math.PI*2);const h=d.getPoints().map(m=>{const g=new Ft(m.x,m.y,s*.5);return g.applyMatrix4(Q),g}),[p,f,v]=this.center.set(l,u,s*.5).applyMatrix4(Q).toArray();this.circle.geometry.setFromPoints(h),this.circle1.geometry.setFromPoints(h),this.circle2.geometry.setFromPoints(h),this.circle.geometry.center().rotateX(-Math.PI*.5).translate(p,f,v),this.circle1.geometry.center().translate(p,f,v),this.circle2.geometry.center().rotateZ(-Math.PI*.5).translate(p,f,v),this.circle.visible=!0,this.circle1.visible=!0,this.circle2.visible=!0,this.box.geometry.setAttribute("position",new kn(i,3)),this.box.visible=!0,this.width=$t(Math.abs(o),2),this.height=$t(Math.abs(a),2),this.depth=$t(Math.abs(s),2),this.center.set(o,a,s).multiplyScalar(.5),bn.set(Math.PI*.5,0,0),lt.setFromEuler(bn),Yn.compose(this.center,lt,yn).premultiply(Q)}createEntity(){Yn.decompose(this.center,lt,Ot);const{x:t,y:n,z:r}=bn.setFromQuaternion(lt),o={position:this.center.toArray(),rotation:[t,n,r].map(gr.radToDeg),radius:$t(this.width*.5,2)},a=Fu(this.core,o);this.core.bus.emit("TRANSACTION_START"),this.core.addEntity(a),this.core.select([a]),this.core.bus.emit("TRANSACTION_END")}}class T0 extends _r{constructor(n){super(n);M(this,"onMouseUpPhase1",n=>{if(this.drawPlugin.editorPlugin.controls.enabled=!0,!this.moving){this.dom.removeEventListener("pointerup",this.onMouseUpPhase1),this.dom.removeEventListener("pointermove",this.onMouseMovePhase1),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp);return}this.moving=!1,this.updateMouse(n),this.oldMouse.copy(this.mouse),this.eye.copy(this.middlePosition).sub(this.camera.position),this.speed=this.eye.length()*.5,this.dom.removeEventListener("pointerdown",this.onMouseDownPhase1),this.dom.removeEventListener("pointerup",this.onMouseUpPhase1),this.dom.removeEventListener("pointermove",this.onMouseMovePhase1),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),this.createEntity(),this.box.visible=!1,this.continuous?this.drawPlugin.draw(this.drawPlugin.type):this.core.bus.emit("DRAW_FINISH",this.core)})}finish(){this.dom.removeEventListener("pointerdown",this.onMouseDownPhase1),this.dom.removeEventListener("pointerup",this.onMouseUpPhase1),this.dom.removeEventListener("pointermove",this.onMouseMovePhase1),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)}drawPlane(n,r){lt.setFromUnitVectors(_n,this.normal),Q.compose(n,lt,yn),Tt.copy(Q).invert();let{x:o,y:a}=Ot.copy(r).applyMatrix4(Tt);const s=Math.max(Math.abs(o),Math.abs(a));this.isSquare&&(o=o>0?s:-s,a=a>0?s:-s),ut.set(0,0,0).applyMatrix4(Q),dt.set(o,0,0).applyMatrix4(Q),ht.set(o,a,0).applyMatrix4(Q),ft.set(0,a,0).applyMatrix4(Q);const i=[...ut.toArray(),...dt.toArray(),...dt.toArray(),...ht.toArray(),...ht.toArray(),...ft.toArray(),...ft.toArray(),...ut.toArray()];this.box.geometry.setAttribute("position",new kn(i,3)),this.box.visible=!0,this.width=$t(Math.abs(o),2),this.height=$t(Math.abs(a),2),this.center.set(o,a,.002).multiplyScalar(.5).applyMatrix4(Q),this.middlePosition.copy(Ot.setX(o).setY(a).applyMatrix4(Q))}createEntity(){const{x:n,y:r,z:o}=bn.setFromQuaternion(lt),a={position:this.center.toArray(),rotation:[n,r,o].map(gr.radToDeg),size:[this.width,this.height]},s=Wu(this.core,a);this.core.bus.emit("TRANSACTION_START"),this.core.addEntity(s),this.core.select([s]),this.core.bus.emit("TRANSACTION_END")}drawBox(){}}class Hn extends Tr{constructor(n){super(n);M(this,"dom");M(this,"editorPlugin");M(this,"helperPlugin");M(this,"pivotPlugin");M(this,"selectionPlugin");M(this,"camera");M(this,"type");M(this,"continuous");M(this,"box");M(this,"circle");M(this,"circle1");M(this,"circle2");M(this,"grid");M(this,"tools");this.editorPlugin=n.getPlugin(Bn),this.helperPlugin=n.getPlugin(Ua),this.pivotPlugin=n.getPlugin(kr),this.selectionPlugin=n.getPlugin(sl),this.camera=this.editorPlugin.camera,this.continuous=!1,this.type=vt.Box,this.dom=n.render.container;const r=new Gu,o=new ol({color:"#ffaa00"});this.box=new Uu(r,o),this.circle=new Yo(r.clone(),o),this.circle1=new Yo(r.clone(),o),this.circle2=new Yo(r.clone(),o),this.helperPlugin.scene.add(this.box),this.helperPlugin.scene.add(this.circle),this.helperPlugin.scene.add(this.circle1),this.helperPlugin.scene.add(this.circle2),this.grid=new qu(this.core.render,this.camera),this.helperPlugin.scene.add(this.grid.grid),this.tools={[vt.Plane]:new O0(this),[vt.Box]:new A0(this),[vt.Cone]:new P0(this),[vt.Cylinder]:new R0(this),[vt.Sphere]:new D0(this),[vt.Pipe]:new Xu(this),[vt.Text]:new T0(this)}}unmount(){Br(this.box),Br(this.circle),Br(this.circle1),Br(this.circle2),this.grid.dispose()}draw(n){this.type=n,this.pivotPlugin.setEnabled(!1),this.selectionPlugin.setEnabled(!1),this.tools[n].start()}finish(){this.box.visible=!1,this.circle.visible=!1,this.circle1.visible=!1,this.circle2.visible=!1,this.grid.hide(),this.pivotPlugin.setEnabled(!0),this.selectionPlugin.setEnabled(!0),this.tools[this.type].finish()}getObjects(){const{scene:n}=this.core.render,r=[];return n.traverseVisible(o=>r.push(o)),r}}class _0 extends Tr{constructor(n){super(n);M(this,"editorPlugin");M(this,"viewHelper");M(this,"container");M(this,"onPointerUp",n=>{n.stopPropagation(),this.viewHelper.handleClick(n)});M(this,"onPointerDown",n=>{n.stopPropagation()});this.editorPlugin=n.getPlugin(Bn);const{camera:r,controls:o}=this.editorPlugin;this.viewHelper=new I0(r,n.container),this.viewHelper.setLabels("X","Y","Z"),this.viewHelper.center=o.target,this.container=document.createElement("div"),this.container.style.position="absolute",this.container.style.right="0px",this.container.style.bottom="0px",this.container.style.width="128px",this.container.style.height="128px",n.container.appendChild(this.container),this.container.addEventListener("pointerup",this.onPointerUp),this.container.addEventListener("pointerdown",this.onPointerDown)}render(n){this.viewHelper.animating&&this.viewHelper.update(n),this.viewHelper.render(this.core.render.renderer)}unmount(){this.viewHelper.dispose(),this.container.removeEventListener("pointerup",this.onPointerUp),this.container.removeEventListener("pointerdown",this.onPointerDown),this.container.remove()}}const k0=["position","rotation","scale"];class L0 extends Tr{constructor(n){super(n);M(this,"outlines");M(this,"helperPlugin");M(this,"onEntitiesSelect",n=>{this.attach(n.entities)});M(this,"onEntityRendered",()=>{this.attach(this.core.selections)});M(this,"onEntityChange",n=>{const{entity:r,key:o}=n,a=this.outlines.get(r);if(a&&k0.includes(o)){a.box.makeEmpty();const s=Oi(r.object3d,r.children.map(i=>i.object3d),!1);r.object3d.updateMatrixWorld(),s.forEach(i=>a.box.expandByObject(i,!0))}});this.outlines=new Map,this.helperPlugin=this.core.getPlugin(Ua),n.bus.on("ENTITY_SELECTED",this.onEntitiesSelect),n.bus.on("ENTITY_RENDERED",this.onEntityRendered),n.bus.on("ENTITY_CHANGED",this.onEntityChange)}attach(n){this.outlines.forEach(r=>r.visible=!1),n.forEach(r=>{let o=this.outlines.get(r);if(o==null){o=new Yu(new ko);const s=o.material;s.color.set("#396efe"),s.depthTest=!1,s.transparent=!0,this.helperPlugin.scene.add(o),this.outlines.set(r,o)}o.box.makeEmpty();const a=Oi(r.object3d,r.children.map(s=>s.object3d),!1);r.object3d.updateMatrixWorld(),a.forEach(s=>o.box.expandByObject(s)),o.visible=!o.box.isEmpty()})}unmount(){this.outlines.forEach(n=>{n.dispose(),n.removeFromParent()}),this.outlines.clear(),this.core.bus.off("ENTITY_SELECTED",this.onEntitiesSelect),this.core.bus.off("ENTITY_RENDERED",this.onEntityRendered),this.core.bus.off("ENTITY_CHANGED",this.onEntityChange)}}class z0{constructor(t){M(this,"core");M(this,"camera");M(this,"controls");M(this,"editorPlugin");M(this,"box");M(this,"sphere");M(this,"center");M(this,"delta");M(this,"model");this.core=new ll(t),this.editorPlugin=new Bn(this.core),this.core.use(this.editorPlugin),this.camera=this.editorPlugin.camera,this.controls=this.editorPlugin.controls,this.camera.far=1e7,this.box=new ko,this.sphere=new il,this.center=new Ft,this.delta=new Ft;const n=new Zu,r=new Zo("white",3),o=new Zo("white",3),a=new Zo("white",3);r.position.set(0,200,0),o.position.set(100,200,100),a.position.set(-100,-200,-100),this.core.render.addObject(n),this.core.render.addObject(r),this.core.render.addObject(o),this.core.render.addObject(a)}mount(t){this.core.mount(t)}async preview(t){this.model&&(this.core.render.removeObject(this.model),Br(this.model)),this.model=await this.core.modelManager.loadModel(t),this.core.render.addObject(this.model),this.focus(this.model)}focus(t){let n;this.box.makeEmpty(),Ga([t],this.box),this.box.isEmpty()?(this.center.setFromMatrixPosition(t.matrixWorld),n=1):(this.box.getCenter(this.center),n=this.box.getBoundingSphere(this.sphere).radius),this.delta.set(0,0,1),this.delta.applyQuaternion(this.camera.quaternion),this.delta.multiplyScalar(n*4),this.controls.target.copy(this.center),this.camera.position.copy(this.center).add(this.delta)}dispose(){this.core.unmount()}async toImage(){return await this.editorPlugin.toImage()}}const j0=c.forwardRef((e,t)=>{const{file:n,mtl:r=""}=e,o=c.useRef(null),[a,s]=c.useState();return c.useEffect(()=>{const i=new z0({});return i.mount(o.current),i.core.resize(),s(i),()=>{i.dispose(),s(void 0)}},[]),c.useEffect(()=>{n&&(a==null||a.preview({file:n,mtl:r}))},[n,r]),c.useImperativeHandle(t,()=>({toImage:async()=>a==null?void 0:a.toImage()}),[a]),F.jsx("div",{ref:o,style:{width:"100%",height:"100%",background:"#000"}})}),B0=e=>{const{parent:t,data:n,visible:r,setVisible:o,onConfirm:a}=e,[s]=zr.useForm(),[i,l]=c.useState(!1),[u,d]=c.useState(""),[h,p]=c.useState(""),f=c.useRef();c.useEffect(()=>{if(!n)return;const{file:y,mtl:b}=JSON.parse(n.content);s.setFieldsValue({name:n.name,file:y,mtl:b}),d(y),p(b)},[n,s]);const v=()=>s.submit(),m=()=>o(!1),g=async y=>{const{name:b,file:S,mtl:C}=y,x=JSON.stringify({file:S,mtl:C}),N=await f.current.toImage();l(!0),n?(await Qu(n.code,N,x),o(!1),a()):(await Ju(b,N,x,t),o(!1),a()),l(!1)};return F.jsx(ul,{width:800,title:n?"编辑模型":'"创建模型"',open:r,loading:i,onOk:v,onCancel:m,children:F.jsxs(Za,{gutter:16,children:[F.jsx(sr,{span:12,children:F.jsxs(zr,{form:s,layout:"vertical",onFinish:g,children:[F.jsx(zr.Item,{label:"模型名称",name:"name",rules:[{required:!0,message:"请输入模型名称"}],children:F.jsx(Lo,{disabled:!!n,placeholder:"请输入模型名称"})}),F.jsx(zr.Item,{label:"模型文件",name:"file",rules:[{required:!0,message:"请输入模型文件"}],children:F.jsx(Da,{type:"obj,glb,fbx",placeholder:"请选择模型文件",onChange:d})}),F.jsx(zr.Item,{label:"材质文件",name:"mtl",children:F.jsx(Da,{type:"mtl",placeholder:"请选择材质文件",onChange:p})})]})}),F.jsx(sr,{span:12,children:F.jsx(j0,{ref:f,file:u,mtl:h})})]})})},H0=[{label:"新建文件夹",key:"folder"},{label:"新建模型",key:"model"}],V0=()=>{const[e,t]=Fa.useMessage(),[n,r]=c.useState([]),[o,a]=c.useState(""),[s,i]=c.useState(""),[l,u]=c.useState([]),[d,h]=c.useState(!1),[p,f]=c.useState(),v=async w=>{const $=await ed(w);r($)};c.useEffect(()=>{v("")},[]);const m=w=>{if(w!==s)if(!w)u([]),i(""),v("");else{const $=l.findIndex(P=>P.code===w);l.splice($+1,l.length-1-$),u([...l]),i(w),v(w)}},g=async({key:w})=>{w==="folder"?(await td(s,"文件夹"),await v(s),e.info("添加成功")):w==="model"&&(h(!0),f(void 0))},y=w=>a(w.code),b=async w=>{w.type==="folder"?(await v(w.code),l.push(w),u([...l]),i(w.code)):(f(w),h(!0))},S=async(w,$)=>{await rd(w.code,$),await v(s)},C=(w,$)=>{const P={type:"model",item:$};w.dataTransfer.setData("text",JSON.stringify(P))},x=async w=>{await nd(w.code),await v(s)},N=()=>v(s);return F.jsxs(F.Fragment,{children:[t,F.jsx($c,{parent:s,parents:l,onClick:m}),F.jsx(Ka,{menu:{items:H0,onClick:g},trigger:["contextMenu"],children:F.jsx("div",{className:Ls.container,children:F.jsx("div",{className:Ls.content,children:n.map(w=>F.jsx(Ic,{asset:w,draggable:w.type==="file",active:o===w.code,onClick:y,onDoubleClick:b,onRename:S,onDelete:x,onDragStart:$=>C($,w)},w.code))})})}),d&&F.jsx(B0,{data:p,parent:s,visible:d,setVisible:h,onConfirm:N})]})},K0=()=>{const[e,t]=c.useState("models");return F.jsxs("div",{className:gn.container,children:[F.jsxs("div",{className:gn.title,children:[F.jsx("span",{className:"iconfont icon-assets"}),F.jsx("span",{style:{marginLeft:4,fontSize:"12px",verticalAlign:"0.2em"},children:"Assets"})]}),F.jsxs("div",{className:gn.body,children:[F.jsxs("div",{className:gn.left,children:[F.jsxs("div",{className:`${gn.tag} ${e==="models"?gn.selected:""}`,onClick:()=>t("models"),children:[F.jsx("span",{className:"iconfont icon-model"}),F.jsx("span",{className:gn.tagName,children:"模型"})]}),F.jsxs("div",{className:`${gn.tag} ${e==="materials"?gn.selected:""}`,onClick:()=>t("materials"),children:[F.jsx("span",{className:"iconfont icon-material"}),F.jsx("span",{className:gn.tagName,children:"材质"})]}),F.jsxs("div",{className:`${gn.tag} ${e==="assets"?gn.selected:""}`,onClick:()=>t("assets"),children:[F.jsx("span",{className:"iconfont icon-file"}),F.jsx("span",{className:gn.tagName,children:"资源"})]})]}),F.jsxs("div",{className:gn.right,children:[e==="models"&&F.jsx(V0,{}),e==="materials"&&F.jsx(N0,{}),e==="assets"&&F.jsx(E0,{})]})]})]})},F0="_container_15a0b_1",W0="_title_15a0b_10",G0="_body_15a0b_16",fa={container:F0,title:W0,body:G0};class U0{constructor(t){this.parent=t,this.container=document.createElement("div"),this.container.className="attribute-item-label",this.label=document.createElement("div"),this.label.className="attribute-item-label-name",this.container.appendChild(this.label)}hide(){delete this.item}show(t){const{attribute:n,tip:r}=t,{label:o,hiddenLabel:a}=n;this.item=t,this.label.textContent=o,this.label.title=r||o,this.container.style.display=a?"none":"flex"}dispose(){delete this.item}}const D={BASE:{key:"base",name:"基础"},COMPONENTS:{key:"components",name:"组件"},CONTROL:{key:"control",name:"控制"},BACKGROUND:{key:"background",name:"背景"},ENVIRONMENT:{key:"environment",name:"环境"},FOG:{key:"fog",name:"雾"},GRID:{key:"grid",name:"网格"},TRANSFORM:{key:"transform",name:"变换"},TEXT:{key:"text",name:"文本"}},ee={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",ENUM:"enum",COLOR:"color",VECTOR2:"vector2",VECTOR3:"vector3",SCRIPT:"script",ASSET:"asset"},q0=["Arial","Arial Black","Arial Narrow","Algerian","Bookman Old Style","Bahnschrift Light","Baskerville Old Face","Bauhaus 93","Bell MT","Cursive","Century","Century Gothic","Comic Sans MS","Courier","Courier New","Calibri","Calibri Light","fantasy","Georgia","Gabriola","Garamond","Informal Roman","Impact","Lucida Bright","Lucida Console","Lucida Sans Unicode","monospace","Microsoft Uighur","Monotype Corsiva","MS Sans Serif","MS Serif","Palatino Linotype","serif","sans-serif","Tahoma","Times","Times New Roman","Trebuchet MS","Verdana","等线","等线 Light","仿宋","华文中宋","华文仿宋","华文宋体","华文彩云","华文新魏","华文楷体","华文琥珀","华文细黑","华文行楷","华文隶书","宋体","幼圆","微软雅黑","黑体","新宋体","方正姚体","方正舒体","楷体","隶书"].map(e=>({label:e,value:e})),X0=[{label:"常规",value:"normal"},{label:"粗体",value:"bold"},{label:"斜体",value:"italic"},{label:"粗斜体",value:"italic bold"}];var jn=(e=>(e.Default="Default",e.Component="Component",e))(jn||{}),Ho=(e=>(e.GRAPH="graph",e.ATTR_COMPONENT="attrComponent",e.HIERARCHY="hierarchy",e))(Ho||{});class Wn{constructor(t,n,r){M(this,"editor");M(this,"attribute");M(this,"callbacks");M(this,"targets");M(this,"target");M(this,"key");M(this,"bindCallback");this.editor=t,this.attribute=n,this.targets=r,this.target=r[r.length-1],this.key=n.key,this.callbacks=[]}setTargets(t){this.targets=t,this.target=t[t.length-1]}listen(t){this.callbacks.includes(t)||this.callbacks.push(t)}unlisten(t){const n=this.callbacks.indexOf(t);n>=0&&this.callbacks.splice(n,1)}update(){this.callbacks.forEach(t=>t(this.getter()))}getter(){return this.attribute.getter(this.target)}setter(t){this.editor.historyManager.beginTransaction();for(const n of this.targets)this.attribute.setter(n,t);this.editor.historyManager.endTransaction()}get visible(){return!0}get group(){return this.attribute.group}get groupName(){return this.attribute.groupName}get disabled(){const{disabled:t}=this.attribute;return typeof t=="function"?t(this.target):t}get text(){return this.attribute.text}get options(){return this.attribute.options}get min(){const{min:t}=this.attribute;return typeof t=="function"?t(this.target):t}get max(){const{max:t}=this.attribute;return typeof t=="function"?t(this.target):t}get precision(){return this.attribute.precision}get step(){return this.attribute.step}get tip(){return this.attribute.tip}get assetType(){return this.attribute.assetType}get disableAlpha(){return this.attribute.disableAlpha}}class Y0{constructor(t,n,r){M(this,"editor");M(this,"nodeAttr");M(this,"viewAttr");M(this,"groups");M(this,"activeGroups");this.editor=t,this.nodeAttr=n,this.viewAttr=r,this.groups=[],this.activeGroups=[]}refresh(){const t=[],n=[];let r=this.editor.selectionManager.getLastSelection();const o=[];r?(t.push(...this.editor.selectionManager.getSelection()),n.push(...this.nodeAttr.getAttributes(r)),o.push(...this.nodeAttr.getGroups(r)),this.activeGroups=[...this.nodeAttr.activeGroups]):(r=this.editor.selectionManager.getView(),t.push(r),n.push(...this.viewAttr.getAttributes(r)),o.push(...this.viewAttr.getGroups(r)),this.activeGroups=[...this.viewAttr.activeGroups]),o.forEach(a=>a.attributes.forEach(s=>s.setTargets(t))),this.groups=[];for(const a of n){a.setTargets(t);const s=this.groups.find(i=>i.group===a.group);if(s)s.attributes.push(a);else{const{group:i,groupName:l}=a;this.groups.push({editor:this.editor,group:i,groupName:l,type:jn.Default,attributes:[a]})}}return this.groups.push(...o),this.groups}update(){for(const t of this.groups)for(const n of t.attributes)n.update()}dispose(){this.groups=[]}}const zs=e=>{const{ctrlKey:t=!1,shiftKey:n=!1,altKey:r=!1,metaKey:o=!1}=e;return`${t?"ctrl+":""}${o?"meta+":""}${n?"shift+":""}${r?"alt+":""}${e.code}`};class Z0{constructor(t,n){M(this,"editor");M(this,"keyEvents");M(this,"handleAction",t=>{if(t.altKey&&t.preventDefault(),!(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)){for(const n of this.keyEvents)if(this.isKeyMatch(n.key,t)){t.preventDefault(),n.action(this.editor),console.log(`[${zs(t)}] => ${n.actionName}`);return}console.log(`[${zs(t)}] => no match`)}});this.editor=t,this.keyEvents=n}active(){document.addEventListener("keydown",this.handleAction)}deactive(){document.removeEventListener("keydown",this.handleAction)}isKeyMatch(t,n){if(Array.isArray(t))return t.some(i=>this.isKeyMatch(i,n));if(t.keyCode=="*")return!0;const{ctrlKey:r=!1,shiftKey:o=!1,altKey:a=!1,metaKey:s=!1}=t;return r==n.ctrlKey&&o==n.shiftKey&&a==n.altKey&&s==n.metaKey&&t.keyCode==n.code}dispose(){this.keyEvents=[],document.removeEventListener("keydown",this.handleAction)}}class Q0{constructor(t){M(this,"editor");this.editor=t}refresh(){const t=this.editor.core.entityManager.root;return this.getNodes(t.children)}getNodes(t){const n=[];return t.forEach(r=>{const{id:o,name:a,type:s,visible:i,children:l}=r,u={id:o,name:a,type:s,visible:i,children:this.getNodes(l)};n.push(u)}),n}getNode(t){return this.editor.core.entityManager.getEntity(t)}removeNode(t){const n=this.editor.core.entityManager.getEntity(t);n&&(this.editor.historyManager.beginTransaction(),this.editor.core.removeEntity(n),this.editor.core.select([]),this.editor.historyManager.endTransaction())}updateNode(t,n,r){const o=this.editor.core.entityManager.getEntity(t);o==null||o.setAttr(n,r)}moveNodes(t,n,r){this.editor.historyManager.beginTransaction(),r==="before"?t.forEach(o=>{this.moveNode(o,n,r)}):t.reverse().forEach(o=>{this.moveNode(o,n,r)}),this.editor.historyManager.endTransaction()}moveNode(t,n,r){const o=this.getNode(t),a=this.getNode(n);if(!o||!a)return;let s,i;const l=o.parent,u=a.parent,d=l.children.indexOf(o),h=u.children.indexOf(a);r==="body"?(s=a,i=a==null?void 0:a.children.length):r==="before"?(s=u,l===u?d>h?i=h+1:i=h:i=h+1):r==="after"&&(s=u,u===l?d>h?i=h:i=h-1:i=h),this.editor.core.moveEntity(o,s,i)}}class Dt{constructor(t){M(this,"key");M(this,"editor");this.key=Ad(),this.editor=t}mount(){}deactive(){}}class J0 extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");this.title="恢复",this.icon="huifu"}active(){this.editor.historyManager.redo()}}class ey extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");this.title="撤销",this.icon="chexiao"}active(){this.editor.historyManager.undo()}}class ty extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");M(this,"plugin");M(this,"actived");this.title="平面",this.icon="plane",this.actived=!1,this.plugin=n.core.getPlugin(Hn)}active(){this.actived=!0,this.plugin.draw(vt.Plane)}deactive(){this.actived=!1,this.plugin.finish()}}class ny extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");M(this,"actived");M(this,"plugin");this.title="立方体",this.icon="box",this.actived=!1,this.plugin=n.core.getPlugin(Hn)}active(){this.actived=!0,this.plugin.draw(vt.Box)}deactive(){this.actived=!1,this.plugin.finish()}}class ry extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");M(this,"plugin");M(this,"actived");this.title="圆锥",this.icon="cone",this.actived=!1,this.plugin=n.core.getPlugin(Hn)}active(){this.actived=!0,this.plugin.draw(vt.Cone)}deactive(){this.actived=!1,this.plugin.finish()}}class oy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");M(this,"plugin");M(this,"actived");this.title="圆柱",this.icon="cylinder",this.actived=!1,this.plugin=n.core.getPlugin(Hn)}active(){this.actived=!0,this.plugin.draw(vt.Cylinder)}deactive(){this.actived=!1,this.plugin.finish()}}class ay extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");M(this,"plugin");M(this,"actived");this.title="球体",this.icon="sphere",this.actived=!1,this.plugin=n.core.getPlugin(Hn)}active(){this.actived=!0,this.plugin.draw(vt.Sphere)}deactive(){this.actived=!1,this.plugin.finish()}}class iy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");M(this,"actived");M(this,"plugin");this.title="管道",this.icon="pipe",this.actived=!1,this.plugin=n.core.getPlugin(Hn)}active(){this.actived=!0,this.plugin.draw(vt.Pipe)}deactive(){this.actived=!1,this.plugin.finish()}}class sy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");this.title="环境光",this.icon="ambient-light"}active(){const n=od(this.editor.core,{});this.editor.historyManager.beginTransaction(),this.editor.core.addEntity(n),this.editor.core.select([n]),this.editor.historyManager.endTransaction()}}class ly extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");this.title="平行光",this.icon="directional-light"}async active(){const n=ad(this.editor.core,{});this.editor.historyManager.beginTransaction(),this.editor.core.addEntity(n),this.editor.core.select([n]),this.editor.historyManager.endTransaction()}}class cy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");this.title="预览",this.icon="preview"}active(){this.editor.preview()}}class uy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");M(this,"doubleConfirm");this.title="重新加载",this.icon="reload",this.doubleConfirm=!0}active(){this.editor.reload()}}class dy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");this.title="保存",this.icon="save"}active(){this.editor.save()}}class hy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");M(this,"plugin");this.title="移动",this.icon="translate",this.plugin=n.core.getPlugin(kr)}get actived(){return this.plugin.controls.getMode()==="translate"}async active(){this.plugin.controls.setMode("translate")}}class fy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");M(this,"plugin");this.title="旋转",this.icon="rotate",this.plugin=n.core.getPlugin(kr)}get actived(){return this.plugin.controls.getMode()==="rotate"}async active(){this.plugin.controls.setMode("rotate")}}class py extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");M(this,"plugin");this.title="缩放",this.icon="scale",this.plugin=n.core.getPlugin(kr)}get actived(){return this.plugin.controls.getMode()==="scale"}async active(){this.plugin.controls.setMode("scale")}}class gy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");this.title="半球光",this.icon="hemisphere-light"}active(){const n=id(this.editor.core,{});this.editor.historyManager.beginTransaction(),this.editor.core.addEntity(n),this.editor.core.select([n]),this.editor.historyManager.endTransaction()}}class my extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");this.title="透视相机",this.icon="perspective-camera"}active(){const n=sd(this.editor.core,{});this.editor.historyManager.beginTransaction(),this.editor.core.addEntity(n),this.editor.core.select([n]),this.editor.historyManager.endTransaction()}}class vy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");this.title="正交相机",this.icon="orthographic-camera"}active(){const n=ld(this.editor.core,{});this.editor.historyManager.beginTransaction(),this.editor.core.addEntity(n),this.editor.core.select([n]),this.editor.historyManager.endTransaction()}}class yy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");M(this,"actived");M(this,"plugin");this.title="连续绘图",this.icon="draw",this.actived=!1,this.plugin=n.core.getPlugin(Hn)}mount(){this.actived=this.plugin.continuous}active(){this.actived=!this.actived,this.plugin.continuous=this.actived}}class by extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");this.title="组",this.icon="group"}active(){const n=cd(this.editor.core,{});this.editor.historyManager.beginTransaction(),this.editor.core.addEntity(n),this.editor.core.select([n]),this.editor.historyManager.endTransaction()}}class Sy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");this.title="聚光灯",this.icon="spot-light"}active(){const n=ud(this.editor.core,{});this.editor.historyManager.beginTransaction(),this.editor.core.addEntity(n),this.editor.core.select([n]),this.editor.historyManager.endTransaction()}}class Cy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");this.title="聚光灯",this.icon="point-light"}active(){const n=dd(this.editor.core,{});this.editor.historyManager.beginTransaction(),this.editor.core.addEntity(n),this.editor.core.select([n]),this.editor.historyManager.endTransaction()}}class xy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");this.title="快捷键",this.icon="shortcut"}active(){this.editor.bus.emit("OPEN_SHORTCUT_DIALOG",this.editor)}}class wy extends Dt{constructor(n){super(n);M(this,"title");M(this,"icon");M(this,"actived");M(this,"plugin");this.title="文本",this.icon="text",this.actived=!1,this.plugin=n.core.getPlugin(Hn)}active(){this.actived=!0,this.plugin.draw(vt.Text)}deactive(){this.actived=!1,this.plugin.finish()}}class Ey{constructor(t){M(this,"editor");M(this,"tools");M(this,"editPlugin");M(this,"lastTool");M(this,"deselect",()=>{var t;(t=this.lastTool)==null||t.deactive(),this.editor.bus.emit("TOOL_UPDATE",this.editor)});this.editor=t,this.tools={left:[new ey(t),new J0(t),new ty(t),new ny(t),new ry(t),new oy(t),new ay(t),new iy(t),new sy(t),new ly(t),new gy(t),new Sy(t),new Cy(t),new my(t),new vy(t),new wy(t),new by(t),new hy(t),new fy(t),new py(t),new yy(t)],right:[new xy(t),new uy(t),new dy(t),new cy(t)]},this.editPlugin=t.core.getPlugin(qa),this.editor.core.bus.on("DRAW_FINISH",this.deselect)}mount(){this.tools.left.forEach(t=>t.mount()),this.tools.right.forEach(t=>t.mount())}dispose(){this.editor.core.bus.off("DRAW_FINISH",this.deselect)}select(t,n){var r;this.editPlugin.exit(),(r=this.lastTool)==null||r.deactive(),this.lastTool=t,this.lastTool.active(n),this.editor.bus.emit("TOOL_UPDATE",this.editor)}}class Ny{constructor(t){M(this,"editor");M(this,"selections");this.editor=t,this.selections=[]}refresh(){return this.selections=this.editor.core.selections.map(t=>t.id),this.selections}setSelections(t){const n=this.editor.core.entityManager.getEntities(t);this.editor.core.select(n)}removeSelections(t){const n=[];if(t)for(const r of t){const o=this.editor.core.entityManager.getEntity(r);o&&n.push(o)}this.editor.core.select(n)}getLastSelection(){return this.editor.core.lastSelection}getSelection(){return this.editor.core.selections}getView(){return this.editor.core.entityManager.root}}class My{constructor(t){M(this,"editor");M(this,"dropPlugin");this.editor=t,this.dropPlugin=t.core.getPlugin(Ac)}onDrop(t){if(!t.dataTransfer)return;const n=t.dataTransfer.getData("text");let r;try{r=JSON.parse(n)}catch(o){console.error(o)}if(r)try{r.type==="model"?this.dropPlugin.drop(r.item.code,r.item.name,t):r.type==="symbol"&&this.dropPlugin.dropSymbol(r.item.code,r.item.name,t)}catch{throw new Error(`加载模型出错: ${n}`)}}}class $y{constructor(t){M(this,"editor");M(this,"offset");M(this,"copyPlugin");M(this,"point");M(this,"nodes");this.editor=t,this.point=[0,0,0],this.offset=[1,0,1],this.nodes=[],this.copyPlugin=t.core.getPlugin(Oc)}copy(){this.point=[0,0,0],this.nodes=[...this.editor.core.selections]}cut(){const t=[...this.editor.core.selections];this.editor.historyManager.beginTransaction(),this.editor.core.select([]),t.forEach(n=>this.editor.core.removeEntity(n)),this.editor.historyManager.endTransaction(),this.point=[0,0,0],this.nodes=t}paste(t=!1){this.editor.historyManager.beginTransaction(),t?(this.point[0]+=this.offset[0],this.point[1]+=this.offset[1],this.point[2]+=this.offset[2],this.copyPlugin.paste(this.nodes,this.point)):this.copyPlugin.paste(this.nodes,this.copyPlugin.getOffset(this.nodes)),this.editor.historyManager.endTransaction()}canPaste(){return this.nodes.length>0}}class Qn{constructor(t){M(this,"editor");M(this,"core");this.editor=t,this.core=t.core}isSame(t){return this.constructor.name===t.constructor.name}}class Ci extends Qn{}class Iy extends Qn{constructor(n,r){super(n);M(this,"entity");M(this,"parent");M(this,"index");this.entity=r.entity,this.parent=r.parent,this.index=r.index}undo(){this.core.removeEntity(this.entity),this.core.select([])}redo(){this.core.addEntity(this.entity,this.parent,this.index),this.core.select([this.entity])}}class Oy extends Qn{constructor(n,r){super(n);M(this,"entity");M(this,"parent");M(this,"index");this.entity=r.entity,this.parent=r.parent,this.index=r.index}undo(){this.core.addEntity(this.entity,this.parent,this.index)}redo(){this.core.removeEntity(this.entity)}}class Ay extends Qn{constructor(n,r){super(n);M(this,"entity");M(this,"parent");M(this,"index");M(this,"oldParent");M(this,"oldIndex");this.entity=r.entity,this.parent=r.parent,this.index=r.index,this.oldParent=r.oldParent,this.oldIndex=r.oldIndex}undo(){this.core.moveEntity(this.entity,this.oldParent,this.oldIndex)}redo(){this.core.moveEntity(this.entity,this.parent,this.index)}}class Py extends Qn{constructor(n,r){super(n);M(this,"entities");M(this,"olds");this.entities=r.entities,this.olds=r.olds}undo(){this.core.select(this.olds)}redo(){this.core.select(this.entities)}}class Ry extends Ci{constructor(n,r){super(n);M(this,"entity");M(this,"key");M(this,"newValue");M(this,"oldValue");this.entity=r.entity,this.key=r.key,this.newValue=r.newValue,this.oldValue=r.oldValue}undo(){this.entity.setAttr(this.key,this.oldValue)}redo(){this.entity.setAttr(this.key,this.newValue)}isSame(n){return super.isSame(n)&&this.entity===n.entity&&this.key===n.key}update(n){this.newValue=n.newValue}}class Dy extends Qn{constructor(n,r){super(n);M(this,"project");M(this,"oldProject");this.project=r.project,this.oldProject=r.oldProject}undo(){this.editor.historyManager.pause(),this.core.clear(),this.core.deserialize(this.oldProject),this.editor.historyManager.resume()}redo(){this.editor.historyManager.pause(),this.core.clear(),this.core.deserialize(this.project),this.editor.historyManager.resume()}}class Ty extends Qn{constructor(n,r){super(n);M(this,"component");M(this,"parent");M(this,"index");this.component=r.component,this.parent=r.parent,this.index=r.index}undo(){this.core.removeComponent(this.component)}redo(){this.core.addComponent(this.component,this.parent,this.index)}}class _y extends Qn{constructor(n,r){super(n);M(this,"component");M(this,"parent");M(this,"index");this.component=r.component,this.parent=r.parent,this.index=r.index}undo(){this.core.addComponent(this.component,this.parent,this.index)}redo(){this.core.removeComponent(this.component)}}class ky extends Ci{constructor(n,r){super(n);M(this,"component");M(this,"key");M(this,"newValue");M(this,"oldValue");this.component=r.component,this.key=r.key,this.newValue=r.newValue,this.oldValue=r.oldValue}undo(){this.component.setAttr(this.key,this.oldValue)}redo(){this.component.setAttr(this.key,this.newValue)}isSame(n){return super.isSame(n)&&this.component===n.component&&this.key===n.key}update(n){this.newValue=n.newValue}}class Ly{constructor(t){M(this,"editor");M(this,"project");this.editor=t}deserialize(t){const n=this.project,r=this.editor.core.entityManager.root.code;try{t=zy(t,r)}catch(s){console.error(s)}this.editor.historyManager.pause(),this.editor.core.clear(),this.editor.core.deserialize(t),this.editor.historyManager.resume();const o={oldProject:n,project:t},a=new Dy(this.editor,o);this.editor.historyManager.addHistory([a])}serialize(t){return this.project=this.editor.core.serialize(t),this.project}}const zy=(e,t)=>{const n=JSON.parse(e);return n.document.code=t,JSON.stringify(n)};class jy{constructor(t){M(this,"editor");M(this,"core");M(this,"undos");M(this,"redos");M(this,"max");M(this,"paused");M(this,"transaction");M(this,"transactions");M(this,"onDeserialize",()=>{this.core.bus.off("DESERIALIZE",this.onDeserialize),this.core.bus.on("TRANSACTION_START",this.beginTransaction),this.core.bus.on("TRANSACTION_END",this.endTransaction),this.core.bus.on("ENTITY_ADDED",this.onEntityAdded),this.core.bus.on("ENTITY_REMOVED",this.onEntityRemoved),this.core.bus.on("ENTITY_MOVED",this.onEntityMoved),this.core.bus.on("ENTITY_CHANGED",this.onEntityChanged),this.core.bus.on("ENTITY_SELECTED",this.onEntitySelected),this.core.bus.on("COMPONENT_ADDED",this.onComponentAdded),this.core.bus.on("COMPONENT_REMOVED",this.onComponentRemoved),this.core.bus.on("COMPONENT_CHANGED",this.onComponentChanged)});M(this,"beginTransaction",()=>{this.transaction=!0});M(this,"endTransaction",()=>{this.transaction=!1,this.addHistory(this.transactions),this.transactions=[]});M(this,"onEntityAdded",t=>{if(this.paused)return;const n=new Iy(this.editor,t);this.transaction?this.addTransaction(n):this.addHistory([n])});M(this,"onEntityRemoved",t=>{if(this.paused)return;const n=new Oy(this.editor,t);this.transaction?this.addTransaction(n):this.addHistory([n])});M(this,"onEntityMoved",t=>{if(this.paused)return;const n=new Ay(this.editor,t);this.transaction?this.addTransaction(n):this.addHistory([n])});M(this,"onEntityChanged",t=>{if(this.paused)return;const n=new Ry(this.editor,t);this.transaction?this.addTransaction(n):this.addHistory([n])});M(this,"onEntitySelected",t=>{if(this.paused)return;const n=new Py(this.editor,t);this.transaction?this.addTransaction(n):this.addHistory([n])});M(this,"onComponentAdded",t=>{if(this.paused)return;const n=new Ty(this.editor,t);this.transaction?this.addTransaction(n):this.addHistory([n])});M(this,"onComponentRemoved",t=>{if(this.paused)return;const n=new _y(this.editor,t);this.transaction?this.addTransaction(n):this.addHistory([n])});M(this,"onComponentChanged",t=>{if(this.paused)return;const n=new ky(this.editor,t);this.transaction?this.addTransaction(n):this.addHistory([n])});this.editor=t,this.core=t.core,this.undos=[],this.redos=[],this.max=200,this.paused=!1,this.transaction=!1,this.transactions=[],this.core.bus.on("DESERIALIZE",this.onDeserialize)}pause(){this.paused=!0}resume(){this.paused=!1}addTransaction(t){const n=this.transactions[this.transactions.length-1];n instanceof Ci&&(n!=null&&n.isSame(t))?n.update(t):this.transactions.push(t)}addHistory(t){this.redos=[],this.undos.length>=this.max&&this.undos.shift(),this.undos.push(t),this.core.bus.emit("HISTORY_CHANGE",this.core)}undo(){if(this.undos.length===0)return;this.pause();const t=this.undos.pop();t&&(this.redos.push(t),t.reverse().forEach(n=>n.undo())),this.resume(),this.core.bus.emit("HISTORY_CHANGE",this.core)}redo(){if(this.redos.length===0)return;this.pause();const t=this.redos.pop();t&&(this.undos.push(t),t.reverse().forEach(n=>n.redo())),this.resume(),this.core.bus.emit("HISTORY_CHANGE",this.core)}dispose(){this.undos=[],this.redos=[],this.paused=!1,this.transaction=!1,this.transactions=[]}}class By{constructor(t){M(this,"editor");this.editor=t}getComponents(){const t=this.editor.selectionManager.getSelection(),n=t.filter(o=>o instanceof Pr),r=[{label:nn[rt.SimpleScript],value:rt.SimpleScript}];return n.length>0&&n.length===t.length&&r.push({label:nn[rt.OrbitControls],value:rt.OrbitControls},{label:nn[rt.PointerLockControls],value:rt.PointerLockControls}),r}addComponent(t){const n=[...this.editor.selectionManager.getSelection()];n.length===0&&t===rt.SimpleScript&&n.push(this.editor.selectionManager.getView());try{const r=ur(t);this.editor.historyManager.beginTransaction(),n.forEach(o=>{const{entityManager:a}=this.editor.core,s=a.createComponent(r,o);this.editor.core.addComponent(s,o)}),this.editor.historyManager.endTransaction()}catch(r){console.error(r)}}}class Hy{constructor(t){M(this,"editor");M(this,"menus");M(this,"meta");this.editor=t,this.menus=new Map,this.meta={}}addContextMenu(t,n){this.menus.set(t,n)}getContextMenu(t){const n=this.menus.get(t)||[];return this.getContextEvent(n)}getContextEvent(t){return t.filter(n=>n.visible(this.editor)).map(n=>{const{label:r,children:o,action:a}=n,s=o?this.getContextEvent(o):void 0,i={text:r,subMenu:s,action:()=>a(this.editor)};return s||delete i.subMenu,i})}dispose(){this.meta={}}}const Vy=[{key:[{keyCode:"Backspace"},{keyCode:"Delete"}],action:e=>{const t=e.selectionManager.getSelection();e.historyManager.beginTransaction(),e.core.select([]),t.forEach(n=>e.core.removeEntity(n)),e.historyManager.endTransaction()}},{key:{keyCode:"Escape"},action:e=>{e.toolManager.deselect()}},{key:{ctrlKey:!0,keyCode:"KeyC"},action:e=>{e.copyManager.copy()}},{key:{ctrlKey:!0,keyCode:"KeyX"},action:e=>{e.copyManager.cut()}},{key:{ctrlKey:!0,keyCode:"KeyV"},action:e=>{e.copyManager.paste()}},{key:{ctrlKey:!0,keyCode:"KeyZ"},action:e=>{e.historyManager.undo()}},{key:[{ctrlKey:!0,shiftKey:!0,keyCode:"KeyZ"},{ctrlKey:!0,keyCode:"KeyY"}],action:e=>{e.historyManager.redo()}},{key:{keyCode:"Tab"},action:e=>{const t=e.core.getPlugin(qa);t==null||t.switch()}},{key:{ctrlKey:!0,keyCode:"KeyA"},action:e=>{const t=e.core.entityManager.entities.values();e.core.select(Array.from(t))}},{key:{keyCode:"KeyP"},action:e=>{const t=e.selectionManager.getSelection();if(t.length>=2){e.historyManager.beginTransaction();const n=t.slice(0,-1),r=t[t.length-1];n.forEach(o=>e.core.moveEntity(o,r,r.children.length)),e.historyManager.endTransaction()}}},{key:{altKey:!0,keyCode:"KeyP"},action:e=>{const t=e.selectionManager.getSelection();e.historyManager.beginTransaction(),t.forEach(n=>e.core.moveEntity(n)),e.historyManager.endTransaction()}},{key:{ctrlKey:!0,keyCode:"KeyP"},action:e=>{e.preview()}},{key:{ctrlKey:!0,keyCode:"KeyS"},action:e=>{e.save()}},{key:{keyCode:"KeyQ"},action:e=>{const t=e.core.getPlugin(kr);t==null||t.toggleSpace()}},{key:{keyCode:"KeyF"},action:e=>{const t=e.selectionManager.getSelection();t.length&&e.core.getPlugin(Pc).focus(t)}},{key:{keyCode:"KeyG"},action:e=>{const t=e.selectionManager.getSelection();t.length&&e.core.getPlugin(So).start(t,"translate")}},{key:{keyCode:"KeyR"},action:e=>{const t=e.selectionManager.getSelection();t.length&&e.core.getPlugin(So).start(t,"rotate")}},{key:{keyCode:"KeyS"},action:e=>{const t=e.selectionManager.getSelection();t.length&&e.core.getPlugin(So).start(t,"scale")}},{key:{keyCode:"KeyL"},action:e=>{const n=e.selectionManager.getSelection().filter(r=>r instanceof Pr);if(n.length){const r=e.core.getPlugin(Bn),{position:o,rotation:a}=r.camera;e.historyManager.beginTransaction(),n.forEach(s=>{s.setAttr("position",o),s.setAttr("rotation",a)}),e.historyManager.endTransaction()}}}],An=Math.PI/180,Er=180/Math.PI,Ky=1,Fy=32;class Wy{constructor(t){M(this,"editor");M(this,"commonAttrs");M(this,"planeAttrs");M(this,"boxAttrs");M(this,"coneAttrs");M(this,"cylinderAttrs");M(this,"sphereAttrs");M(this,"pipeAttrs");M(this,"ambientLightAttrs");M(this,"directionalLightAttrs");M(this,"hemisphereLightAttrs");M(this,"spotLightAttrs");M(this,"pointLightAttrs");M(this,"perspectiveCameraAttrs");M(this,"orthographicCameraAttrs");M(this,"modelAttrs");M(this,"symbolAttrs");M(this,"textAttrs");M(this,"activeGroups");this.editor=t,this.activeGroups=[D.BASE.key],this.commonAttrs=[{label:"可见",key:"visible",type:ee.BOOLEAN,group:D.CONTROL.key,groupName:D.CONTROL.name,getter:n=>n.getAttr("visible"),setter:(n,r)=>n.setAttr("visible",r)},{label:"可变换",key:"transformable",type:ee.BOOLEAN,group:D.CONTROL.key,groupName:D.CONTROL.name,getter:n=>n.getAttr("transformable"),setter:(n,r)=>n.setAttr("transformable",r)},{label:"可选中",key:"selectable",type:ee.BOOLEAN,group:D.CONTROL.key,groupName:D.CONTROL.name,getter:n=>n.getAttr("selectable"),setter:(n,r)=>n.setAttr("selectable",r)},{label:"名称",key:"name",type:ee.STRING,group:D.BASE.key,min:Ky,max:Fy,groupName:D.BASE.name,getter:n=>n.getAttr("name"),setter:(n,r)=>n.setAttr("name",r)},{label:"类型",key:"type",type:ee.STRING,group:D.BASE.key,groupName:D.BASE.name,disabled:!0,getter:n=>hd[n.type]||"",setter:()=>{}},{label:"ID",key:"id",disabled:!0,type:ee.STRING,group:D.BASE.key,groupName:D.BASE.name,getter:n=>n.getAttr("id"),setter:()=>{}},{label:"位置",key:"position",type:ee.VECTOR3,group:D.TRANSFORM.key,groupName:D.TRANSFORM.name,precision:3,getter:n=>n.position.toArray(),setter:(n,r)=>this.setVector3(n,"position",r)},{label:"旋转",key:"rotation",type:ee.VECTOR3,group:D.TRANSFORM.key,groupName:D.TRANSFORM.name,precision:1,getter:({rotation:{x:n,y:r,z:o}})=>[n,r,o].map(a=>a*Er),setter:(n,r)=>this.setEuler(n,r)},{label:"缩放",key:"scale",type:ee.VECTOR3,group:D.TRANSFORM.key,groupName:D.TRANSFORM.name,precision:3,getter:n=>n.scale.toArray(),setter:(n,r)=>this.setVector3(n,"scale",r)}],this.planeAttrs=[{label:"尺寸",key:"size",type:ee.VECTOR2,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,getter:n=>n.size.toArray(),setter:(n,r)=>this.setVector2(n,"size",r)},{label:"分段",key:"segments",type:ee.VECTOR2,group:D.BASE.key,groupName:D.BASE.name,min:1,precision:0,max:100,getter:n=>n.segments.toArray(),setter:(n,r)=>this.setVector2(n,"segments",r)}],this.boxAttrs=[{label:"尺寸",key:"size",type:ee.VECTOR3,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,getter:n=>n.size.toArray(),setter:(n,r)=>this.setVector3(n,"size",r)},{label:"分段",key:"segments",type:ee.VECTOR3,group:D.BASE.key,groupName:D.BASE.name,precision:0,min:1,max:100,getter:n=>n.segments.toArray(),setter:(n,r)=>this.setVector3(n,"segments",r)},{label:"圆角半径",key:"radius",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:0,step:.1,getter:n=>n.getAttr("radius"),setter:(n,r)=>n.setAttr("radius",r)}],this.coneAttrs=[{label:"半径",key:"radius",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,step:.1,getter:n=>n.getAttr("radius"),setter:(n,r)=>n.setAttr("radius",r)},{label:"高度",key:"height",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,step:.1,getter:n=>n.getAttr("height"),setter:(n,r)=>n.setAttr("height",r)},{label:"水平角度",key:"thetaLength",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:0,min:0,max:360,getter:n=>n.thetaLength*Er,setter:(n,r)=>n.setAttr("thetaLength",r*An)},{label:"底部开口",key:"openEnded",type:ee.BOOLEAN,group:D.BASE.key,groupName:D.BASE.name,getter:n=>n.getAttr("openEnded"),setter:(n,r)=>n.setAttr("openEnded",r)},{label:"分段",key:"segments",type:ee.VECTOR2,group:D.BASE.key,groupName:D.BASE.name,precision:0,min:3,max:100,getter:n=>n.segments.toArray(),setter:(n,r)=>this.setVector2(n,"segments",r)}],this.cylinderAttrs=[{label:"顶部半径",key:"radiusTop",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,step:.1,getter:n=>n.getAttr("radiusTop"),setter:(n,r)=>n.setAttr("radiusTop",r)},{label:"底部半径",key:"radiusBottom",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,step:.1,getter:n=>n.getAttr("radiusBottom"),setter:(n,r)=>n.setAttr("radiusBottom",r)},{label:"高度",key:"height",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,step:.1,getter:n=>n.getAttr("height"),setter:(n,r)=>n.setAttr("height",r)},{label:"水平角度",key:"thetaLength",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:0,min:0,max:360,getter:n=>n.thetaLength*Er,setter:(n,r)=>n.setAttr("thetaLength",r*An)},{label:"底部开口",key:"openEnded",type:ee.BOOLEAN,group:D.BASE.key,groupName:D.BASE.name,getter:n=>n.getAttr("openEnded"),setter:(n,r)=>n.setAttr("openEnded",r)},{label:"分段",key:"segments",type:ee.VECTOR2,group:D.BASE.key,groupName:D.BASE.name,precision:0,min:3,max:100,getter:n=>n.segments.toArray(),setter:(n,r)=>this.setVector2(n,"segments",r)}],this.sphereAttrs=[{label:"半径",key:"radius",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,step:.1,getter:n=>n.getAttr("radius"),setter:(n,r)=>n.setAttr("radius",r)},{label:"水平角度",key:"phiLength",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:0,min:0,max:360,getter:n=>n.phiLength*Er,setter:(n,r)=>n.setAttr("phiLength",r*An)},{label:"垂直角度",key:"thetaLength",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:0,min:0,max:180,getter:n=>n.thetaLength*Er,setter:(n,r)=>n.setAttr("thetaLength",r*An)},{label:"分段",key:"segments",type:ee.VECTOR2,group:D.BASE.key,groupName:D.BASE.name,precision:0,min:3,max:100,getter:n=>n.segments.toArray(),setter:(n,r)=>this.setVector2(n,"segments",r)}],this.pipeAttrs=[{label:"半径",key:"radius",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,step:.1,getter:n=>n.getAttr("radius"),setter:(n,r)=>n.setAttr("radius",r)}],this.ambientLightAttrs=[{label:"颜色",key:"color",type:ee.COLOR,disableAlpha:!0,group:D.BASE.key,groupName:D.BASE.name,getter:n=>n.getAttr("color"),setter:(n,r)=>n.setAttr("color",r)},{label:"强度",key:"intensity",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:0,step:.1,getter:n=>n.getAttr("intensity"),setter:(n,r)=>n.setAttr("intensity",r)}],this.directionalLightAttrs=[...this.ambientLightAttrs],this.hemisphereLightAttrs=[...this.ambientLightAttrs,{label:"底部颜色",key:"groundColor",type:ee.COLOR,disableAlpha:!0,group:D.BASE.key,groupName:D.BASE.name,getter:n=>n.getAttr("groundColor"),setter:(n,r)=>n.setAttr("groundColor",r)}],this.spotLightAttrs=[...this.ambientLightAttrs,{label:"最远距离",key:"distance",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:0,step:.1,getter:n=>n.getAttr("distance"),setter:(n,r)=>n.setAttr("distance",r)},{label:"范围角度",key:"angle",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:1,min:0,max:90,getter:n=>n.getAttr("angle")*Er,setter:(n,r)=>{const o=r;n.setAttr("angle",o*An)}},{label:"半影衰减",key:"penumbra",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:0,max:1,step:.1,getter:n=>n.getAttr("penumbra"),setter:(n,r)=>n.setAttr("penumbra",r)},{label:"光照衰减",key:"decay",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:0,step:.1,getter:n=>n.getAttr("decay"),setter:(n,r)=>n.setAttr("decay",r)}],this.pointLightAttrs=[...this.ambientLightAttrs,{label:"最远距离",key:"distance",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:0,step:.1,getter:n=>n.getAttr("distance"),setter:(n,r)=>n.setAttr("distance",r)},{label:"光照衰减",key:"decay",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:0,step:.1,getter:n=>n.getAttr("decay"),setter:(n,r)=>n.setAttr("decay",r)}],this.perspectiveCameraAttrs=[{label:"视角",key:"fov",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:1,min:.1,step:.1,getter:n=>n.getAttr("fov"),setter:(n,r)=>n.setAttr("fov",r)},{label:"近平面",key:"near",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,step:.1,getter:n=>n.getAttr("near"),setter:(n,r)=>n.setAttr("near",r)},{label:"远平面",key:"far",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,step:.1,getter:n=>n.getAttr("far"),setter:(n,r)=>n.setAttr("far",r)}],this.orthographicCameraAttrs=[{label:"正交尺寸",key:"frustumSize",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:1,min:.1,step:.1,getter:n=>n.getAttr("frustumSize"),setter:(n,r)=>n.setAttr("frustumSize",r)},{label:"近平面",key:"near",type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,step:.1,getter:n=>n.getAttr("near"),setter:(n,r)=>n.setAttr("near",r)},{label:"远平面",key:"far",step:.1,type:ee.NUMBER,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,getter:n=>n.getAttr("far"),setter:(n,r)=>n.setAttr("far",r)}],this.modelAttrs=[{label:"模型路径",key:"modelPath",type:ee.STRING,disabled:!0,group:D.BASE.key,groupName:D.BASE.name,getter:n=>n.getAttr("modelPath"),setter:(n,r)=>n.setAttr("modelPath",r)}],this.symbolAttrs=[{label:"图符路径",key:"symbolPath",type:ee.STRING,disabled:!0,group:D.BASE.key,groupName:D.BASE.name,getter:n=>n.getAttr("symbolPath"),setter:(n,r)=>n.setAttr("symbolPath",r)},{label:"显示模式",key:"mode",type:ee.ENUM,options:[{label:"2D",value:"2d"},{label:"3D",value:"3d"}],group:D.BASE.key,groupName:D.BASE.name,getter:n=>n.getAttr("mode"),setter:(n,r)=>n.setAttr("mode",r)}],this.textAttrs=[{label:"尺寸",key:"size",type:ee.VECTOR2,group:D.BASE.key,groupName:D.BASE.name,precision:2,min:.01,step:.1,getter:n=>n.size.toArray(),setter:(n,r)=>this.setVector2(n,"size",r)},{label:"文本",key:"text",type:ee.STRING,group:D.TEXT.key,groupName:D.TEXT.name,getter:n=>n.getAttr("text"),setter:(n,r)=>n.setAttr("text",r)},{label:"颜色",key:"fill",type:ee.COLOR,group:D.TEXT.key,groupName:D.TEXT.name,getter:n=>n.getAttr("fill"),setter:(n,r)=>n.setAttr("fill",r)},{label:"字体",key:"fontFamily",type:ee.ENUM,group:D.TEXT.key,groupName:D.TEXT.name,options:q0,getter:n=>n.getAttr("fontFamily"),setter:(n,r)=>n.setAttr("fontFamily",r)},{label:"字体大小",key:"fontSize",type:ee.NUMBER,group:D.TEXT.key,groupName:D.TEXT.name,min:12,precision:0,getter:n=>n.getAttr("fontSize"),setter:(n,r)=>n.setAttr("fontSize",r)},{label:"字体样式",key:"fontStyle",type:ee.ENUM,group:D.TEXT.key,groupName:D.TEXT.name,options:X0,getter:n=>n.getAttr("fontStyle"),setter:(n,r)=>n.setAttr("fontStyle",r)},{label:"对齐方式",key:"align",type:ee.ENUM,group:D.TEXT.key,groupName:D.TEXT.name,options:[{label:"左对齐",value:"left"},{label:"居中",value:"center"},{label:"右对齐",value:"right"}],getter:n=>n.getAttr("align"),setter:(n,r)=>n.setAttr("align",r)}]}setVector2(t,n,r,o){const a=t.getAttr(n).toArray(),[s,i,l]=r;switch(l){case"x":a[0]=o?o(s):s;break;case"y":a[1]=o?o(i):i;break;default:a[0]=o?o(s):s,a[1]=o?o(i):i;break}t.setAttr(n,fd.fromArray(a))}setVector3(t,n,r){const o=t.getAttr(n).toArray(),[a,s,i,l]=r;switch(l){case"x":o[0]=a;break;case"y":o[1]=s;break;case"z":o[2]=i;break;default:o[0]=a,o[1]=s,o[2]=i;break}t.setAttr(n,Ot.fromArray(o))}setEuler(t,n){const r=t.rotation.toArray(),[o,a,s,i]=n;switch(i){case"x":r[0]=o*An;break;case"y":r[1]=a*An;break;case"z":r[2]=s*An;break;default:r[0]=o*An,r[1]=a*An,r[2]=s*An;break}$o.fromArray(r),t.setAttr("rotation",$o)}}const Gy=[vt.AmbientLight,vt.DirectionalLight,vt.HemisphereLight],Uy=["rotation","scale"];class qy{constructor(t){M(this,"editor");M(this,"commonAttrs");M(this,"customAttrs");M(this,"activeGroups");M(this,"getGroups",t=>{const n=[];for(const r of t.components)switch(r.type){case rt.SimpleScript:n.push({editor:this.editor,type:jn.Component,group:`component-${r.id}`,groupName:nn[rt.SimpleScript],attributes:this.getScriptComponentAttrs(r),meta:{component:r}});break;case rt.OrbitControls:n.push({editor:this.editor,type:jn.Component,group:`component-${r.id}`,groupName:nn[rt.OrbitControls],attributes:this.getOrbitControlsComponentAttrs(r),meta:{component:r}});break;case rt.PointerLockControls:n.push({editor:this.editor,type:jn.Component,group:`component-${r.id}`,groupName:nn[rt.PointerLockControls],attributes:this.getPointerLockControlsComponentAttrs(r),meta:{component:r}});break}return n});this.editor=t,this.activeGroups=[D.BASE.key];const{commonAttrs:n,planeAttrs:r,boxAttrs:o,coneAttrs:a,cylinderAttrs:s,sphereAttrs:i,pipeAttrs:l,ambientLightAttrs:u,directionalLightAttrs:d,hemisphereLightAttrs:h,spotLightAttrs:p,pointLightAttrs:f,perspectiveCameraAttrs:v,orthographicCameraAttrs:m,modelAttrs:g,symbolAttrs:y,textAttrs:b}=new Wy(this.editor);this.commonAttrs=this.createAttributes(n),this.customAttrs=new Map([[vt.Plane,this.createAttributes(r)],[vt.Box,this.createAttributes(o)],[vt.Cone,this.createAttributes(a)],[vt.Cylinder,this.createAttributes(s)],[vt.Sphere,this.createAttributes(i)],[vt.Pipe,this.createAttributes(l)],[vt.AmbientLight,this.createAttributes(u)],[vt.DirectionalLight,this.createAttributes(d)],[vt.HemisphereLight,this.createAttributes(h)],[vt.SpotLight,this.createAttributes(p)],[vt.PointLight,this.createAttributes(f)],[vt.PerspectiveCamera,this.createAttributes(v)],[vt.OrthographicCamera,this.createAttributes(m)],[vt.Model,this.createAttributes(g)],[vt.Symbol,this.createAttributes(y)],[vt.Text,this.createAttributes(b)]])}createAttributes(t){return t.map(n=>new Wn(this.editor,n,[]))}getAttributes(t){const n=this.customAttrs.get(t.type)||[];let r=[...this.commonAttrs];return Gy.includes(t.type)&&(r=r.filter(o=>!Uy.includes(o.key))),[...r,...n]}getScriptComponentAttrs(t){const n=[];return n.push({label:"组件名称",key:"component-name",type:ee.STRING,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("name"),setter:(r,o)=>t.setAttr("name",o)},{label:"启用",key:"enabled",type:ee.BOOLEAN,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("_enabled"),setter:(r,o)=>t.setAttr("_enabled",o)},{label:"脚本",key:"component-script",type:ee.SCRIPT,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("script"),setter:(r,o)=>t.setAttr("script",o)}),n.map(r=>new Wn(this.editor,r,[]))}getOrbitControlsComponentAttrs(t){const n=[];return n.push({label:"组件名称",key:"component-name",type:ee.STRING,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("name"),setter:(r,o)=>t.setAttr("name",o)},{label:"启用",key:"enabled",type:ee.BOOLEAN,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("_enabled"),setter:(r,o)=>t.setAttr("_enabled",o)},{label:"焦点距离",key:"distance",type:ee.NUMBER,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,min:.01,precision:2,getter:()=>t.getAttr("distance"),setter:(r,o)=>t.setAttr("distance",o)}),n.map(r=>new Wn(this.editor,r,[]))}getPointerLockControlsComponentAttrs(t){const n=[];return n.push({label:"组件名称",key:"component-name",type:ee.STRING,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("name"),setter:(r,o)=>t.setAttr("name",o)},{label:"启用",key:"enabled",type:ee.BOOLEAN,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("_enabled"),setter:(r,o)=>t.setAttr("_enabled",o)},{label:"移动速度",key:"moveSpeed",type:ee.NUMBER,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,min:.01,precision:2,getter:()=>t.getAttr("moveSpeed"),setter:(r,o)=>t.setAttr("moveSpeed",o)}),n.map(r=>new Wn(this.editor,r,[]))}}const pa=100;class Xy{constructor(t){M(this,"editor");M(this,"attributes");this.editor=t,this.attributes=[{label:"调试信息",key:"debug",type:ee.BOOLEAN,group:D.CONTROL.key,groupName:D.CONTROL.name,getter:n=>n.getAttr("debug"),setter:(n,r)=>n.setAttr("debug",r)},{label:"场景名称",key:"name",disabled:!0,type:ee.STRING,group:D.BASE.key,groupName:D.BASE.name,max:pa,getter:n=>n.getAttr("name"),setter:()=>{}},{label:"场景编码",key:"code",type:ee.STRING,group:D.BASE.key,groupName:D.BASE.name,disabled:!0,getter:n=>n.getAttr("code"),setter:()=>{}},{label:"描述",key:"desc",max:256,type:ee.STRING,group:D.BASE.key,groupName:D.BASE.name,getter:n=>n.getAttr("desc"),setter:(n,r)=>n.setAttr("desc",r)},{label:"版本",key:"ver",disabled:!0,type:ee.STRING,group:D.BASE.key,groupName:D.BASE.name,getter:n=>n.getAttr("ver"),setter:(n,r)=>n.setAttr("ver",r)},{label:"作者",key:"author",type:ee.STRING,group:D.BASE.key,groupName:D.BASE.name,max:pa,getter:n=>n.getAttr("author"),setter:(n,r)=>n.setAttr("author",r)},{label:"公司",key:"company",type:ee.STRING,max:pa,group:D.BASE.key,groupName:D.BASE.name,getter:n=>n.getAttr("company"),setter:(n,r)=>n.setAttr("company",r)},{label:"最新更新日期",key:"date",disabled:!0,type:ee.STRING,group:D.BASE.key,groupName:D.BASE.name,getter:n=>n.getAttr("date"),setter:(n,r)=>n.setAttr("date",r)},{label:"背景颜色",key:"backgroundColor",type:ee.COLOR,group:D.BACKGROUND.key,groupName:D.BACKGROUND.name,disableAlpha:!0,getter:n=>n.getAttr("backgroundColor"),setter:(n,r)=>n.setAttr("backgroundColor",r)},{label:"背景贴图",key:"backgroundTexture",type:ee.ASSET,group:D.BACKGROUND.key,groupName:D.BACKGROUND.name,assetType:"png,jpeg,jpg,hdr,webp",getter:n=>n.getAttr("backgroundTexture"),setter:(n,r)=>n.setAttr("backgroundTexture",r)},{label:"背景模糊",key:"backgroundBlurriness",type:ee.NUMBER,group:D.BACKGROUND.key,groupName:D.BACKGROUND.name,min:0,max:1,precision:1,step:.1,getter:n=>n.getAttr("backgroundBlurriness"),setter:(n,r)=>n.setAttr("backgroundBlurriness",r)},{label:"背景强度",key:"backgroundIntensity",type:ee.NUMBER,group:D.BACKGROUND.key,groupName:D.BACKGROUND.name,min:0,precision:1,step:.1,getter:n=>n.getAttr("backgroundIntensity"),setter:(n,r)=>n.setAttr("backgroundIntensity",r)},{label:"背景旋转",key:"backgroundRotation",type:ee.NUMBER,group:D.BACKGROUND.key,groupName:D.BACKGROUND.name,min:-180,max:180,precision:1,getter:n=>n.getAttr("backgroundRotation"),setter:(n,r)=>n.setAttr("backgroundRotation",r)},{label:"环境贴图",key:"environmentTexture",type:ee.ASSET,group:D.ENVIRONMENT.key,groupName:D.ENVIRONMENT.name,assetType:"png,jpeg,jpg,hdr,webp",getter:n=>n.getAttr("environmentTexture"),setter:(n,r)=>n.setAttr("environmentTexture",r)},{label:"环境贴图强度",key:"environmentIntensity",type:ee.NUMBER,group:D.ENVIRONMENT.key,groupName:D.ENVIRONMENT.name,min:0,precision:1,step:.1,getter:n=>n.getAttr("environmentIntensity"),setter:(n,r)=>n.setAttr("environmentIntensity",r)},{label:"环境贴图旋转",key:"environmentRotation",type:ee.NUMBER,group:D.ENVIRONMENT.key,groupName:D.ENVIRONMENT.name,min:-180,max:180,precision:1,getter:n=>n.getAttr("environmentRotation"),setter:(n,r)=>n.setAttr("environmentRotation",r)},{label:"开启雾效",key:"fogEnable",type:ee.BOOLEAN,group:D.FOG.key,groupName:D.FOG.name,getter:n=>n.getAttr("fogEnable"),setter:(n,r)=>n.setAttr("fogEnable",r)},{label:"雾气颜色",key:"fogColor",type:ee.COLOR,disableAlpha:!0,group:D.FOG.key,groupName:D.FOG.name,getter:n=>n.getAttr("fogColor"),setter:(n,r)=>n.setAttr("fogColor",r)},{label:"雾气近端",key:"fogNear",type:ee.NUMBER,group:D.FOG.key,groupName:D.FOG.name,min:0,precision:1,getter:n=>n.getAttr("fogNear"),setter:(n,r)=>n.setAttr("fogNear",r)},{label:"雾气远端",key:"fogFar",type:ee.NUMBER,group:D.FOG.key,groupName:D.FOG.name,min:0,precision:1,getter:n=>n.getAttr("fogFar"),setter:(n,r)=>n.setAttr("fogFar",r)},{label:"开启网格",key:"gridEnable",type:ee.BOOLEAN,group:D.GRID.key,groupName:D.GRID.name,getter:n=>n.getAttr("gridEnable"),setter:(n,r)=>n.setAttr("gridEnable",r)},{label:"网格尺寸",key:"gridSize",type:ee.ENUM,options:[{value:10,label:"10"},{value:50,label:"50"},{value:100,label:"100"},{value:200,label:"200"},{value:500,label:"500"},{value:1e3,label:"1000"}],group:D.GRID.key,groupName:D.GRID.name,getter:n=>n.getAttr("gridSize"),setter:(n,r)=>n.setAttr("gridSize",r)},{label:"网格颜色1",key:"gridColor1",type:ee.COLOR,disableAlpha:!0,group:D.GRID.key,groupName:D.GRID.name,getter:n=>n.getAttr("gridColor1"),setter:(n,r)=>n.setAttr("gridColor1",r)},{label:"网格颜色2",key:"gridColor2",type:ee.COLOR,disableAlpha:!0,group:D.GRID.key,groupName:D.GRID.name,getter:n=>n.getAttr("gridColor2"),setter:(n,r)=>n.setAttr("gridColor2",r)}]}}class Yy{constructor(t){M(this,"editor");M(this,"attributes");M(this,"activeGroups");M(this,"getGroups",t=>{const n=[];for(const r of t.components)switch(r.type){case rt.SimpleScript:n.push({editor:this.editor,type:jn.Component,group:`component-${r.id}`,groupName:nn[rt.SimpleScript],attributes:this.getScriptComponentAttrs(r),meta:{component:r}});break;case rt.OrbitControls:n.push({editor:this.editor,type:jn.Component,group:`component-${r.id}`,groupName:nn[rt.OrbitControls],attributes:this.getOrbitControlsComponentAttrs(r),meta:{component:r}});break;case rt.PointerLockControls:n.push({editor:this.editor,type:jn.Component,group:`component-${r.id}`,groupName:nn[rt.PointerLockControls],attributes:this.getPointerLockControlsComponentAttrs(r),meta:{component:r}});break}return n});this.editor=t,this.activeGroups=[D.BASE.key];const{attributes:n}=new Xy(this.editor);this.attributes=this.createAttributes(n)}createAttributes(t){return t.map(n=>new Wn(this.editor,n,[]))}getAttributes(){return this.attributes}getScriptComponentAttrs(t){const n=[];return n.push({label:"组件名称",key:"component-name",type:ee.STRING,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("name"),setter:(r,o)=>t.setAttr("name",o)},{label:"启用",key:"enabled",type:ee.BOOLEAN,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("_enabled"),setter:(r,o)=>t.setAttr("_enabled",o)},{label:"脚本",key:"component-script",type:ee.SCRIPT,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("script"),setter:(r,o)=>t.setAttr("script",o)}),n.map(r=>new Wn(this.editor,r,[]))}getOrbitControlsComponentAttrs(t){const n=[];return n.push({label:"组件名称",key:"component-name",type:ee.STRING,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("name"),setter:(r,o)=>t.setAttr("name",o)},{label:"启用",key:"enabled",type:ee.BOOLEAN,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("_enabled"),setter:(r,o)=>t.setAttr("_enabled",o)},{label:"焦点距离",key:"distance",type:ee.NUMBER,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,min:.01,precision:2,getter:()=>t.getAttr("distance"),setter:(r,o)=>t.setAttr("distance",o)}),n.map(r=>new Wn(this.editor,r,[]))}getPointerLockControlsComponentAttrs(t){const n=[];return n.push({label:"组件名称",key:"component-name",type:ee.STRING,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("name"),setter:(r,o)=>t.setAttr("name",o)},{label:"启用",key:"enabled",type:ee.BOOLEAN,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,getter:()=>t.getAttr("_enabled"),setter:(r,o)=>t.setAttr("_enabled",o)},{label:"移动速度",key:"moveSpeed",type:ee.NUMBER,group:D.COMPONENTS.key,groupName:D.COMPONENTS.name,min:.01,precision:2,getter:()=>t.getAttr("moveSpeed"),setter:(r,o)=>t.setAttr("moveSpeed",o)}),n.map(r=>new Wn(this.editor,r,[]))}}const Zy=[{key:"copy",label:"拷贝",action:e=>{e.copyManager.copy()},visible:e=>e.selectionManager.getSelection().length>0},{key:"cut",label:"剪切",action:e=>{e.copyManager.cut()},visible:e=>e.selectionManager.getSelection().length>0},{key:"paste",label:"粘贴",action:e=>{e.copyManager.paste(!0)},visible:e=>e.copyManager.canPaste()},{key:"delete",label:"删除",action:e=>{const t=e.selectionManager.getSelection();e.historyManager.beginTransaction(),e.core.select([]),t.forEach(n=>e.core.removeEntity(n)),e.historyManager.endTransaction()},visible:e=>e.selectionManager.getSelection().length>0},{key:"component",label:"组件",action:()=>{},visible:()=>!0,children:[{key:"component_script",label:nn[rt.SimpleScript],action:e=>{const t=ur(rt.SimpleScript),n=[...e.selectionManager.getSelection()];n.length===0&&n.push(e.selectionManager.getView()),e.historyManager.beginTransaction(),n.forEach(r=>{const{entityManager:o}=e.core,a=o.createComponent(t,r);e.core.addComponent(a,r)}),e.historyManager.endTransaction()},visible:()=>!0},{key:"component_orbit_controls",label:nn[rt.OrbitControls],action:e=>{const t=ur(rt.OrbitControls),n=e.selectionManager.getSelection();e.historyManager.beginTransaction(),n.forEach(r=>{const{entityManager:o}=e.core,a=o.createComponent(t,r);e.core.addComponent(a,r)}),e.historyManager.endTransaction()},visible:e=>{const t=e.selectionManager.getSelection(),n=t.filter(r=>r instanceof Pr);return n.length>0&&n.length===t.length}},{key:"compoent_pointer_lock_controls",label:nn[rt.PointerLockControls],action:e=>{const t=ur(rt.PointerLockControls),n=e.selectionManager.getSelection();e.historyManager.beginTransaction(),n.forEach(r=>{const{entityManager:o}=e.core,a=o.createComponent(t,r);e.core.addComponent(a,r)}),e.historyManager.endTransaction()},visible:e=>{const t=e.selectionManager.getSelection(),n=t.filter(r=>r instanceof Pr);return n.length>0&&n.length===t.length}}]}],Qy=[{key:"copy",label:"拷贝",action:e=>{e.copyManager.copy()},visible:e=>e.selectionManager.getSelection().length>0},{key:"cut",label:"剪切",action:e=>{e.copyManager.cut()},visible:e=>e.selectionManager.getSelection().length>0},{key:"paste",label:"粘贴",action:e=>{e.copyManager.paste()},visible:e=>e.copyManager.canPaste()},{key:"delete",label:"删除",action:e=>{const t=e.selectionManager.getSelection();e.historyManager.beginTransaction(),e.core.select([]),t.forEach(n=>e.core.removeEntity(n)),e.historyManager.endTransaction()},visible:e=>e.selectionManager.getSelection().length>0},{key:"component",label:"组件",action:()=>{},visible:()=>!0,children:[{key:"component_script",label:"脚本",action:e=>{const t=ur(rt.SimpleScript),n=[...e.selectionManager.getSelection()];n.length===0&&n.push(e.selectionManager.getView()),e.historyManager.beginTransaction(),n.forEach(r=>{const{entityManager:o}=e.core,a=o.createComponent(t,r);e.core.addComponent(a,r)}),e.historyManager.endTransaction()},visible:()=>!0},{key:"component_orbit_controls",label:"轨道控制",action:e=>{const t=ur(rt.OrbitControls),n=e.selectionManager.getSelection();e.historyManager.beginTransaction(),n.forEach(r=>{const{entityManager:o}=e.core,a=o.createComponent(t,r);e.core.addComponent(a,r)}),e.historyManager.endTransaction()},visible:e=>{const t=e.selectionManager.getSelection(),n=t.filter(r=>r instanceof Pr);return n.length>0&&n.length===t.length}},{key:"compoent_pointer_lock_controls",label:nn[rt.PointerLockControls],action:e=>{const t=ur(rt.PointerLockControls),n=e.selectionManager.getSelection();e.historyManager.beginTransaction(),n.forEach(r=>{const{entityManager:o}=e.core,a=o.createComponent(t,r);e.core.addComponent(a,r)}),e.historyManager.endTransaction()},visible:e=>{const t=e.selectionManager.getSelection(),n=t.filter(r=>r instanceof Pr);return n.length>0&&n.length===t.length}}]}],Jy=[{key:"DELETE",label:"删除",action:e=>{var r;const n=(r=e.contextMenuManager.meta.group.meta)==null?void 0:r.component;n&&e.core.removeComponent(n)},visible:()=>!0}];class eb{constructor(){M(this,"core");M(this,"historyManager");M(this,"hotkeyManager");M(this,"attrManager");M(this,"contextMenuManager");M(this,"nodeManager");M(this,"selectionManager");M(this,"toolManager");M(this,"dropManager");M(this,"copyManager");M(this,"dataManager");M(this,"componentManager");M(this,"bus");M(this,"dirty");this.core=new ll({}),this.bus=pd(),this.dirty=!1,this.core.use(new Bn(this.core)),this.core.use(new Ua(this.core)),this.core.use(new gd(this.core)),this.core.use(new md(this.core)),this.core.use(new _0(this.core)),this.core.use(new kr(this.core)),this.core.use(new sl(this.core)),this.core.use(new Oc(this.core)),this.core.use(new Ac(this.core)),this.core.use(new Pc(this.core)),this.core.use(new So(this.core)),this.core.use(new Hn(this.core)),this.core.use(new qa(this.core)),this.core.use(new L0(this.core));const t=new qy(this),n=new Yy(this);this.hotkeyManager=new Z0(this,Vy),this.attrManager=new Y0(this,t,n),this.contextMenuManager=new Hy(this),this.historyManager=new jy(this),this.nodeManager=new Q0(this),this.selectionManager=new Ny(this),this.toolManager=new Ey(this),this.dropManager=new My(this),this.copyManager=new $y(this),this.dataManager=new Ly(this),this.componentManager=new By(this)}initContextMenus(){const{GRAPH:t,HIERARCHY:n,ATTR_COMPONENT:r}=Ho;this.contextMenuManager.addContextMenu(t,Zy),this.contextMenuManager.addContextMenu(n,Qy),this.contextMenuManager.addContextMenu(r,Jy)}initListeners(){this.core.bus.on("ENTITY_ADDED",()=>{this.bus.emit("NODE_ADD",this)}),this.core.bus.on("ENTITY_REMOVED",()=>{this.bus.emit("NODE_REMOVE",this)}),this.core.bus.on("ENTITY_MOVED",()=>{this.attrManager.update(),this.bus.emit("NODE_MOVE",this)}),this.core.bus.on("ENTITY_SELECTED",()=>{this.bus.emit("NODE_SELECT",this)}),this.core.bus.on("ENTITY_CHANGED",()=>{this.attrManager.update(),this.bus.emit("ATTR_CHANGE",this)}),this.core.bus.on("COMPONENT_ADDED",()=>{this.bus.emit("NODE_SELECT",this)}),this.core.bus.on("COMPONENT_REMOVED",()=>{this.bus.emit("NODE_SELECT",this)}),this.core.bus.on("COMPONENT_CHANGED",()=>{this.attrManager.update(),this.bus.emit("ATTR_CHANGE",this)}),this.core.bus.on("HISTORY_CHANGE",()=>{this.dirty=!0,this.bus.emit("TAB_DIRTY",this)}),this.core.bus.on("DESERIALIZE",()=>{this.bus.emit("DESERIALIZATED",this)})}async mount(t){this.core.mount(t),this.toolManager.mount(),this.initContextMenus(),this.initListeners(),this.bus.emit("TAB_MOUNT",this)}resize(){this.core.resize()}active(){this.hotkeyManager.active(),this.core.active(),this.resize()}deactive(){this.hotkeyManager.deactive(),this.core.deactive()}unmount(){this.attrManager.dispose(),this.hotkeyManager.dispose(),this.historyManager.dispose(),this.toolManager.dispose(),this.contextMenuManager.dispose(),this.core.unmount()}async open(t){const n=await Pd(t);n&&this.core.deserialize(n.content)}async save(){const n=await this.core.getPlugin(Bn).toImage(),r=this.core.entityManager.root.code,o=this.core.serialize(),a=await Rd(r,n,o);this.historyManager.pause(),this.core.entityManager.root.setAttr("date",a==null?void 0:a.document.date),this.historyManager.resume(),this.bus.emit("MESSAGE",{message:"保存成功",type:"success"})}preview(){const t=this.core.entityManager.root.code;window.open(`#/preview?id=${t}`,`#/preview?id=${t}`)}async reload(){this.historyManager.pause(),this.core.clear(),this.dirty=!1,this.open(this.core.entityManager.root.code),this.historyManager.dispose(),this.historyManager.resume(),this.bus.emit("TAB_DIRTY",this)}}const tb=(e,t)=>{const[n,r]=c.useState(e.item);return c.useEffect(()=>{e.item&&(e.item.listen(t),t(e.item.getter()))},[]),e.update=o=>{n==null||n.unlisten(t),r(o),o&&(o.listen(t),t(o.getter()))},e.destroy=()=>{n==null||n.unlisten(t)},n},nb=e=>{const{attribute:t,value:n,onChange:r}=e,[o,a]=c.useState(""),[s,i]=c.useState(!1);c.useEffect(()=>{a(n)},[n]);const l=d=>{a(d.target.value),i(!0)},u=()=>{s&&(r(o),i(!1))};return F.jsx(Lo,{style:{borderRadius:"4px"},disabled:t==null?void 0:t.disabled,value:o,onChange:l,onPressEnter:u,onBlur:u})},Or=e=>{const{style:t,attribute:n,value:r,onChange:o}=e,[a,s]=c.useState(0),[i,l]=c.useState(!1);c.useEffect(()=>{s(r)},[r]);const u=p=>{s(p||0),l(!0)},d=()=>{i&&(o(a),l(!1))},h=p=>{s(p||0),o(p)};return F.jsx(ui,{style:{borderRadius:"4px",...t},disabled:n==null?void 0:n.disabled,min:n==null?void 0:n.min,max:n==null?void 0:n.max,precision:n==null?void 0:n.precision,step:n==null?void 0:n.step,value:a,onChange:u,onPressEnter:d,onBlur:d,onStep:h})},rb=e=>{const{attribute:t,value:n,onChange:r}=e,o=a=>{r(a.target.checked)};return F.jsx(oi,{disabled:t==null?void 0:t.disabled,checked:n,onChange:o})},ob=e=>{const{attribute:t,value:n,onChange:r}=e,[o,a]=c.useState(n);c.useEffect(()=>{a(n)},[n]);const s=i=>{r(i.toHexString())};return F.jsx(hi,{style:{borderRadius:"4px"},disabled:t==null?void 0:t.disabled,disabledAlpha:t==null?void 0:t.disableAlpha,showText:!0,value:o,onChange:a,onChangeComplete:s})},ab=e=>{const{attribute:t,value:n,onChange:r}=e,[o,a]=c.useState("");c.useEffect(()=>{a(n)},[n]);const s=i=>{r(i)};return F.jsx(mr,{style:{width:"100%",borderRadius:"4px"},disabled:t==null?void 0:t.disabled,options:t==null?void 0:t.options,value:o,onChange:s})},ib=e=>{const{attribute:t,value:n,onChange:r}=e,[o,a]=c.useState(0),[s,i]=c.useState(0);c.useEffect(()=>{const[d,h]=n||[];a(d),i(h)},[n]);const l=d=>{r([d,s,"x"])},u=d=>{r([o,d,"y"])};return F.jsxs(Za,{gutter:4,children:[F.jsx(sr,{span:8,children:F.jsx(Or,{style:{width:"unset"},attribute:t,value:o,onChange:l})}),F.jsx(sr,{span:8,children:F.jsx(Or,{style:{width:"unset"},attribute:t,value:s,onChange:u})})]})},sb=e=>{const{attribute:t,value:n,onChange:r}=e,[o,a]=c.useState(0),[s,i]=c.useState(0),[l,u]=c.useState(0);c.useEffect(()=>{const[f,v,m]=n||[];a(f),i(v),u(m)},[n]);const d=f=>{r([f,s,l,"x"])},h=f=>{r([o,f,l,"y"])},p=f=>{r([o,s,f,"z"])};return F.jsxs(Za,{gutter:4,children:[F.jsx(sr,{span:8,children:F.jsx(Or,{style:{width:"unset"},attribute:t,value:o,onChange:d})}),F.jsx(sr,{span:8,children:F.jsx(Or,{style:{width:"unset"},attribute:t,value:s,onChange:h})}),F.jsx(sr,{span:8,children:F.jsx(Or,{style:{width:"unset"},attribute:t,value:l,onChange:p})})]})};function lb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?js(Object(n),!0).forEach(function(r){lb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):js(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cb(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function ub(e,t){if(e==null)return{};var n=cb(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function db(e,t){return hb(e)||fb(e,t)||pb(e,t)||gb()}function hb(e){if(Array.isArray(e))return e}function fb(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,o=!1,a=void 0;try{for(var s=e[Symbol.iterator](),i;!(r=(i=s.next()).done)&&(n.push(i.value),!(t&&n.length===t));r=!0);}catch(l){o=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw a}}return n}}function pb(e,t){if(e){if(typeof e=="string")return Hs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hs(e,t)}}function Hs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vs(Object(n),!0).forEach(function(r){mb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vs(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(o,a){return a(o)},r)}}function Vr(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return t.apply(n,[].concat(o,i))}}}function Po(e){return{}.toString.call(e).includes("Object")}function yb(e){return!Object.keys(e).length}function Yr(e){return typeof e=="function"}function bb(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Sb(e,t){return Po(t)||Un("changeType"),Object.keys(t).some(function(n){return!bb(e,n)})&&Un("changeField"),t}function Cb(e){Yr(e)||Un("selectorType")}function xb(e){Yr(e)||Po(e)||Un("handlerType"),Po(e)&&Object.values(e).some(function(t){return!Yr(t)})&&Un("handlersType")}function wb(e){e||Un("initialIsRequired"),Po(e)||Un("initialType"),yb(e)&&Un("initialContent")}function Eb(e,t){throw new Error(e[t]||e.default)}var Nb={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Un=Vr(Eb)(Nb),vo={changes:Sb,selector:Cb,handler:xb,initial:wb};function Mb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vo.initial(e),vo.handler(t);var n={current:e},r=Vr(Ob)(n,t),o=Vr(Ib)(n),a=Vr(vo.changes)(e),s=Vr($b)(n);function i(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return vo.selector(u),u(n.current)}function l(u){vb(r,o,a,s)(u)}return[i,l]}function $b(e,t){return Yr(t)?t(e.current):t}function Ib(e,t){return e.current=Ks(Ks({},e.current),t),t}function Ob(e,t,n){return Yr(t)?t(e.current):Object.keys(n).forEach(function(r){var o;return(o=t[r])===null||o===void 0?void 0:o.call(t,e.current[r])}),n}var Ab={create:Mb},Pb={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function Rb(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return t.apply(n,[].concat(o,i))}}}function Db(e){return{}.toString.call(e).includes("Object")}function Tb(e){return e||Fs("configIsRequired"),Db(e)||Fs("configType"),e.urls?(_b(),{paths:{vs:e.urls.monacoBase}}):e}function _b(){console.warn(Rc.deprecation)}function kb(e,t){throw new Error(e[t]||e.default)}var Rc={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Fs=Rb(kb)(Rc),Lb={config:Tb},zb=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(o){return n.reduceRight(function(a,s){return s(a)},o)}};function Dc(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Dc(e[n],t[n]))}),Bs(Bs({},e),t)}var jb={type:"cancelation",msg:"operation is manually canceled"};function ga(e){var t=!1,n=new Promise(function(r,o){e.then(function(a){return t?o(jb):r(a)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var Bb=Ab.create({config:Pb,isInitialized:!1,resolve:null,reject:null,monaco:null}),Tc=db(Bb,2),ro=Tc[0],Vo=Tc[1];function Hb(e){var t=Lb.config(e),n=t.monaco,r=ub(t,["monaco"]);Vo(function(o){return{config:Dc(o.config,r),monaco:n}})}function Vb(){var e=ro(function(t){var n=t.monaco,r=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:r,resolve:o}});if(!e.isInitialized){if(Vo({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ga(ma);if(window.monaco&&window.monaco.editor)return _c(window.monaco),e.resolve(window.monaco),ga(ma);zb(Kb,Wb)(Gb)}return ga(ma)}function Kb(e){return document.body.appendChild(e)}function Fb(e){var t=document.createElement("script");return e&&(t.src=e),t}function Wb(e){var t=ro(function(r){var o=r.config,a=r.reject;return{config:o,reject:a}}),n=Fb("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function Gb(){var e=ro(function(n){var r=n.config,o=n.resolve,a=n.reject;return{config:r,resolve:o,reject:a}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){_c(n),e.resolve(n)},function(n){e.reject(n)})}function _c(e){ro().monaco||Vo({monaco:e})}function Ub(){return ro(function(e){var t=e.monaco;return t})}var ma=new Promise(function(e,t){return Vo({resolve:e,reject:t})}),kc={config:Hb,init:Vb,__getMonacoInstance:Ub},qb={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},va=qb,Xb={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Yb=Xb;function Zb({children:e}){return V.createElement("div",{style:Yb.container},e)}var Qb=Zb,Jb=Qb;function eS({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:a,wrapperProps:s}){return V.createElement("section",{style:{...va.wrapper,width:e,height:t},...s},!n&&V.createElement(Jb,null,r),V.createElement("div",{ref:o,style:{...va.fullWidth,...!n&&va.hide},className:a}))}var tS=eS,Lc=c.memo(tS);function nS(e){c.useEffect(e,[])}var zc=nS;function rS(e,t,n=!0){let r=c.useRef(!0);c.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Cn=rS;function Wr(){}function Nr(e,t,n,r){return oS(e,r)||aS(e,t,n,r)}function oS(e,t){return e.editor.getModel(jc(e,t))}function aS(e,t,n,r){return e.editor.createModel(t,n,r?jc(e,r):void 0)}function jc(e,t){return e.Uri.parse(t)}function iS({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:a,modifiedModelPath:s,keepCurrentOriginalModel:i=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:d="Loading...",options:h={},height:p="100%",width:f="100%",className:v,wrapperProps:m={},beforeMount:g=Wr,onMount:y=Wr}){let[b,S]=c.useState(!1),[C,x]=c.useState(!0),N=c.useRef(null),w=c.useRef(null),$=c.useRef(null),P=c.useRef(y),O=c.useRef(g),T=c.useRef(!1);zc(()=>{let I=kc.init();return I.then(j=>(w.current=j)&&x(!1)).catch(j=>(j==null?void 0:j.type)!=="cancelation"&&console.error("Monaco initialization: error:",j)),()=>N.current?R():I.cancel()}),Cn(()=>{if(N.current&&w.current){let I=N.current.getOriginalEditor(),j=Nr(w.current,e||"",r||n||"text",a||"");j!==I.getModel()&&I.setModel(j)}},[a],b),Cn(()=>{if(N.current&&w.current){let I=N.current.getModifiedEditor(),j=Nr(w.current,t||"",o||n||"text",s||"");j!==I.getModel()&&I.setModel(j)}},[s],b),Cn(()=>{let I=N.current.getModifiedEditor();I.getOption(w.current.editor.EditorOption.readOnly)?I.setValue(t||""):t!==I.getValue()&&(I.executeEdits("",[{range:I.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),I.pushUndoStop())},[t],b),Cn(()=>{var I,j;(j=(I=N.current)==null?void 0:I.getModel())==null||j.original.setValue(e||"")},[e],b),Cn(()=>{let{original:I,modified:j}=N.current.getModel();w.current.editor.setModelLanguage(I,r||n||"text"),w.current.editor.setModelLanguage(j,o||n||"text")},[n,r,o],b),Cn(()=>{var I;(I=w.current)==null||I.editor.setTheme(u)},[u],b),Cn(()=>{var I;(I=N.current)==null||I.updateOptions(h)},[h],b);let A=c.useCallback(()=>{var z;if(!w.current)return;O.current(w.current);let I=Nr(w.current,e||"",r||n||"text",a||""),j=Nr(w.current,t||"",o||n||"text",s||"");(z=N.current)==null||z.setModel({original:I,modified:j})},[n,t,o,e,r,a,s]),L=c.useCallback(()=>{var I;!T.current&&$.current&&(N.current=w.current.editor.createDiffEditor($.current,{automaticLayout:!0,...h}),A(),(I=w.current)==null||I.editor.setTheme(u),S(!0),T.current=!0)},[h,u,A]);c.useEffect(()=>{b&&P.current(N.current,w.current)},[b]),c.useEffect(()=>{!C&&!b&&L()},[C,b,L]);function R(){var j,z,B,q;let I=(j=N.current)==null?void 0:j.getModel();i||((z=I==null?void 0:I.original)==null||z.dispose()),l||((B=I==null?void 0:I.modified)==null||B.dispose()),(q=N.current)==null||q.dispose()}return V.createElement(Lc,{width:f,height:p,isEditorReady:b,loading:d,_ref:$,className:v,wrapperProps:m})}var sS=iS;c.memo(sS);function lS(e){let t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}var cS=lS,yo=new Map;function uS({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:a,theme:s="light",line:i,loading:l="Loading...",options:u={},overrideServices:d={},saveViewState:h=!0,keepCurrentModel:p=!1,width:f="100%",height:v="100%",className:m,wrapperProps:g={},beforeMount:y=Wr,onMount:b=Wr,onChange:S,onValidate:C=Wr}){let[x,N]=c.useState(!1),[w,$]=c.useState(!0),P=c.useRef(null),O=c.useRef(null),T=c.useRef(null),A=c.useRef(b),L=c.useRef(y),R=c.useRef(),I=c.useRef(r),j=cS(a),z=c.useRef(!1),B=c.useRef(!1);zc(()=>{let G=kc.init();return G.then(te=>(P.current=te)&&$(!1)).catch(te=>(te==null?void 0:te.type)!=="cancelation"&&console.error("Monaco initialization: error:",te)),()=>O.current?ne():G.cancel()}),Cn(()=>{var te,X,J,K;let G=Nr(P.current,e||r||"",t||o||"",a||n||"");G!==((te=O.current)==null?void 0:te.getModel())&&(h&&yo.set(j,(X=O.current)==null?void 0:X.saveViewState()),(J=O.current)==null||J.setModel(G),h&&((K=O.current)==null||K.restoreViewState(yo.get(a))))},[a],x),Cn(()=>{var G;(G=O.current)==null||G.updateOptions(u)},[u],x),Cn(()=>{!O.current||r===void 0||(O.current.getOption(P.current.editor.EditorOption.readOnly)?O.current.setValue(r):r!==O.current.getValue()&&(B.current=!0,O.current.executeEdits("",[{range:O.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),O.current.pushUndoStop(),B.current=!1))},[r],x),Cn(()=>{var te,X;let G=(te=O.current)==null?void 0:te.getModel();G&&o&&((X=P.current)==null||X.editor.setModelLanguage(G,o))},[o],x),Cn(()=>{var G;i!==void 0&&((G=O.current)==null||G.revealLine(i))},[i],x),Cn(()=>{var G;(G=P.current)==null||G.editor.setTheme(s)},[s],x);let q=c.useCallback(()=>{var G;if(!(!T.current||!P.current)&&!z.current){L.current(P.current);let te=a||n,X=Nr(P.current,r||e||"",t||o||"",te||"");O.current=(G=P.current)==null?void 0:G.editor.create(T.current,{model:X,automaticLayout:!0,...u},d),h&&O.current.restoreViewState(yo.get(te)),P.current.editor.setTheme(s),i!==void 0&&O.current.revealLine(i),N(!0),z.current=!0}},[e,t,n,r,o,a,u,d,h,s,i]);c.useEffect(()=>{x&&A.current(O.current,P.current)},[x]),c.useEffect(()=>{!w&&!x&&q()},[w,x,q]),I.current=r,c.useEffect(()=>{var G,te;x&&S&&((G=R.current)==null||G.dispose(),R.current=(te=O.current)==null?void 0:te.onDidChangeModelContent(X=>{B.current||S(O.current.getValue(),X)}))},[x,S]),c.useEffect(()=>{if(x){let G=P.current.editor.onDidChangeMarkers(te=>{var J;let X=(J=O.current.getModel())==null?void 0:J.uri;if(X&&te.find(K=>K.path===X.path)){let K=P.current.editor.getModelMarkers({resource:X});C==null||C(K)}});return()=>{G==null||G.dispose()}}return()=>{}},[x,C]);function ne(){var G,te;(G=R.current)==null||G.dispose(),p?h&&yo.set(a,O.current.saveViewState()):(te=O.current.getModel())==null||te.dispose(),O.current.dispose()}return V.createElement(Lc,{width:f,height:v,isEditorReady:x,loading:l,_ref:T,className:m,wrapperProps:g})}var dS=uS,hS=c.memo(dS),fS=hS;const pS=e=>{const{value:t,onChange:n}=e,[r,o]=c.useState(""),[a,s]=c.useState(!1);c.useEffect(()=>{o(t)},[t]);const i=()=>{o(t),s(!0)},l=()=>{n(r),s(!1)},u=()=>{s(!1)},d=h=>{o(h??"")};return F.jsxs(F.Fragment,{children:[F.jsx(xu,{onClick:i,children:"编辑"}),F.jsx(ul,{width:800,title:"脚本",open:a,onOk:l,onCancel:u,children:F.jsx(fS,{theme:"vs-dark",height:"60vh",defaultLanguage:"javascript",value:r,onChange:d})})]})},gS=e=>{const{attribute:t,value:n,onChange:r}=e;return F.jsx(Da,{allowClear:!0,type:t==null?void 0:t.assetType,value:n,onChange:r})},mS=e=>{const{root:t}=e,[n,r]=c.useState(),o=tb(t,r),a=c.useMemo(()=>(o==null?void 0:o.attribute.type)??"string",[o]),s=i=>o==null?void 0:o.setter(i);switch(a){case ee.STRING:return F.jsx(nb,{attribute:o,value:n,onChange:s});case ee.NUMBER:return F.jsx(Or,{attribute:o,value:n,onChange:s});case ee.BOOLEAN:return F.jsx(rb,{attribute:o,value:n,onChange:s});case ee.COLOR:return F.jsx(ob,{attribute:o,value:n,onChange:s});case ee.ENUM:return F.jsx(ab,{attribute:o,value:n,onChange:s});case ee.VECTOR2:return F.jsx(ib,{attribute:o,value:n,onChange:s});case ee.VECTOR3:return F.jsx(sb,{attribute:o,value:n,onChange:s});case ee.SCRIPT:return F.jsx(pS,{attribute:o,value:n,onChange:s});case ee.ASSET:return F.jsx(gS,{attribute:o,value:n,onChange:s});default:return null}};class vS{constructor(t){this.parent=t,this.container=document.createElement("div"),this.container.className="attribute-item-value",this.root=wu(this.container),this.root.render(F.jsx(Eu,{children:F.jsx(mS,{root:this})})),this.parent.body.appendChild(this.container)}hide(){var t;(t=this.destroy)==null||t.call(this),this.container.style.display="none"}show(t){var n;this.item=t,(n=this.update)==null||n.call(this,t),this.container.className="attribute-item-value",this.container.style.display="flex"}dispose(){var t;(t=this.destroy)==null||t.call(this),setTimeout(()=>this.root.unmount(),0),this.container.remove()}}class yS{constructor(t){this.parent=t,this.container=document.createElement("div"),this.container.className="attribute-item",this.label=new U0(this),this.body=document.createElement("div"),this.body.className="attribute-item-value-container",this.container.appendChild(this.label.container),this.container.appendChild(this.body),this.components={}}get visible(){return this.container.style.display==="flex"}hide(){this.label.hide(),Object.values(this.components).forEach(t=>t.hide()),this.container.style.display="none"}show(t){const{attribute:n,visible:r}=t,{type:o}=n;this.label.show(t),Object.values(this.components).forEach(s=>s.hide());const a=this.getAttribute(o);a==null||a.show(t),this.container.style.display=r?"flex":"none"}dispose(){this.label.dispose(),Object.values(this.components).forEach(t=>t.dispose()),this.container.remove()}getAttribute(t){let n=this.components[t];if(!n)try{n=new vS(this),this.components[t]=n}catch(r){console.error(r)}return n}}var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});function un(e){return typeof e=="function"?e():e}function Ko(e){return Hc(e)||Vc(e)||oo(e)}function Hc(e){return e.hasOwnProperty("action")}function Vc(e){return e.hasOwnProperty("href")}function La(e){return e.hasOwnProperty("isDivider")}function oo(e){return e.hasOwnProperty("subMenu")}function bS(e){return e.hasOwnProperty("html")||e.hasOwnProperty("element")}function SS(e){return!Ko(e)&&!La(e)&&!bS(e)}function Fo(e){return Ko(e)&&un(e.disabled)||oo(e)&&un(e.subMenu).length===0}function Ws(e,t){var n;e.addEventListener("mouseenter",function(r){n=setTimeout(function(){return t(r)},150)}),e.addEventListener("mouseleave",function(){return clearTimeout(n)})}function CS(e){var t=document.createElement("ul");return t.className="ctxmenu",t.append.apply(t,e.map(xS)),e.length||(t.style.display="none"),t.addEventListener("contextmenu",function(n){n.stopPropagation(),n.preventDefault()}),t.addEventListener("click",function(n){return void n.stopPropagation()}),t}function xS(e){var t=document.createElement("li");return wS([[La,"divider",!1],[function(n){return n.icon},"icon",!0],[SS,"heading",!1],[oo,"submenu",!0],[Fo,"disabled",!1],[Ko,"interactive",!0]],e,t),La(e)||[ES,NS,MS,$S,IS].forEach(function(n){return n.call(null,e,t)}),t}function wS(e,t,n){e.filter(function(r){var o=r[0];return o(t)}).every(function(r){r[0];var o=r[1],a=r[2];return!void n.classList.add(o)&&a})}function ES(e,t){var n,r=e.html,o=e.text,a=e.element,s=un(a);s?t.append(s):t.innerHTML=(n=un(r))!==null&&n!==void 0?n:"<span>".concat(un(o),"</span>")}function NS(e,t){var n=e.tooltip,r=e.style,o=e.attributes;t.title=un(n)||"",r&&t.setAttribute("style",un(r)),o&&Object.entries(un(o)).forEach(function(a){var s=a[0],i=a[1];t.setAttribute(s,i)})}function MS(e,t){var n=e.icon;n&&(t.innerHTML+='<img class="icon" src="'.concat(un(n),'" />'))}function $S(e,t){for(var n=0,r=Object.entries(un(e.events)||{});n<r.length;n++){var o=r[n],a=o[0],s=o[1],i=typeof s=="function"?{listener:s,options:{}}:s,l=i.listener,u=i.options;t.addEventListener(a,l,u)}Fo(e)||oo(e)||(Hc(e)&&t.addEventListener("click",e.action),Ko(e)&&t.addEventListener("click",function(){return Fc.hide()}))}function IS(e,t){if(!(!Vc(e)||Fo(e))){var n=e.href,r=e.download,o=e.target,a=document.createElement("a");a.innerHTML=t.innerHTML,a.href=un(n),r!==void 0&&(a.download=un(r)),o&&(a.target=un(o)),t.replaceChildren(a)}}var Mr="r",Gr="d";function OS(){Mr="r",Gr="d"}function AS(e,t){var n=Kc(),r=window.visualViewport,o=r.width,a=r.height;Object.assign(e.style,{maxHeight:a/n.y+"px",maxWidth:o/n.x+"px"});var s=PS(e);s.width=Math.trunc(s.width)+1,s.height=Math.trunc(s.height)+1;var i={x:0,y:0};if(t instanceof Element){var l=xi(t),u=l.x,d=l.width,h=l.y;i={x:Mr==="r"?u+d:u-s.width,y:h},t.className.includes("submenu")&&(i.y+=Gr==="d"?4:-12);var p=ya(s,i);i.x!==p.x&&(Mr=Mr==="r"?"l":"r",i.x=Mr==="r"?u+d:u-s.width),i.y!==p.y&&(Gr=Gr==="u"?"d":"u",i.y=p.y),i=ya(s,i)}else{var f=document.body.style.transform!=="",v=f?document.body.getBoundingClientRect():{x:0,y:0};i=ya(s,{x:(t.clientX-v.x)/n.x,y:(t.clientY-v.y)/n.y})}Object.assign(e.style,{left:i.x+"px",top:i.y+"px",width:s.width+"px",height:s.height+"px"})}function ya(e,t){var n=window.visualViewport,r=n.width,o=n.height,a=document.body.style.transform!=="",s=a?document.body.getBoundingClientRect():{left:0,top:0},i=s.left,l=s.top,u=Kc(),d=-i/u.x,h=-l/u.y,p=(r-i)/u.x,f=(o-l)/u.y;return{x:Mr==="r"?t.x+e.width>p?p-e.width:t.x:t.x<d?d:t.x,y:Gr==="d"?t.y+e.height>f?f-e.height:t.y:t.y<h?h:t.y+e.height>f?f-e.height:t.y}}function PS(e){var t=e.cloneNode(!0);t.style.visibility="hidden",document.body.appendChild(t);var n=xi(t);return document.body.removeChild(t),n}function xi(e){var t=e.offsetLeft,n=e.offsetTop,r=e.offsetHeight,o=e.offsetWidth;if(e.offsetParent instanceof HTMLElement){var a=xi(e.offsetParent);return{x:t+a.x,y:n+a.y,width:o,height:r}}return{x:t,y:n,width:o,height:r}}function Kc(){var e=document.body,t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth,y:t.height/e.offsetHeight}}var RS='html{min-height:100%}.ctxmenu{position:fixed;border:1px solid #999;padding:2px 0;box-shadow:#aaa 3px 3px 3px;background:#fff;margin:0;z-index:9999;overflow-y:auto;font:15px Verdana,sans-serif;box-sizing:border-box}.ctxmenu li{margin:1px 0;display:block;position:relative;user-select:none}.ctxmenu li.heading{font-weight:bold;margin-left:-5px}.ctxmenu li span{display:block;padding:2px 20px;cursor:default}.ctxmenu li a{color:inherit;text-decoration:none}.ctxmenu li.icon{padding-left:15px}.ctxmenu img.icon{position:absolute;width:18px;left:10px;top:2px}.ctxmenu li.disabled{color:#ccc}.ctxmenu li.divider{border-bottom:1px solid #aaa;margin:5px 0}.ctxmenu li.interactive:hover{background:rgba(0,0,0,.1)}.ctxmenu li.submenu::after{content:"";position:absolute;display:block;top:0;bottom:0;right:.4em;margin:auto .1rem auto auto;border:solid #000;border-width:1px 1px 0 0;transform:rotate(45deg);width:.3rem;height:.3rem}.ctxmenu li.submenu.disabled::after{border-color:#ccc}';/*! ctxMenu v2.0.2 | (c) Nikolaj Kappler | https://github.com/nkappler/ctxmenu/blob/master/LICENSE !*/var DS=function(){function e(){var t=this;this.cache={},this.preventCloseOnScroll=!1,window.addEventListener("click",function(){return void t.hide()}),window.addEventListener("resize",function(){return void t.hide()});var n=0;window.addEventListener("wheel",function(){clearTimeout(n),n=setTimeout(function(){if(t.preventCloseOnScroll){t.preventCloseOnScroll=!1;return}t.hide()})},{passive:!0}),window.addEventListener("keydown",function(r){r.key==="Escape"&&t.hide()}),e.addStylesToDom()}return e.getInstance=function(){e.instance||(e.instance=new e);var t=e.instance;return{attach:t.attach.bind(t),delete:t.delete.bind(t),hide:t.hide.bind(t),show:t.show.bind(t),update:t.update.bind(t)}},e.prototype.attach=function(t,n,r){var o=this;r===void 0&&(r={});var a=document.querySelector(t);if(this.cache[t]!==void 0){console.error("target element ".concat(t," already has a context menu assigned. Use ContextMenu.update() intstead."));return}if(!a){console.error("target element ".concat(t," not found"));return}var s=function(i){o.show(n,i,r)};this.cache[t]={ctxMenu:n,handler:s,config:r},a.addEventListener("contextmenu",s)},e.prototype.update=function(t,n,r){r===void 0&&(r={});var o=this.cache[t],a=Object.assign({},o==null?void 0:o.config,r),s=document.querySelector(t);o&&(s==null||s.removeEventListener("contextmenu",o.handler)),delete this.cache[t],this.attach(t,n||(o==null?void 0:o.ctxMenu)||[],a)},e.prototype.delete=function(t){var n=this.cache[t];if(!n)return console.error("no context menu for target element ".concat(t," found"));delete this.cache[t];var r=document.querySelector(t);if(!r)return console.error("target element ".concat(t," does not exist (anymore)"));r.removeEventListener("contextmenu",n.handler)},e.prototype.show=function(t,n,r){var o=this,a,s,i;r===void 0&&(r={}),n instanceof MouseEvent&&(n.stopImmediatePropagation(),n.preventDefault()),this.hide(),this.onHide=r.onHide,this.onBeforeHide=r.onBeforeHide;var l=(s=(a=r.onBeforeShow)===null||a===void 0?void 0:a.call(r,t.slice(),n instanceof MouseEvent?n:void 0))!==null&&s!==void 0?s:t;this.menu=this.generateDOM(l,n,r.attributes),document.body.appendChild(this.menu),(i=r.onShow)===null||i===void 0||i.call(r,this.menu),this.menu.addEventListener("wheel",function(){o.preventCloseOnScroll=!0},{passive:!0})},e.prototype.hide=function(){this._hide(this.menu)},e.prototype._hide=function(t){var n,r;(n=this.onBeforeHide)===null||n===void 0||n.call(this,t),OS(),t&&(t.remove(),(r=this.onHide)===null||r===void 0||r.call(this,t),t===this.menu&&(delete this.menu,this.onBeforeHide=void 0,this.onHide=void 0))},e.prototype.generateDOM=function(t,n,r){var o=this;r===void 0&&(r={});var a=CS(t);return AS(a,n),t.forEach(function(s,i){var l=a.children[i];Ws(l,function(){var u,d=(u=l.parentElement)===null||u===void 0?void 0:u.querySelector("ul");d&&d.parentElement!==l&&o._hide(d)}),!Fo(s)&&oo(s)&&Ws(l,function(){l.querySelector("ul")||l.appendChild(o.generateDOM(un(s.subMenu),l,un(s.subMenuAttributes)))})}),Object.entries(r).forEach(function(s){var i=s[0],l=s[1];return a.setAttribute(i,l)}),a},e.addStylesToDom=function(){if(document.readyState==="loading")return document.addEventListener("readystatechange",this.addStylesToDom,{once:!0});var t=document.createElement("style");t.innerHTML=RS,document.head.insertBefore(t,document.head.childNodes[0])},e}(),Fc=DS.getInstance(),Wc=Bc.ctxmenu=Fc;const Gc=e=>{const{items:t,event:n}=e;Wc.show(t,n)},TS=()=>{Wc.hide()};class _S{constructor(t){this.onClick=()=>{this.body.style.display==="none"?this.open():this.close()},this.onContextMenu=r=>{var a;if(((a=this.group)==null?void 0:a.type)!==jn.Component)return;r.preventDefault();const o=this.group.editor.contextMenuManager.getContextMenu(Ho.ATTR_COMPONENT);o.length!==0&&(this.group.editor.contextMenuManager.meta={group:this.group},Gc({event:r,items:o}))},this.parent=t,this.container=document.createElement("div"),this.container.className="attribute-group-container",this.head=document.createElement("div"),this.head.className="attribute-group",this.head.addEventListener("click",this.onClick),this.label=document.createElement("div"),this.label.className="attribute-group-name",this.label.addEventListener("contextmenu",this.onContextMenu),this.head.appendChild(this.label);const n=document.createElement("div");this.head.appendChild(n),this.suffix=document.createElement("div"),this.suffix.className="attribute-group-close",n.appendChild(this.suffix),this.body=document.createElement("div"),this.container.appendChild(this.head),this.container.appendChild(this.body),this.attributes=[]}hide(){this.attributes.forEach(t=>t.hide()),this.container.style.display="none"}show(t){const{group:n,groupName:r,attributes:o}=t,a=o.filter(s=>s.visible).length;this.group=t,this.label.textContent=r,this.container.style.display=a?"block":"none",this.parent.activeGroups.has(n)?this.open():this.close()}open(){if(this.body.style.display="block",this.suffix.className="attribute-group-close",!this.group)return;const{attributes:t}=this.group,n=t.length-this.attributes.length;for(let r=0;r<n;r++){const o=new yS(this);this.body.appendChild(o.container),this.attributes.push(o)}this.attributes.forEach(r=>r.hide()),t.forEach((r,o)=>this.attributes[o].show(r)),this.parent.addActiveGroup(this.group.group)}close(){this.body.style.display="none",this.suffix.className="attribute-group-close attribute-group-rotate",this.group&&this.parent.removeActiveGroup(this.group.group)}dispose(){this.head.removeEventListener("click",this.onClick),this.label.removeEventListener("contextmenu",this.onContextMenu),this.attributes.forEach(t=>t.dispose()),this.container.remove(),this.attributes=[],delete this.group}}class kS{constructor(t,n){this.editor=t,this.groups=[],this.activeGroups=new Set(["base"]),this.container=n}update(t){const n=t.length-this.groups.length;for(let r=0;r<n;r++){const o=new _S(this);this.container.appendChild(o.container),this.groups.push(o)}this.groups.forEach(r=>r.hide()),t.forEach((r,o)=>this.groups[o].show(r))}setActiveGroups(t){t.forEach(n=>this.activeGroups.add(n))}addActiveGroup(t){this.activeGroups.add(t)}removeActiveGroup(t){this.activeGroups.delete(t)}dispose(){this.groups.forEach(t=>t.dispose()),this.groups=[]}}const LS=e=>{const{editor:t}=e,n=c.useRef(null);return c.useEffect(()=>{const r=new kS(t,n.current),o=()=>{const a=t.attrManager.refresh();r.update(a)};return t.bus.on("NODE_SELECT",o),t.bus.on("DESERIALIZATED",o),()=>{t.bus.off("NODE_SELECT",o),t.bus.off("DESERIALIZATED",o),r.dispose()}},[t]),F.jsxs("div",{className:fa.container,children:[F.jsxs("div",{className:fa.title,children:[F.jsx("span",{className:"iconfont icon-inspector"}),F.jsx("span",{style:{marginLeft:4,fontSize:"12px",verticalAlign:"0.2em"},children:"Inspector"})]}),F.jsx("div",{className:fa.body,ref:n})]})},zS="_container_t8w3l_1",jS="_left_t8w3l_16",BS="_right_t8w3l_20",HS="_tool_t8w3l_24",VS="_active_t8w3l_37",nr={container:zS,left:jS,right:BS,tool:HS,active:VS},KS=e=>{const{editor:t}=e,[n,r]=c.useState([]),[o,a]=c.useState([]);c.useEffect(()=>{const i=()=>{const{left:l,right:u}=t.toolManager.tools;r([...l]),a([...u])};return t.bus.on("TOOL_UPDATE",i),i(),()=>{t.bus.off("TOOL_UPDATE",i)}},[t]);const s=i=>{t.toolManager.select(i)};return F.jsxs("div",{className:nr.container,children:[F.jsx("div",{className:nr.left,children:n.map(i=>F.jsx("span",{className:`iconfont icon-${i.icon} ${nr.tool} ${i.actived?nr.active:""}`,title:i.title,onClick:()=>s(i)},i.key))}),F.jsx("div",{className:nr.right,children:o.map(i=>F.jsx("span",{className:`iconfont icon-${i.icon} ${nr.tool} ${i.actived?nr.active:""}`,title:i.title,onClick:()=>s(i)},i.key))})]})},FS="_container_1xb2c_1",WS="_title_1xb2c_12",GS="_body_1xb2c_18",ba={container:FS,title:WS,body:GS},US="_container_184ol_1",qS="_selected_184ol_10",XS="_icon_184ol_14",YS="_name_184ol_19",bo={container:US,selected:qS,icon:XS,name:YS},ZS={AmbientLight:"ambient-light",DirectionalLight:"directional-light",PerspectiveCamera:"perspective-camera",OrthographicCamera:"orthographic-camera",Plane:"plane",Box:"box",Sphere:"sphere",Cone:"cone",Cylinder:"cylinder",Pipe:"pipe",HemisphereLight:"hemisphere-light",SpotLight:"spot-light",PointLight:"point-light",Model:"model",Text:"text"},Uc=e=>{const{node:t,editor:n,level:r=0}=e,[o,a]=c.useState(!1),[s,i]=c.useState(!0);c.useEffect(()=>{const u=()=>{a(n.core.selections.some(d=>d.id===t.id))};return n.bus.on("NODE_SELECT",u),()=>{n.bus.off("NODE_SELECT",u)}},[n]);const l=()=>{n.selectionManager.setSelections([t.id])};return F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:`${bo.container} ${o?bo.selected:""}`,style:{paddingLeft:`${r*10+10}px`},onClick:l,children:[s&&t.children.length>0&&F.jsx(wf,{onClick:()=>i(!1)}),!s&&t.children.length>0&&F.jsx(am,{onClick:()=>i(!0)}),F.jsx("span",{className:`iconfont icon-${ZS[t.type]} ${bo.icon}`}),F.jsx("span",{className:bo.name,children:t.name})]}),!s&&t.children.map(u=>F.jsx(Uc,{node:u,editor:n,level:r+1},u.id))]})},QS=e=>{const{editor:t}=e,[n,r]=c.useState([]);return c.useEffect(()=>{const o=()=>{const a=t.nodeManager.refresh();r(a)};return t.bus.on("DESERIALIZATED",o),t.bus.on("NODE_ADD",o),t.bus.on("NODE_REMOVE",o),t.bus.on("NODE_MOVE",o),t.bus.on("ATTR_CHANGE",o),o(),()=>{t.bus.off("DESERIALIZATED",o),t.bus.off("NODE_ADD",o),t.bus.off("NODE_REMOVE",o),t.bus.off("NODE_MOVE",o),t.bus.off("ATTR_CHANGE",o)}},[t]),F.jsxs("div",{className:ba.container,children:[F.jsxs("div",{className:ba.title,children:[F.jsx("span",{className:"iconfont icon-hierarchy"}),F.jsx("span",{style:{marginLeft:4,fontSize:"12px",verticalAlign:"0.2em"},children:"Hierarchy"})]}),F.jsx("div",{className:ba.body,children:n.map(o=>F.jsx(Uc,{node:o,editor:t},o.id))})]})},JS=()=>{const e=navigator.userAgent.toLowerCase(),t=/macintosh|mac os x/i.test(navigator.userAgent);if(e.indexOf("win32")>=0||e.indexOf("wow32")>=0)return"win32";if(e.indexOf("win64")>=0||e.indexOf("wow64")>=0)return"win64";if(t)return"mac"},Gs=()=>JS()==="mac",cC=()=>{const[e]=Nu(),t=c.useRef(null),n=vd(t),[r,o]=c.useState(),[a,s]=c.useState(),i=c.useRef({x:0,y:0}),[l,u]=Fa.useMessage();c.useEffect(()=>{const g=e.get("id");g&&s(g)},[e]),c.useEffect(()=>{const g=new eb;return g.mount(t.current),g.active(),o(g),()=>{g.deactive(),g.unmount(),o(void 0)}},[]),c.useEffect(()=>{r==null||r.resize()},[r,n]),c.useEffect(()=>{if(!r)return;const g=y=>{l.success(y.message)};return r.bus.on("MESSAGE",g),()=>{r.bus.off("MESSAGE",g)}},[r]),c.useEffect(()=>{a&&(r==null||r.open(a))},[a,r]);const d=g=>{const{clientX:y,clientY:b}=g;if((y-i.current.x)**2+(b-i.current.y)**2>2||!r)return;const C=r.contextMenuManager.getContextMenu(Ho.HIERARCHY);C.length!==0&&Gc({event:g,items:C})},h=g=>{TS();const{clientX:y,clientY:b}=g;i.current.x=y,i.current.y=b},p=g=>{Gs()&&d(g)},f=g=>{g.preventDefault(),!Gs()&&d(g)},v=g=>{g.preventDefault()},m=g=>{r==null||r.dropManager.onDrop(g)};return F.jsxs("div",{className:xs.container,children:[u,F.jsxs(er,{separator:!0,children:[F.jsx(er.Pane,{preferredSize:"15%",maxSize:500,minSize:0,children:r&&F.jsx(QS,{editor:r})}),F.jsx(er.Pane,{preferredSize:"68%",minSize:250,children:F.jsxs(er,{vertical:!0,separator:!0,children:[F.jsx(er.Pane,{preferredSize:"75%",minSize:500,children:F.jsx("div",{className:xs.view,ref:t,onDragOver:v,onDrop:m,onPointerDown:h,onPointerUp:p,onContextMenu:f,children:r&&F.jsx(KS,{editor:r})})}),F.jsx(er.Pane,{preferredSize:"25%",minSize:0,children:F.jsx(K0,{})})]})}),F.jsx(er.Pane,{preferredSize:"17%",minSize:0,children:r&&F.jsx(LS,{editor:r})})]})]})};export{cC as default};
